{"version":3,"sources":["index.min.js"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","_defineProperties","target","props","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_typeof","obj","Symbol","iterator","constructor","prototype","home","tns","win","window","raf","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","msRequestAnimationFrame","cb","setTimeout","win$1","caf","cancelAnimationFrame","mozCancelAnimationFrame","id","clearTimeout","extend","name","copy","arguments","undefined","checkStorageValue","value","indexOf","JSON","parse","setLocalStorage","storage","access","setItem","getBody","doc","document","body","createElement","fake","docElement","documentElement","setFakeBody","docOverflow","style","overflow","background","appendChild","resetFakeBody","remove","offsetHeight","addCSSRule","sheet","selector","rules","index","insertRule","addRule","getCssRulesLength","cssRules","forEach","arr","callback","scope","l","classListSupport","hasClass","el","str","classList","contains","className","addClass","add","removeClass","replace","hasAttr","attr","hasAttribute","getAttr","getAttribute","isNodeList","item","setAttrs","els","attrs","Array","toString","setAttribute","removeAttrs","attrLength","j","removeAttribute","arrayFromNodeList","nl","push","hideElement","forceHide","display","showElement","isVisible","getComputedStyle","whichProperty","Props","charAt","toUpperCase","substr","prefix","prop","getEndProperty","propIn","propOut","endProp","test","toLowerCase","supportsPassive","opts","get","addEventListener","passiveOption","passive","addEvents","preventScrolling","option","removeEvents","removeEventListener","keys","object","hasOwnProperty","Element","this","parentNode","removeChild","options","container","mode","axis","items","gutter","edgePadding","fixedWidth","autoWidth","viewportMax","slideBy","center","controls","controlsPosition","controlsText","controlsContainer","prevButton","nextButton","nav","navPosition","navContainer","navAsThumbnails","arrowKeys","speed","autoplay","autoplayPosition","autoplayTimeout","autoplayDirection","autoplayText","autoplayHoverPause","autoplayButton","autoplayButtonOutput","autoplayResetOnVisibility","animateIn","animateOut","animateNormal","animateDelay","loop","rewind","autoHeight","responsive","lazyload","lazyloadSelector","touch","mouseDrag","swipeAngle","nested","preventActionWhenRunning","preventScrollOnTouch","freezable","onInit","useLocalStorage","nonce","KEYS","ENTER","SPACE","LEFT","RIGHT","tnsStorage","localStorageAccess","browserInfo","navigator","userAgent","uid","Date","localStorage","getItem","removeItem","CALC","div","result","val","vals","width","offsetWidth","calc","PERCENTAGELAYOUT","supported","wrapper","outer","innerHTML","Math","abs","getBoundingClientRect","left","children","count","percentageLayout","CSSMQ","matchMedia","msMatchMedia","position","rule","type","styleSheet","cssText","createTextNode","currentStyle","mediaquerySupport","TRANSFORM","HAS3DTRANSFORMS","tf","has3d","cssTF","slice","insertBefore","getPropertyValue","has3DTransforms","TRANSITIONDURATION","TRANSITIONDELAY","ANIMATIONDURATION","ANIMATIONDELAY","TRANSITIONEND","ANIMATIONEND","supportConsoleWarn","console","warn","tnsList","optionsElements","querySelector","nodeName","carousel","responsiveTem","updateOptions","middleWrapper","breakpointZone","horizontal","outerWrapper","innerWrapper","containerParent","containerHTML","outerHTML","slideItems","slideCount","windowWidth","getWindowWidth","isOn","setBreakpointZone","slidePositions","imgsComplete","liveregionCurrent","itemsMax","media","getOption","viewport","getViewportWidth","floor","fixedWidthViewportWidth","slideItemsOut","cloneCount","bp","tem","ceil","min","apply","max","getItemsMax","hasOption","slideCountNew","hasRightDeadZone","rightBoundary","getRightBoundary","updateIndexBeforeTransform","transformAttr","transformPrefix","transformPostfix","getIndexMax","getStartIndex","indexCached","indexMin","getCurrentSlide","indexMax","moveDirectionExpected","running","events","topics","on","eventName","fn","off","splice","emit","data","newContainerClasses","slideId","tnsId","disable","disabled","freeze","getFreeze","frozen","controlsEvents","click","onControlsClick","keydown","getEvent","keyIndex","keyCode","navEvents","onTransitionEnd","getTarget","navIndex","navClicked","Number","targetIndexBase","pages","targetIndex","goTo","navCurrentIndex","animating","stopAutoplay","curElement","activeElement","setFocus","navItems","hoverEvents","mouseover","stopAutoplayTimer","autoplayHoverPaused","mouseout","setAutoplayTimer","visibilityEvent","visibilitychange","hidden","autoplayVisibilityPaused","docmentKeydownEvent","touchEvents","touchstart","onPanStart","touchmove","onPanMove","touchend","onPanEnd","touchcancel","dragEvents","mousedown","mousemove","mouseup","mouseleave","hasControls","hasNav","hasAutoplay","hasTouch","hasMouseDrag","slideActiveClass","slideClonedClass","imgCompleteClass","imgEvents","load","imgLoaded","error","img","imgCompleted","preventScroll","prevIsButton","nextIsButton","controlsContainerHTML","prevButtonHTML","nextButtonHTML","navContainerHTML","getPages","pagesCached","getCurrentNavIndex","navCurrentIndexCached","navActiveClass","navStr","navStrCurrent","autoplayTimer","autoplayUserPaused","autoplayButtonHTML","autoplayHtmlStrings","translateInit","rafIndex","initPosition","lastPosition","panStart","getDist","b","x","y","resetVariblesWhenDisable","wp","aria-hidden","tabindex","fragmentBefore","createDocumentFragment","fragmentAfter","num","cloneFirst","cloneNode","firstChild","cloneLast","initStructure","fontSize","slide","marginLeft","getSlideMarginLeft","getTransitionDurationStyle","getInnerWrapperStyles","getContainerWidth","getSlideWidthStyle","getSlideGutterStyle","getAnimationDurationStyle","parseInt","middleWrapperStr","innerWrapperStr","containerStr","slideStr","itemsBP","fixedWidthBP","speedBP","edgePaddingBP","autoHeightBP","gutterBP","initSheet","initSliderTransform","updateIndex","leftEdge","rightEdge","transformCore","element","postfix","to","duration","tick","unit","from","positionTick","resetDuration","doContainerTransform","getContainerTransformValue","moveElement","updateContentWrapperHeight","eve","animateSlide","version","getInfo","info","play","startAutoplay","pause","updateSliderHeight","updateInnerWrapperHeight","refresh","destroy","ownerNode","resize","onResize","toggleAutoplay","clearInterval","htmlList","prevEl","previousElementSibling","parentEl","nextElementSibling","firstElementChild","rebuild","condition","ind","getAbsIndex","absIndex","innerWidth","clientWidth","getInsertPosition","pos","gap","getClientWidth","rect","right","ww","edgePaddingTem","gutterTem","fixedWidthTem","speedTem","gutterTemUnit","itemsTem","dividend","getCSSPrefix","substring","imgs","querySelectorAll","src","imgsLoadedCheck","getImageArray","initSliderTransformStyleCheck","doContainerTransformSilent","initTools","initEvents","stylesApplicationCheck","initSliderTransformCore","setSlidePositions","updateSlideStatus","insertAdjacentHTML","getLiveRegionStr","txt","data-action","aria-label","data-nav","aria-controls","navHtml","hiddenStr","updateNavVisibility","data-controls","isButton","updateControlsStatus","disableUI","resizeTasks","doAutoHeight","doLazyLoad","disableSlider","freezeSlider","additionalUpdates","bpChanged","breakpointZoneTem","needContainerTransform","indChanged","itemsChanged","disableTem","freezeTem","arrowKeysTem","controlsTem","navTem","touchTem","mouseDragTem","autoplayTem","autoplayHoverPauseTem","autoplayResetOnVisibilityTem","indexTem","autoHeightTem","controlsTextTem","centerTem","autoplayTextTem","classN","enableUI","enableSlider","margin","unfreezeSlider","height","html","len","updateLiveRegion","updateGallerySlidePositions","deleteRule","removeRule","removeCSSRule","vp","getVisibleSlideRange","start","end","rangestart","rangeend","parseFloat","point","cell","arg","stopPropagation","srcset","imgSelector","complete","navPrev","navCurrent","updateNavStatus","getMaxSlideHeight","slideStart","slideRange","heights","maxHeight","attr2","base","range","getLowerCaseNodeName","isAriaDisabled","disEnableElement","prevDisabled","nextDisabled","disablePrev","disableNext","getCenterGap","denominator","number","classOut","classIn","isOut","render","sliderMoved","strTrans","event","propertyName","indexGap","isNaN","factor","dir","passEventObject","targetIn","setInterval","updateAutoplayButton","action","focus","isTouchEvent","changedTouches","srcElement","preventDefaultBehavior","preventDefault","returnValue","getMoveDirectionExpected","angle","atan2","PI","direction","$","clientX","clientY","panUpdate","err","dist","percentageX","cancelable","preventClick","indexMoved","moved","rough","displayIndex","HomePage","instance","Constructor","TypeError","_classCallCheck","message","protoProps","staticProps","innerText","768","insertMessageOnHTML","mountMainSlider"],"mappings":"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","file":"index.min.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n\"use strict\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nvar tns = function () {\n  var win = window;\n\n  var raf = win.requestAnimationFrame || win.webkitRequestAnimationFrame || win.mozRequestAnimationFrame || win.msRequestAnimationFrame || function (cb) {\n    return setTimeout(cb, 16);\n  };\n\n  var win$1 = window;\n\n  var caf = win$1.cancelAnimationFrame || win$1.mozCancelAnimationFrame || function (id) {\n    clearTimeout(id);\n  };\n\n  function extend() {\n    var obj,\n        name,\n        copy,\n        target = arguments[0] || {},\n        i = 1,\n        length = arguments.length;\n\n    for (; i < length; i++) {\n      if ((obj = arguments[i]) !== null) {\n        for (name in obj) {\n          copy = obj[name];\n\n          if (target === copy) {\n            continue;\n          } else if (copy !== undefined) {\n            target[name] = copy;\n          }\n        }\n      }\n    }\n\n    return target;\n  }\n\n  function checkStorageValue(value) {\n    return ['true', 'false'].indexOf(value) >= 0 ? JSON.parse(value) : value;\n  }\n\n  function setLocalStorage(storage, key, value, access) {\n    if (access) {\n      try {\n        storage.setItem(key, value);\n      } catch (e) {}\n    }\n\n    return value;\n  }\n\n  function getSlideId() {\n    var id = window.tnsId;\n    window.tnsId = !id ? 1 : id + 1;\n    return 'tns' + window.tnsId;\n  }\n\n  function getBody() {\n    var doc = document,\n        body = doc.body;\n\n    if (!body) {\n      body = doc.createElement('body');\n      body.fake = true;\n    }\n\n    return body;\n  }\n\n  var docElement = document.documentElement;\n\n  function setFakeBody(body) {\n    var docOverflow = '';\n\n    if (body.fake) {\n      docOverflow = docElement.style.overflow; //avoid crashing IE8, if background image is used\n\n      body.style.background = ''; //Safari 5.13/5.1.4 OSX stops loading if ::-webkit-scrollbar is used and scrollbars are visible\n\n      body.style.overflow = docElement.style.overflow = 'hidden';\n      docElement.appendChild(body);\n    }\n\n    return docOverflow;\n  }\n\n  function resetFakeBody(body, docOverflow) {\n    if (body.fake) {\n      body.remove();\n      docElement.style.overflow = docOverflow; // Trigger layout so kinetic scrolling isn't disabled in iOS6+\n      // eslint-disable-next-line\n\n      docElement.offsetHeight;\n    }\n  } // get css-calc \n\n\n  function calc() {\n    var doc = document,\n        body = getBody(),\n        docOverflow = setFakeBody(body),\n        div = doc.createElement('div'),\n        result = false;\n    body.appendChild(div);\n\n    try {\n      var str = '(10px * 10)',\n          vals = ['calc' + str, '-moz-calc' + str, '-webkit-calc' + str],\n          val;\n\n      for (var i = 0; i < 3; i++) {\n        val = vals[i];\n        div.style.width = val;\n\n        if (div.offsetWidth === 100) {\n          result = val.replace(str, '');\n          break;\n        }\n      }\n    } catch (e) {}\n\n    body.fake ? resetFakeBody(body, docOverflow) : div.remove();\n    return result;\n  } // get subpixel support value\n\n\n  function percentageLayout() {\n    // check subpixel layout supporting\n    var doc = document,\n        body = getBody(),\n        docOverflow = setFakeBody(body),\n        wrapper = doc.createElement('div'),\n        outer = doc.createElement('div'),\n        str = '',\n        count = 70,\n        perPage = 3,\n        supported = false;\n    wrapper.className = \"tns-t-subp2\";\n    outer.className = \"tns-t-ct\";\n\n    for (var i = 0; i < count; i++) {\n      str += '<div></div>';\n    }\n\n    outer.innerHTML = str;\n    wrapper.appendChild(outer);\n    body.appendChild(wrapper);\n    supported = Math.abs(wrapper.getBoundingClientRect().left - outer.children[count - perPage].getBoundingClientRect().left) < 2;\n    body.fake ? resetFakeBody(body, docOverflow) : wrapper.remove();\n    return supported;\n  }\n\n  function mediaquerySupport() {\n    if (window.matchMedia || window.msMatchMedia) {\n      return true;\n    }\n\n    var doc = document,\n        body = getBody(),\n        docOverflow = setFakeBody(body),\n        div = doc.createElement('div'),\n        style = doc.createElement('style'),\n        rule = '@media all and (min-width:1px){.tns-mq-test{position:absolute}}',\n        position;\n    style.type = 'text/css';\n    div.className = 'tns-mq-test';\n    body.appendChild(style);\n    body.appendChild(div);\n\n    if (style.styleSheet) {\n      style.styleSheet.cssText = rule;\n    } else {\n      style.appendChild(doc.createTextNode(rule));\n    }\n\n    position = window.getComputedStyle ? window.getComputedStyle(div).position : div.currentStyle['position'];\n    body.fake ? resetFakeBody(body, docOverflow) : div.remove();\n    return position === \"absolute\";\n  } // create and append style sheet\n\n\n  function createStyleSheet(media, nonce) {\n    // Create the <style> tag\n    var style = document.createElement(\"style\"); // style.setAttribute(\"type\", \"text/css\");\n    // Add a media (and/or media query) here if you'd like!\n    // style.setAttribute(\"media\", \"screen\")\n    // style.setAttribute(\"media\", \"only screen and (max-width : 1024px)\")\n\n    if (media) {\n      style.setAttribute(\"media\", media);\n    } // Add nonce attribute for Content Security Policy\n\n\n    if (nonce) {\n      style.setAttribute(\"nonce\", nonce);\n    } // WebKit hack :(\n    // style.appendChild(document.createTextNode(\"\"));\n    // Add the <style> element to the page\n\n\n    document.querySelector('head').appendChild(style);\n    return style.sheet ? style.sheet : style.styleSheet;\n  } // cross browsers addRule method\n\n\n  function addCSSRule(sheet, selector, rules, index) {\n    // return raf(function() {\n    'insertRule' in sheet ? sheet.insertRule(selector + '{' + rules + '}', index) : sheet.addRule(selector, rules, index); // });\n  } // cross browsers addRule method\n\n\n  function removeCSSRule(sheet, index) {\n    // return raf(function() {\n    'deleteRule' in sheet ? sheet.deleteRule(index) : sheet.removeRule(index); // });\n  }\n\n  function getCssRulesLength(sheet) {\n    var rule = 'insertRule' in sheet ? sheet.cssRules : sheet.rules;\n    return rule.length;\n  }\n\n  function toDegree(y, x) {\n    return Math.atan2(y, x) * (180 / Math.PI);\n  }\n\n  function getTouchDirection(angle, range) {\n    var direction = false,\n        gap = Math.abs(90 - Math.abs(angle));\n\n    if (gap >= 90 - range) {\n      direction = 'horizontal';\n    } else if (gap <= range) {\n      direction = 'vertical';\n    }\n\n    return direction;\n  } // https://toddmotto.com/ditch-the-array-foreach-call-nodelist-hack/\n\n\n  function forEach(arr, callback, scope) {\n    for (var i = 0, l = arr.length; i < l; i++) {\n      callback.call(scope, arr[i], i);\n    }\n  }\n\n  var classListSupport = ('classList' in document.createElement('_'));\n  var hasClass = classListSupport ? function (el, str) {\n    return el.classList.contains(str);\n  } : function (el, str) {\n    return el.className.indexOf(str) >= 0;\n  };\n  var addClass = classListSupport ? function (el, str) {\n    if (!hasClass(el, str)) {\n      el.classList.add(str);\n    }\n  } : function (el, str) {\n    if (!hasClass(el, str)) {\n      el.className += ' ' + str;\n    }\n  };\n  var removeClass = classListSupport ? function (el, str) {\n    if (hasClass(el, str)) {\n      el.classList.remove(str);\n    }\n  } : function (el, str) {\n    if (hasClass(el, str)) {\n      el.className = el.className.replace(str, '');\n    }\n  };\n\n  function hasAttr(el, attr) {\n    return el.hasAttribute(attr);\n  }\n\n  function getAttr(el, attr) {\n    return el.getAttribute(attr);\n  }\n\n  function isNodeList(el) {\n    // Only NodeList has the \"item()\" function\n    return typeof el.item !== \"undefined\";\n  }\n\n  function setAttrs(els, attrs) {\n    els = isNodeList(els) || els instanceof Array ? els : [els];\n\n    if (Object.prototype.toString.call(attrs) !== '[object Object]') {\n      return;\n    }\n\n    for (var i = els.length; i--;) {\n      for (var key in attrs) {\n        els[i].setAttribute(key, attrs[key]);\n      }\n    }\n  }\n\n  function removeAttrs(els, attrs) {\n    els = isNodeList(els) || els instanceof Array ? els : [els];\n    attrs = attrs instanceof Array ? attrs : [attrs];\n    var attrLength = attrs.length;\n\n    for (var i = els.length; i--;) {\n      for (var j = attrLength; j--;) {\n        els[i].removeAttribute(attrs[j]);\n      }\n    }\n  }\n\n  function arrayFromNodeList(nl) {\n    var arr = [];\n\n    for (var i = 0, l = nl.length; i < l; i++) {\n      arr.push(nl[i]);\n    }\n\n    return arr;\n  }\n\n  function hideElement(el, forceHide) {\n    if (el.style.display !== 'none') {\n      el.style.display = 'none';\n    }\n  }\n\n  function showElement(el, forceHide) {\n    if (el.style.display === 'none') {\n      el.style.display = '';\n    }\n  }\n\n  function isVisible(el) {\n    return window.getComputedStyle(el).display !== 'none';\n  }\n\n  function whichProperty(props) {\n    if (typeof props === 'string') {\n      var arr = [props],\n          Props = props.charAt(0).toUpperCase() + props.substr(1),\n          prefixes = ['Webkit', 'Moz', 'ms', 'O'];\n      prefixes.forEach(function (prefix) {\n        if (prefix !== 'ms' || props === 'transform') {\n          arr.push(prefix + Props);\n        }\n      });\n      props = arr;\n    }\n\n    var el = document.createElement('fakeelement'),\n        len = props.length;\n\n    for (var i = 0; i < props.length; i++) {\n      var prop = props[i];\n\n      if (el.style[prop] !== undefined) {\n        return prop;\n      }\n    }\n\n    return false; // explicit for ie9-\n  }\n\n  function has3DTransforms(tf) {\n    if (!tf) {\n      return false;\n    }\n\n    if (!window.getComputedStyle) {\n      return false;\n    }\n\n    var doc = document,\n        body = getBody(),\n        docOverflow = setFakeBody(body),\n        el = doc.createElement('p'),\n        has3d,\n        cssTF = tf.length > 9 ? '-' + tf.slice(0, -9).toLowerCase() + '-' : '';\n    cssTF += 'transform'; // Add it to the body to get the computed style\n\n    body.insertBefore(el, null);\n    el.style[tf] = 'translate3d(1px,1px,1px)';\n    has3d = window.getComputedStyle(el).getPropertyValue(cssTF);\n    body.fake ? resetFakeBody(body, docOverflow) : el.remove();\n    return has3d !== undefined && has3d.length > 0 && has3d !== \"none\";\n  } // get transitionend, animationend based on transitionDuration\n  // @propin: string\n  // @propOut: string, first-letter uppercase\n  // Usage: getEndProperty('WebkitTransitionDuration', 'Transition') => webkitTransitionEnd\n\n\n  function getEndProperty(propIn, propOut) {\n    var endProp = false;\n\n    if (/^Webkit/.test(propIn)) {\n      endProp = 'webkit' + propOut + 'End';\n    } else if (/^O/.test(propIn)) {\n      endProp = 'o' + propOut + 'End';\n    } else if (propIn) {\n      endProp = propOut.toLowerCase() + 'end';\n    }\n\n    return endProp;\n  } // Test via a getter in the options object to see if the passive property is accessed\n\n\n  var supportsPassive = false;\n\n  try {\n    var opts = Object.defineProperty({}, 'passive', {\n      get: function get() {\n        supportsPassive = true;\n      }\n    });\n    window.addEventListener(\"test\", null, opts);\n  } catch (e) {}\n\n  var passiveOption = supportsPassive ? {\n    passive: true\n  } : false;\n\n  function addEvents(el, obj, preventScrolling) {\n    for (var prop in obj) {\n      var option = ['touchstart', 'touchmove'].indexOf(prop) >= 0 && !preventScrolling ? passiveOption : false;\n      el.addEventListener(prop, obj[prop], option);\n    }\n  }\n\n  function removeEvents(el, obj) {\n    for (var prop in obj) {\n      var option = ['touchstart', 'touchmove'].indexOf(prop) >= 0 ? passiveOption : false;\n      el.removeEventListener(prop, obj[prop], option);\n    }\n  }\n\n  function Events() {\n    return {\n      topics: {},\n      on: function on(eventName, fn) {\n        this.topics[eventName] = this.topics[eventName] || [];\n        this.topics[eventName].push(fn);\n      },\n      off: function off(eventName, fn) {\n        if (this.topics[eventName]) {\n          for (var i = 0; i < this.topics[eventName].length; i++) {\n            if (this.topics[eventName][i] === fn) {\n              this.topics[eventName].splice(i, 1);\n              break;\n            }\n          }\n        }\n      },\n      emit: function emit(eventName, data) {\n        data.type = eventName;\n\n        if (this.topics[eventName]) {\n          this.topics[eventName].forEach(function (fn) {\n            fn(data, eventName);\n          });\n        }\n      }\n    };\n  }\n\n  function jsTransform(element, attr, prefix, postfix, to, duration, callback) {\n    var tick = Math.min(duration, 10),\n        unit = to.indexOf('%') >= 0 ? '%' : 'px',\n        to = to.replace(unit, ''),\n        from = Number(element.style[attr].replace(prefix, '').replace(postfix, '').replace(unit, '')),\n        positionTick = (to - from) / duration * tick,\n        running;\n    setTimeout(moveElement, tick);\n\n    function moveElement() {\n      duration -= tick;\n      from += positionTick;\n      element.style[attr] = prefix + from + unit + postfix;\n\n      if (duration > 0) {\n        setTimeout(moveElement, tick);\n      } else {\n        callback();\n      }\n    }\n  } // Object.keys\n\n\n  if (!Object.keys) {\n    Object.keys = function (object) {\n      var keys = [];\n\n      for (var name in object) {\n        if (Object.prototype.hasOwnProperty.call(object, name)) {\n          keys.push(name);\n        }\n      }\n\n      return keys;\n    };\n  } // ChildNode.remove\n\n\n  if (!(\"remove\" in Element.prototype)) {\n    Element.prototype.remove = function () {\n      if (this.parentNode) {\n        this.parentNode.removeChild(this);\n      }\n    };\n  }\n\n  var tns = function tns(options) {\n    options = extend({\n      container: '.slider',\n      mode: 'carousel',\n      axis: 'horizontal',\n      items: 1,\n      gutter: 0,\n      edgePadding: 0,\n      fixedWidth: false,\n      autoWidth: false,\n      viewportMax: false,\n      slideBy: 1,\n      center: false,\n      controls: true,\n      controlsPosition: 'top',\n      controlsText: ['prev', 'next'],\n      controlsContainer: false,\n      prevButton: false,\n      nextButton: false,\n      nav: true,\n      navPosition: 'top',\n      navContainer: false,\n      navAsThumbnails: false,\n      arrowKeys: false,\n      speed: 300,\n      autoplay: false,\n      autoplayPosition: 'top',\n      autoplayTimeout: 5000,\n      autoplayDirection: 'forward',\n      autoplayText: ['start', 'stop'],\n      autoplayHoverPause: false,\n      autoplayButton: false,\n      autoplayButtonOutput: true,\n      autoplayResetOnVisibility: true,\n      animateIn: 'tns-fadeIn',\n      animateOut: 'tns-fadeOut',\n      animateNormal: 'tns-normal',\n      animateDelay: false,\n      loop: true,\n      rewind: false,\n      autoHeight: false,\n      responsive: false,\n      lazyload: false,\n      lazyloadSelector: '.tns-lazy-img',\n      touch: true,\n      mouseDrag: false,\n      swipeAngle: 15,\n      nested: false,\n      preventActionWhenRunning: false,\n      preventScrollOnTouch: false,\n      freezable: true,\n      onInit: false,\n      useLocalStorage: true,\n      nonce: false\n    }, options || {});\n    var doc = document,\n        win = window,\n        KEYS = {\n      ENTER: 13,\n      SPACE: 32,\n      LEFT: 37,\n      RIGHT: 39\n    },\n        tnsStorage = {},\n        localStorageAccess = options.useLocalStorage;\n\n    if (localStorageAccess) {\n      // check browser version and local storage access\n      var browserInfo = navigator.userAgent;\n      var uid = new Date();\n\n      try {\n        tnsStorage = win.localStorage;\n\n        if (tnsStorage) {\n          tnsStorage.setItem(uid, uid);\n          localStorageAccess = tnsStorage.getItem(uid) == uid;\n          tnsStorage.removeItem(uid);\n        } else {\n          localStorageAccess = false;\n        }\n\n        if (!localStorageAccess) {\n          tnsStorage = {};\n        }\n      } catch (e) {\n        localStorageAccess = false;\n      }\n\n      if (localStorageAccess) {\n        // remove storage when browser version changes\n        if (tnsStorage['tnsApp'] && tnsStorage['tnsApp'] !== browserInfo) {\n          ['tC', 'tPL', 'tMQ', 'tTf', 't3D', 'tTDu', 'tTDe', 'tADu', 'tADe', 'tTE', 'tAE'].forEach(function (item) {\n            tnsStorage.removeItem(item);\n          });\n        } // update browserInfo\n\n\n        localStorage['tnsApp'] = browserInfo;\n      }\n    }\n\n    var CALC = tnsStorage['tC'] ? checkStorageValue(tnsStorage['tC']) : setLocalStorage(tnsStorage, 'tC', calc(), localStorageAccess),\n        PERCENTAGELAYOUT = tnsStorage['tPL'] ? checkStorageValue(tnsStorage['tPL']) : setLocalStorage(tnsStorage, 'tPL', percentageLayout(), localStorageAccess),\n        CSSMQ = tnsStorage['tMQ'] ? checkStorageValue(tnsStorage['tMQ']) : setLocalStorage(tnsStorage, 'tMQ', mediaquerySupport(), localStorageAccess),\n        TRANSFORM = tnsStorage['tTf'] ? checkStorageValue(tnsStorage['tTf']) : setLocalStorage(tnsStorage, 'tTf', whichProperty('transform'), localStorageAccess),\n        HAS3DTRANSFORMS = tnsStorage['t3D'] ? checkStorageValue(tnsStorage['t3D']) : setLocalStorage(tnsStorage, 't3D', has3DTransforms(TRANSFORM), localStorageAccess),\n        TRANSITIONDURATION = tnsStorage['tTDu'] ? checkStorageValue(tnsStorage['tTDu']) : setLocalStorage(tnsStorage, 'tTDu', whichProperty('transitionDuration'), localStorageAccess),\n        TRANSITIONDELAY = tnsStorage['tTDe'] ? checkStorageValue(tnsStorage['tTDe']) : setLocalStorage(tnsStorage, 'tTDe', whichProperty('transitionDelay'), localStorageAccess),\n        ANIMATIONDURATION = tnsStorage['tADu'] ? checkStorageValue(tnsStorage['tADu']) : setLocalStorage(tnsStorage, 'tADu', whichProperty('animationDuration'), localStorageAccess),\n        ANIMATIONDELAY = tnsStorage['tADe'] ? checkStorageValue(tnsStorage['tADe']) : setLocalStorage(tnsStorage, 'tADe', whichProperty('animationDelay'), localStorageAccess),\n        TRANSITIONEND = tnsStorage['tTE'] ? checkStorageValue(tnsStorage['tTE']) : setLocalStorage(tnsStorage, 'tTE', getEndProperty(TRANSITIONDURATION, 'Transition'), localStorageAccess),\n        ANIMATIONEND = tnsStorage['tAE'] ? checkStorageValue(tnsStorage['tAE']) : setLocalStorage(tnsStorage, 'tAE', getEndProperty(ANIMATIONDURATION, 'Animation'), localStorageAccess); // get element nodes from selectors\n\n    var supportConsoleWarn = win.console && typeof win.console.warn === \"function\",\n        tnsList = ['container', 'controlsContainer', 'prevButton', 'nextButton', 'navContainer', 'autoplayButton'],\n        optionsElements = {};\n    tnsList.forEach(function (item) {\n      if (typeof options[item] === 'string') {\n        var str = options[item],\n            el = doc.querySelector(str);\n        optionsElements[item] = str;\n\n        if (el && el.nodeName) {\n          options[item] = el;\n        } else {\n          if (supportConsoleWarn) {\n            console.warn('Can\\'t find', options[item]);\n          }\n\n          return;\n        }\n      }\n    }); // make sure at least 1 slide\n\n    if (options.container.children.length < 1) {\n      if (supportConsoleWarn) {\n        console.warn('No slides found in', options.container);\n      }\n\n      return;\n    } // update options\n\n\n    var responsive = options.responsive,\n        nested = options.nested,\n        carousel = options.mode === 'carousel' ? true : false;\n\n    if (responsive) {\n      // apply responsive[0] to options and remove it\n      if (0 in responsive) {\n        options = extend(options, responsive[0]);\n        delete responsive[0];\n      }\n\n      var responsiveTem = {};\n\n      for (var key in responsive) {\n        var val = responsive[key]; // update responsive\n        // from: 300: 2\n        // to:\n        //   300: {\n        //     items: 2\n        //   }\n\n        val = typeof val === 'number' ? {\n          items: val\n        } : val;\n        responsiveTem[key] = val;\n      }\n\n      responsive = responsiveTem;\n      responsiveTem = null;\n    } // update options\n\n\n    function updateOptions(obj) {\n      for (var key in obj) {\n        if (!carousel) {\n          if (key === 'slideBy') {\n            obj[key] = 'page';\n          }\n\n          if (key === 'edgePadding') {\n            obj[key] = false;\n          }\n\n          if (key === 'autoHeight') {\n            obj[key] = false;\n          }\n        } // update responsive options\n\n\n        if (key === 'responsive') {\n          updateOptions(obj[key]);\n        }\n      }\n    }\n\n    if (!carousel) {\n      updateOptions(options);\n    } // === define and set variables ===\n\n\n    if (!carousel) {\n      options.axis = 'horizontal';\n      options.slideBy = 'page';\n      options.edgePadding = false;\n      var animateIn = options.animateIn,\n          animateOut = options.animateOut,\n          animateDelay = options.animateDelay,\n          animateNormal = options.animateNormal;\n    }\n\n    var horizontal = options.axis === 'horizontal' ? true : false,\n        outerWrapper = doc.createElement('div'),\n        innerWrapper = doc.createElement('div'),\n        middleWrapper,\n        container = options.container,\n        containerParent = container.parentNode,\n        containerHTML = container.outerHTML,\n        slideItems = container.children,\n        slideCount = slideItems.length,\n        breakpointZone,\n        windowWidth = getWindowWidth(),\n        isOn = false;\n\n    if (responsive) {\n      setBreakpointZone();\n    }\n\n    if (carousel) {\n      container.className += ' tns-vpfix';\n    } // fixedWidth: viewport > rightBoundary > indexMax\n\n\n    var autoWidth = options.autoWidth,\n        fixedWidth = getOption('fixedWidth'),\n        edgePadding = getOption('edgePadding'),\n        gutter = getOption('gutter'),\n        viewport = getViewportWidth(),\n        center = getOption('center'),\n        items = !autoWidth ? Math.floor(getOption('items')) : 1,\n        slideBy = getOption('slideBy'),\n        viewportMax = options.viewportMax || options.fixedWidthViewportWidth,\n        arrowKeys = getOption('arrowKeys'),\n        speed = getOption('speed'),\n        rewind = options.rewind,\n        loop = rewind ? false : options.loop,\n        autoHeight = getOption('autoHeight'),\n        controls = getOption('controls'),\n        controlsText = getOption('controlsText'),\n        nav = getOption('nav'),\n        touch = getOption('touch'),\n        mouseDrag = getOption('mouseDrag'),\n        autoplay = getOption('autoplay'),\n        autoplayTimeout = getOption('autoplayTimeout'),\n        autoplayText = getOption('autoplayText'),\n        autoplayHoverPause = getOption('autoplayHoverPause'),\n        autoplayResetOnVisibility = getOption('autoplayResetOnVisibility'),\n        sheet = createStyleSheet(null, getOption('nonce')),\n        lazyload = options.lazyload,\n        lazyloadSelector = options.lazyloadSelector,\n        slidePositions,\n        // collection of slide positions\n    slideItemsOut = [],\n        cloneCount = loop ? getCloneCountForLoop() : 0,\n        slideCountNew = !carousel ? slideCount + cloneCount : slideCount + cloneCount * 2,\n        hasRightDeadZone = (fixedWidth || autoWidth) && !loop ? true : false,\n        rightBoundary = fixedWidth ? getRightBoundary() : null,\n        updateIndexBeforeTransform = !carousel || !loop ? true : false,\n        // transform\n    transformAttr = horizontal ? 'left' : 'top',\n        transformPrefix = '',\n        transformPostfix = '',\n        // index\n    getIndexMax = function () {\n      if (fixedWidth) {\n        return function () {\n          return center && !loop ? slideCount - 1 : Math.ceil(-rightBoundary / (fixedWidth + gutter));\n        };\n      } else if (autoWidth) {\n        return function () {\n          for (var i = 0; i < slideCountNew; i++) {\n            if (slidePositions[i] >= -rightBoundary) {\n              return i;\n            }\n          }\n        };\n      } else {\n        return function () {\n          if (center && carousel && !loop) {\n            return slideCount - 1;\n          } else {\n            return loop || carousel ? Math.max(0, slideCountNew - Math.ceil(items)) : slideCountNew - 1;\n          }\n        };\n      }\n    }(),\n        index = getStartIndex(getOption('startIndex')),\n        indexCached = index,\n        displayIndex = getCurrentSlide(),\n        indexMin = 0,\n        indexMax = !autoWidth ? getIndexMax() : null,\n        // resize\n    resizeTimer,\n        preventActionWhenRunning = options.preventActionWhenRunning,\n        swipeAngle = options.swipeAngle,\n        moveDirectionExpected = swipeAngle ? '?' : true,\n        running = false,\n        onInit = options.onInit,\n        events = new Events(),\n        // id, class\n    newContainerClasses = ' tns-slider tns-' + options.mode,\n        slideId = container.id || getSlideId(),\n        disable = getOption('disable'),\n        disabled = false,\n        freezable = options.freezable,\n        freeze = freezable && !autoWidth ? getFreeze() : false,\n        frozen = false,\n        controlsEvents = {\n      'click': onControlsClick,\n      'keydown': onControlsKeydown\n    },\n        navEvents = {\n      'click': onNavClick,\n      'keydown': onNavKeydown\n    },\n        hoverEvents = {\n      'mouseover': mouseoverPause,\n      'mouseout': mouseoutRestart\n    },\n        visibilityEvent = {\n      'visibilitychange': onVisibilityChange\n    },\n        docmentKeydownEvent = {\n      'keydown': onDocumentKeydown\n    },\n        touchEvents = {\n      'touchstart': onPanStart,\n      'touchmove': onPanMove,\n      'touchend': onPanEnd,\n      'touchcancel': onPanEnd\n    },\n        dragEvents = {\n      'mousedown': onPanStart,\n      'mousemove': onPanMove,\n      'mouseup': onPanEnd,\n      'mouseleave': onPanEnd\n    },\n        hasControls = hasOption('controls'),\n        hasNav = hasOption('nav'),\n        navAsThumbnails = autoWidth ? true : options.navAsThumbnails,\n        hasAutoplay = hasOption('autoplay'),\n        hasTouch = hasOption('touch'),\n        hasMouseDrag = hasOption('mouseDrag'),\n        slideActiveClass = 'tns-slide-active',\n        slideClonedClass = 'tns-slide-cloned',\n        imgCompleteClass = 'tns-complete',\n        imgEvents = {\n      'load': onImgLoaded,\n      'error': onImgFailed\n    },\n        imgsComplete,\n        liveregionCurrent,\n        preventScroll = options.preventScrollOnTouch === 'force' ? true : false; // controls\n\n\n    if (hasControls) {\n      var controlsContainer = options.controlsContainer,\n          controlsContainerHTML = options.controlsContainer ? options.controlsContainer.outerHTML : '',\n          prevButton = options.prevButton,\n          nextButton = options.nextButton,\n          prevButtonHTML = options.prevButton ? options.prevButton.outerHTML : '',\n          nextButtonHTML = options.nextButton ? options.nextButton.outerHTML : '',\n          prevIsButton,\n          nextIsButton;\n    } // nav\n\n\n    if (hasNav) {\n      var navContainer = options.navContainer,\n          navContainerHTML = options.navContainer ? options.navContainer.outerHTML : '',\n          navItems,\n          pages = autoWidth ? slideCount : getPages(),\n          pagesCached = 0,\n          navClicked = -1,\n          navCurrentIndex = getCurrentNavIndex(),\n          navCurrentIndexCached = navCurrentIndex,\n          navActiveClass = 'tns-nav-active',\n          navStr = 'Carousel Page ',\n          navStrCurrent = ' (Current Slide)';\n    } // autoplay\n\n\n    if (hasAutoplay) {\n      var autoplayDirection = options.autoplayDirection === 'forward' ? 1 : -1,\n          autoplayButton = options.autoplayButton,\n          autoplayButtonHTML = options.autoplayButton ? options.autoplayButton.outerHTML : '',\n          autoplayHtmlStrings = ['<span class=\\'tns-visually-hidden\\'>', ' animation</span>'],\n          autoplayTimer,\n          animating,\n          autoplayHoverPaused,\n          autoplayUserPaused,\n          autoplayVisibilityPaused;\n    }\n\n    if (hasTouch || hasMouseDrag) {\n      var initPosition = {},\n          lastPosition = {},\n          translateInit,\n          disX,\n          disY,\n          panStart = false,\n          rafIndex,\n          getDist = horizontal ? function (a, b) {\n        return a.x - b.x;\n      } : function (a, b) {\n        return a.y - b.y;\n      };\n    } // disable slider when slidecount <= items\n\n\n    if (!autoWidth) {\n      resetVariblesWhenDisable(disable || freeze);\n    }\n\n    if (TRANSFORM) {\n      transformAttr = TRANSFORM;\n      transformPrefix = 'translate';\n\n      if (HAS3DTRANSFORMS) {\n        transformPrefix += horizontal ? '3d(' : '3d(0px, ';\n        transformPostfix = horizontal ? ', 0px, 0px)' : ', 0px)';\n      } else {\n        transformPrefix += horizontal ? 'X(' : 'Y(';\n        transformPostfix = ')';\n      }\n    }\n\n    if (carousel) {\n      container.className = container.className.replace('tns-vpfix', '');\n    }\n\n    initStructure();\n    initSheet();\n    initSliderTransform(); // === COMMON FUNCTIONS === //\n\n    function resetVariblesWhenDisable(condition) {\n      if (condition) {\n        controls = nav = touch = mouseDrag = arrowKeys = autoplay = autoplayHoverPause = autoplayResetOnVisibility = false;\n      }\n    }\n\n    function getCurrentSlide() {\n      var tem = carousel ? index - cloneCount : index;\n\n      while (tem < 0) {\n        tem += slideCount;\n      }\n\n      return tem % slideCount + 1;\n    }\n\n    function getStartIndex(ind) {\n      ind = ind ? Math.max(0, Math.min(loop ? slideCount - 1 : slideCount - items, ind)) : 0;\n      return carousel ? ind + cloneCount : ind;\n    }\n\n    function getAbsIndex(i) {\n      if (i == null) {\n        i = index;\n      }\n\n      if (carousel) {\n        i -= cloneCount;\n      }\n\n      while (i < 0) {\n        i += slideCount;\n      }\n\n      return Math.floor(i % slideCount);\n    }\n\n    function getCurrentNavIndex() {\n      var absIndex = getAbsIndex(),\n          result;\n      result = navAsThumbnails ? absIndex : fixedWidth || autoWidth ? Math.ceil((absIndex + 1) * pages / slideCount - 1) : Math.floor(absIndex / items); // set active nav to the last one when reaches the right edge\n\n      if (!loop && carousel && index === indexMax) {\n        result = pages - 1;\n      }\n\n      return result;\n    }\n\n    function getItemsMax() {\n      // fixedWidth or autoWidth while viewportMax is not available\n      if (autoWidth || fixedWidth && !viewportMax) {\n        return slideCount - 1; // most cases\n      } else {\n        var str = fixedWidth ? 'fixedWidth' : 'items',\n            arr = [];\n\n        if (fixedWidth || options[str] < slideCount) {\n          arr.push(options[str]);\n        }\n\n        if (responsive) {\n          for (var bp in responsive) {\n            var tem = responsive[bp][str];\n\n            if (tem && (fixedWidth || tem < slideCount)) {\n              arr.push(tem);\n            }\n          }\n        }\n\n        if (!arr.length) {\n          arr.push(0);\n        }\n\n        return Math.ceil(fixedWidth ? viewportMax / Math.min.apply(null, arr) : Math.max.apply(null, arr));\n      }\n    }\n\n    function getCloneCountForLoop() {\n      var itemsMax = getItemsMax(),\n          result = carousel ? Math.ceil((itemsMax * 5 - slideCount) / 2) : itemsMax * 4 - slideCount;\n      result = Math.max(itemsMax, result);\n      return hasOption('edgePadding') ? result + 1 : result;\n    }\n\n    function getWindowWidth() {\n      return win.innerWidth || doc.documentElement.clientWidth || doc.body.clientWidth;\n    }\n\n    function getInsertPosition(pos) {\n      return pos === 'top' ? 'afterbegin' : 'beforeend';\n    }\n\n    function getClientWidth(el) {\n      if (el == null) {\n        return;\n      }\n\n      var div = doc.createElement('div'),\n          rect,\n          width;\n      el.appendChild(div);\n      rect = div.getBoundingClientRect();\n      width = rect.right - rect.left;\n      div.remove();\n      return width || getClientWidth(el.parentNode);\n    }\n\n    function getViewportWidth() {\n      var gap = edgePadding ? edgePadding * 2 - gutter : 0;\n      return getClientWidth(containerParent) - gap;\n    }\n\n    function hasOption(item) {\n      if (options[item]) {\n        return true;\n      } else {\n        if (responsive) {\n          for (var bp in responsive) {\n            if (responsive[bp][item]) {\n              return true;\n            }\n          }\n        }\n\n        return false;\n      }\n    } // get option:\n    // fixed width: viewport, fixedWidth, gutter => items\n    // others: window width => all variables\n    // all: items => slideBy\n\n\n    function getOption(item, ww) {\n      if (ww == null) {\n        ww = windowWidth;\n      }\n\n      if (item === 'items' && fixedWidth) {\n        return Math.floor((viewport + gutter) / (fixedWidth + gutter)) || 1;\n      } else {\n        var result = options[item];\n\n        if (responsive) {\n          for (var bp in responsive) {\n            // bp: convert string to number\n            if (ww >= parseInt(bp)) {\n              if (item in responsive[bp]) {\n                result = responsive[bp][item];\n              }\n            }\n          }\n        }\n\n        if (item === 'slideBy' && result === 'page') {\n          result = getOption('items');\n        }\n\n        if (!carousel && (item === 'slideBy' || item === 'items')) {\n          result = Math.floor(result);\n        }\n\n        return result;\n      }\n    }\n\n    function getSlideMarginLeft(i) {\n      return CALC ? CALC + '(' + i * 100 + '% / ' + slideCountNew + ')' : i * 100 / slideCountNew + '%';\n    }\n\n    function getInnerWrapperStyles(edgePaddingTem, gutterTem, fixedWidthTem, speedTem, autoHeightBP) {\n      var str = '';\n\n      if (edgePaddingTem !== undefined) {\n        var gap = edgePaddingTem;\n\n        if (gutterTem) {\n          gap -= gutterTem;\n        }\n\n        str = horizontal ? 'margin: 0 ' + gap + 'px 0 ' + edgePaddingTem + 'px;' : 'margin: ' + edgePaddingTem + 'px 0 ' + gap + 'px 0;';\n      } else if (gutterTem && !fixedWidthTem) {\n        var gutterTemUnit = '-' + gutterTem + 'px',\n            dir = horizontal ? gutterTemUnit + ' 0 0' : '0 ' + gutterTemUnit + ' 0';\n        str = 'margin: 0 ' + dir + ';';\n      }\n\n      if (!carousel && autoHeightBP && TRANSITIONDURATION && speedTem) {\n        str += getTransitionDurationStyle(speedTem);\n      }\n\n      return str;\n    }\n\n    function getContainerWidth(fixedWidthTem, gutterTem, itemsTem) {\n      if (fixedWidthTem) {\n        return (fixedWidthTem + gutterTem) * slideCountNew + 'px';\n      } else {\n        return CALC ? CALC + '(' + slideCountNew * 100 + '% / ' + itemsTem + ')' : slideCountNew * 100 / itemsTem + '%';\n      }\n    }\n\n    function getSlideWidthStyle(fixedWidthTem, gutterTem, itemsTem) {\n      var width;\n\n      if (fixedWidthTem) {\n        width = fixedWidthTem + gutterTem + 'px';\n      } else {\n        if (!carousel) {\n          itemsTem = Math.floor(itemsTem);\n        }\n\n        var dividend = carousel ? slideCountNew : itemsTem;\n        width = CALC ? CALC + '(100% / ' + dividend + ')' : 100 / dividend + '%';\n      }\n\n      width = 'width:' + width; // inner slider: overwrite outer slider styles\n\n      return nested !== 'inner' ? width + ';' : width + ' !important;';\n    }\n\n    function getSlideGutterStyle(gutterTem) {\n      var str = ''; // gutter maybe interger || 0\n      // so can't use 'if (gutter)'\n\n      if (gutterTem !== false) {\n        var prop = horizontal ? 'padding-' : 'margin-',\n            dir = horizontal ? 'right' : 'bottom';\n        str = prop + dir + ': ' + gutterTem + 'px;';\n      }\n\n      return str;\n    }\n\n    function getCSSPrefix(name, num) {\n      var prefix = name.substring(0, name.length - num).toLowerCase();\n\n      if (prefix) {\n        prefix = '-' + prefix + '-';\n      }\n\n      return prefix;\n    }\n\n    function getTransitionDurationStyle(speed) {\n      return getCSSPrefix(TRANSITIONDURATION, 18) + 'transition-duration:' + speed / 1000 + 's;';\n    }\n\n    function getAnimationDurationStyle(speed) {\n      return getCSSPrefix(ANIMATIONDURATION, 17) + 'animation-duration:' + speed / 1000 + 's;';\n    }\n\n    function initStructure() {\n      var classOuter = 'tns-outer',\n          classInner = 'tns-inner',\n          hasGutter = hasOption('gutter');\n      outerWrapper.className = classOuter;\n      innerWrapper.className = classInner;\n      outerWrapper.id = slideId + '-ow';\n      innerWrapper.id = slideId + '-iw'; // set container properties\n\n      if (container.id === '') {\n        container.id = slideId;\n      }\n\n      newContainerClasses += PERCENTAGELAYOUT || autoWidth ? ' tns-subpixel' : ' tns-no-subpixel';\n      newContainerClasses += CALC ? ' tns-calc' : ' tns-no-calc';\n\n      if (autoWidth) {\n        newContainerClasses += ' tns-autowidth';\n      }\n\n      newContainerClasses += ' tns-' + options.axis;\n      container.className += newContainerClasses; // add constrain layer for carousel\n\n      if (carousel) {\n        middleWrapper = doc.createElement('div');\n        middleWrapper.id = slideId + '-mw';\n        middleWrapper.className = 'tns-ovh';\n        outerWrapper.appendChild(middleWrapper);\n        middleWrapper.appendChild(innerWrapper);\n      } else {\n        outerWrapper.appendChild(innerWrapper);\n      }\n\n      if (autoHeight) {\n        var wp = middleWrapper ? middleWrapper : innerWrapper;\n        wp.className += ' tns-ah';\n      }\n\n      containerParent.insertBefore(outerWrapper, container);\n      innerWrapper.appendChild(container); // add id, class, aria attributes\n      // before clone slides\n\n      forEach(slideItems, function (item, i) {\n        addClass(item, 'tns-item');\n\n        if (!item.id) {\n          item.id = slideId + '-item' + i;\n        }\n\n        if (!carousel && animateNormal) {\n          addClass(item, animateNormal);\n        }\n\n        setAttrs(item, {\n          'aria-hidden': 'true',\n          'tabindex': '-1'\n        });\n      }); // ## clone slides\n      // carousel: n + slides + n\n      // gallery:      slides + n\n\n      if (cloneCount) {\n        var fragmentBefore = doc.createDocumentFragment(),\n            fragmentAfter = doc.createDocumentFragment();\n\n        for (var j = cloneCount; j--;) {\n          var num = j % slideCount,\n              cloneFirst = slideItems[num].cloneNode(true);\n          addClass(cloneFirst, slideClonedClass);\n          removeAttrs(cloneFirst, 'id');\n          fragmentAfter.insertBefore(cloneFirst, fragmentAfter.firstChild);\n\n          if (carousel) {\n            var cloneLast = slideItems[slideCount - 1 - num].cloneNode(true);\n            addClass(cloneLast, slideClonedClass);\n            removeAttrs(cloneLast, 'id');\n            fragmentBefore.appendChild(cloneLast);\n          }\n        }\n\n        container.insertBefore(fragmentBefore, container.firstChild);\n        container.appendChild(fragmentAfter);\n        slideItems = container.children;\n      }\n    }\n\n    function initSliderTransform() {\n      // ## images loaded/failed\n      if (hasOption('autoHeight') || autoWidth || !horizontal) {\n        var imgs = container.querySelectorAll('img'); // add img load event listener\n\n        forEach(imgs, function (img) {\n          var src = img.src;\n\n          if (!lazyload) {\n            // not data img\n            if (src && src.indexOf('data:image') < 0) {\n              img.src = '';\n              addEvents(img, imgEvents);\n              addClass(img, 'loading');\n              img.src = src; // data img\n            } else {\n              imgLoaded(img);\n            }\n          }\n        }); // set imgsComplete\n\n        raf(function () {\n          imgsLoadedCheck(arrayFromNodeList(imgs), function () {\n            imgsComplete = true;\n          });\n        }); // reset imgs for auto height: check visible imgs only\n\n        if (hasOption('autoHeight')) {\n          imgs = getImageArray(index, Math.min(index + items - 1, slideCountNew - 1));\n        }\n\n        lazyload ? initSliderTransformStyleCheck() : raf(function () {\n          imgsLoadedCheck(arrayFromNodeList(imgs), initSliderTransformStyleCheck);\n        });\n      } else {\n        // set container transform property\n        if (carousel) {\n          doContainerTransformSilent();\n        } // update slider tools and events\n\n\n        initTools();\n        initEvents();\n      }\n    }\n\n    function initSliderTransformStyleCheck() {\n      if (autoWidth && slideCount > 1) {\n        // check styles application\n        var num = loop ? index : slideCount - 1;\n\n        (function stylesApplicationCheck() {\n          var left = slideItems[num].getBoundingClientRect().left;\n          var right = slideItems[num - 1].getBoundingClientRect().right;\n          Math.abs(left - right) <= 1 ? initSliderTransformCore() : setTimeout(function () {\n            stylesApplicationCheck();\n          }, 16);\n        })();\n      } else {\n        initSliderTransformCore();\n      }\n    }\n\n    function initSliderTransformCore() {\n      // run Fn()s which are rely on image loading\n      if (!horizontal || autoWidth) {\n        setSlidePositions();\n\n        if (autoWidth) {\n          rightBoundary = getRightBoundary();\n\n          if (freezable) {\n            freeze = getFreeze();\n          }\n\n          indexMax = getIndexMax(); // <= slidePositions, rightBoundary <=\n\n          resetVariblesWhenDisable(disable || freeze);\n        } else {\n          updateContentWrapperHeight();\n        }\n      } // set container transform property\n\n\n      if (carousel) {\n        doContainerTransformSilent();\n      } // update slider tools and events\n\n\n      initTools();\n      initEvents();\n    }\n\n    function initSheet() {\n      // gallery:\n      // set animation classes and left value for gallery slider\n      if (!carousel) {\n        for (var i = index, l = index + Math.min(slideCount, items); i < l; i++) {\n          var item = slideItems[i];\n          item.style.left = (i - index) * 100 / items + '%';\n          addClass(item, animateIn);\n          removeClass(item, animateNormal);\n        }\n      } // #### LAYOUT\n      // ## INLINE-BLOCK VS FLOAT\n      // ## PercentageLayout:\n      // slides: inline-block\n      // remove blank space between slides by set font-size: 0\n      // ## Non PercentageLayout:\n      // slides: float\n      //         margin-right: -100%\n      //         margin-left: ~\n      // Resource: https://docs.google.com/spreadsheets/d/147up245wwTXeQYve3BRSAD4oVcvQmuGsFteJOeA5xNQ/edit?usp=sharing\n\n\n      if (horizontal) {\n        if (PERCENTAGELAYOUT || autoWidth) {\n          addCSSRule(sheet, '#' + slideId + ' > .tns-item', 'font-size:' + win.getComputedStyle(slideItems[0]).fontSize + ';', getCssRulesLength(sheet));\n          addCSSRule(sheet, '#' + slideId, 'font-size:0;', getCssRulesLength(sheet));\n        } else if (carousel) {\n          forEach(slideItems, function (slide, i) {\n            slide.style.marginLeft = getSlideMarginLeft(i);\n          });\n        }\n      } // ## BASIC STYLES\n\n\n      if (CSSMQ) {\n        // middle wrapper style\n        if (TRANSITIONDURATION) {\n          var str = middleWrapper && options.autoHeight ? getTransitionDurationStyle(options.speed) : '';\n          addCSSRule(sheet, '#' + slideId + '-mw', str, getCssRulesLength(sheet));\n        } // inner wrapper styles\n\n\n        str = getInnerWrapperStyles(options.edgePadding, options.gutter, options.fixedWidth, options.speed, options.autoHeight);\n        addCSSRule(sheet, '#' + slideId + '-iw', str, getCssRulesLength(sheet)); // container styles\n\n        if (carousel) {\n          str = horizontal && !autoWidth ? 'width:' + getContainerWidth(options.fixedWidth, options.gutter, options.items) + ';' : '';\n\n          if (TRANSITIONDURATION) {\n            str += getTransitionDurationStyle(speed);\n          }\n\n          addCSSRule(sheet, '#' + slideId, str, getCssRulesLength(sheet));\n        } // slide styles\n\n\n        str = horizontal && !autoWidth ? getSlideWidthStyle(options.fixedWidth, options.gutter, options.items) : '';\n\n        if (options.gutter) {\n          str += getSlideGutterStyle(options.gutter);\n        } // set gallery items transition-duration\n\n\n        if (!carousel) {\n          if (TRANSITIONDURATION) {\n            str += getTransitionDurationStyle(speed);\n          }\n\n          if (ANIMATIONDURATION) {\n            str += getAnimationDurationStyle(speed);\n          }\n        }\n\n        if (str) {\n          addCSSRule(sheet, '#' + slideId + ' > .tns-item', str, getCssRulesLength(sheet));\n        } // non CSS mediaqueries: IE8\n        // ## update inner wrapper, container, slides if needed\n        // set inline styles for inner wrapper & container\n        // insert stylesheet (one line) for slides only (since slides are many)\n\n      } else {\n        // middle wrapper styles\n        update_carousel_transition_duration(); // inner wrapper styles\n\n        innerWrapper.style.cssText = getInnerWrapperStyles(edgePadding, gutter, fixedWidth, autoHeight); // container styles\n\n        if (carousel && horizontal && !autoWidth) {\n          container.style.width = getContainerWidth(fixedWidth, gutter, items);\n        } // slide styles\n\n\n        var str = horizontal && !autoWidth ? getSlideWidthStyle(fixedWidth, gutter, items) : '';\n\n        if (gutter) {\n          str += getSlideGutterStyle(gutter);\n        } // append to the last line\n\n\n        if (str) {\n          addCSSRule(sheet, '#' + slideId + ' > .tns-item', str, getCssRulesLength(sheet));\n        }\n      } // ## MEDIAQUERIES\n\n\n      if (responsive && CSSMQ) {\n        for (var bp in responsive) {\n          // bp: convert string to number\n          bp = parseInt(bp);\n          var opts = responsive[bp],\n              str = '',\n              middleWrapperStr = '',\n              innerWrapperStr = '',\n              containerStr = '',\n              slideStr = '',\n              itemsBP = !autoWidth ? getOption('items', bp) : null,\n              fixedWidthBP = getOption('fixedWidth', bp),\n              speedBP = getOption('speed', bp),\n              edgePaddingBP = getOption('edgePadding', bp),\n              autoHeightBP = getOption('autoHeight', bp),\n              gutterBP = getOption('gutter', bp); // middle wrapper string\n\n          if (TRANSITIONDURATION && middleWrapper && getOption('autoHeight', bp) && 'speed' in opts) {\n            middleWrapperStr = '#' + slideId + '-mw{' + getTransitionDurationStyle(speedBP) + '}';\n          } // inner wrapper string\n\n\n          if ('edgePadding' in opts || 'gutter' in opts) {\n            innerWrapperStr = '#' + slideId + '-iw{' + getInnerWrapperStyles(edgePaddingBP, gutterBP, fixedWidthBP, speedBP, autoHeightBP) + '}';\n          } // container string\n\n\n          if (carousel && horizontal && !autoWidth && ('fixedWidth' in opts || 'items' in opts || fixedWidth && 'gutter' in opts)) {\n            containerStr = 'width:' + getContainerWidth(fixedWidthBP, gutterBP, itemsBP) + ';';\n          }\n\n          if (TRANSITIONDURATION && 'speed' in opts) {\n            containerStr += getTransitionDurationStyle(speedBP);\n          }\n\n          if (containerStr) {\n            containerStr = '#' + slideId + '{' + containerStr + '}';\n          } // slide string\n\n\n          if ('fixedWidth' in opts || fixedWidth && 'gutter' in opts || !carousel && 'items' in opts) {\n            slideStr += getSlideWidthStyle(fixedWidthBP, gutterBP, itemsBP);\n          }\n\n          if ('gutter' in opts) {\n            slideStr += getSlideGutterStyle(gutterBP);\n          } // set gallery items transition-duration\n\n\n          if (!carousel && 'speed' in opts) {\n            if (TRANSITIONDURATION) {\n              slideStr += getTransitionDurationStyle(speedBP);\n            }\n\n            if (ANIMATIONDURATION) {\n              slideStr += getAnimationDurationStyle(speedBP);\n            }\n          }\n\n          if (slideStr) {\n            slideStr = '#' + slideId + ' > .tns-item{' + slideStr + '}';\n          } // add up\n\n\n          str = middleWrapperStr + innerWrapperStr + containerStr + slideStr;\n\n          if (str) {\n            sheet.insertRule('@media (min-width: ' + bp / 16 + 'em) {' + str + '}', sheet.cssRules.length);\n          }\n        }\n      }\n    }\n\n    function initTools() {\n      // == slides ==\n      updateSlideStatus(); // == live region ==\n\n      outerWrapper.insertAdjacentHTML('afterbegin', '<div class=\"tns-liveregion tns-visually-hidden\" aria-live=\"polite\" aria-atomic=\"true\">slide <span class=\"current\">' + getLiveRegionStr() + '</span>  of ' + slideCount + '</div>');\n      liveregionCurrent = outerWrapper.querySelector('.tns-liveregion .current'); // == autoplayInit ==\n\n      if (hasAutoplay) {\n        var txt = autoplay ? 'stop' : 'start';\n\n        if (autoplayButton) {\n          setAttrs(autoplayButton, {\n            'data-action': txt\n          });\n        } else if (options.autoplayButtonOutput) {\n          outerWrapper.insertAdjacentHTML(getInsertPosition(options.autoplayPosition), '<button type=\"button\" data-action=\"' + txt + '\">' + autoplayHtmlStrings[0] + txt + autoplayHtmlStrings[1] + autoplayText[0] + '</button>');\n          autoplayButton = outerWrapper.querySelector('[data-action]');\n        } // add event\n\n\n        if (autoplayButton) {\n          addEvents(autoplayButton, {\n            'click': toggleAutoplay\n          });\n        }\n\n        if (autoplay) {\n          startAutoplay();\n\n          if (autoplayHoverPause) {\n            addEvents(container, hoverEvents);\n          }\n\n          if (autoplayResetOnVisibility) {\n            addEvents(container, visibilityEvent);\n          }\n        }\n      } // == navInit ==\n\n\n      if (hasNav) {\n        var initIndex = !carousel ? 0 : cloneCount; // customized nav\n        // will not hide the navs in case they're thumbnails\n\n        if (navContainer) {\n          setAttrs(navContainer, {\n            'aria-label': 'Carousel Pagination'\n          });\n          navItems = navContainer.children;\n          forEach(navItems, function (item, i) {\n            setAttrs(item, {\n              'data-nav': i,\n              'tabindex': '-1',\n              'aria-label': navStr + (i + 1),\n              'aria-controls': slideId\n            });\n          }); // generated nav\n        } else {\n          var navHtml = '',\n              hiddenStr = navAsThumbnails ? '' : 'style=\"display:none\"';\n\n          for (var i = 0; i < slideCount; i++) {\n            // hide nav items by default\n            navHtml += '<button type=\"button\" data-nav=\"' + i + '\" tabindex=\"-1\" aria-controls=\"' + slideId + '\" ' + hiddenStr + ' aria-label=\"' + navStr + (i + 1) + '\"></button>';\n          }\n\n          navHtml = '<div class=\"tns-nav\" aria-label=\"Carousel Pagination\">' + navHtml + '</div>';\n          outerWrapper.insertAdjacentHTML(getInsertPosition(options.navPosition), navHtml);\n          navContainer = outerWrapper.querySelector('.tns-nav');\n          navItems = navContainer.children;\n        }\n\n        updateNavVisibility(); // add transition\n\n        if (TRANSITIONDURATION) {\n          var prefix = TRANSITIONDURATION.substring(0, TRANSITIONDURATION.length - 18).toLowerCase(),\n              str = 'transition: all ' + speed / 1000 + 's';\n\n          if (prefix) {\n            str = '-' + prefix + '-' + str;\n          }\n\n          addCSSRule(sheet, '[aria-controls^=' + slideId + '-item]', str, getCssRulesLength(sheet));\n        }\n\n        setAttrs(navItems[navCurrentIndex], {\n          'aria-label': navStr + (navCurrentIndex + 1) + navStrCurrent\n        });\n        removeAttrs(navItems[navCurrentIndex], 'tabindex');\n        addClass(navItems[navCurrentIndex], navActiveClass); // add events\n\n        addEvents(navContainer, navEvents);\n      } // == controlsInit ==\n\n\n      if (hasControls) {\n        if (!controlsContainer && (!prevButton || !nextButton)) {\n          outerWrapper.insertAdjacentHTML(getInsertPosition(options.controlsPosition), '<div class=\"tns-controls\" aria-label=\"Carousel Navigation\" tabindex=\"0\"><button type=\"button\" data-controls=\"prev\" tabindex=\"-1\" aria-controls=\"' + slideId + '\">' + controlsText[0] + '</button><button type=\"button\" data-controls=\"next\" tabindex=\"-1\" aria-controls=\"' + slideId + '\">' + controlsText[1] + '</button></div>');\n          controlsContainer = outerWrapper.querySelector('.tns-controls');\n        }\n\n        if (!prevButton || !nextButton) {\n          prevButton = controlsContainer.children[0];\n          nextButton = controlsContainer.children[1];\n        }\n\n        if (options.controlsContainer) {\n          setAttrs(controlsContainer, {\n            'aria-label': 'Carousel Navigation',\n            'tabindex': '0'\n          });\n        }\n\n        if (options.controlsContainer || options.prevButton && options.nextButton) {\n          setAttrs([prevButton, nextButton], {\n            'aria-controls': slideId,\n            'tabindex': '-1'\n          });\n        }\n\n        if (options.controlsContainer || options.prevButton && options.nextButton) {\n          setAttrs(prevButton, {\n            'data-controls': 'prev'\n          });\n          setAttrs(nextButton, {\n            'data-controls': 'next'\n          });\n        }\n\n        prevIsButton = isButton(prevButton);\n        nextIsButton = isButton(nextButton);\n        updateControlsStatus(); // add events\n\n        if (controlsContainer) {\n          addEvents(controlsContainer, controlsEvents);\n        } else {\n          addEvents(prevButton, controlsEvents);\n          addEvents(nextButton, controlsEvents);\n        }\n      } // hide tools if needed\n\n\n      disableUI();\n    }\n\n    function initEvents() {\n      // add events\n      if (carousel && TRANSITIONEND) {\n        var eve = {};\n        eve[TRANSITIONEND] = onTransitionEnd;\n        addEvents(container, eve);\n      }\n\n      if (touch) {\n        addEvents(container, touchEvents, options.preventScrollOnTouch);\n      }\n\n      if (mouseDrag) {\n        addEvents(container, dragEvents);\n      }\n\n      if (arrowKeys) {\n        addEvents(doc, docmentKeydownEvent);\n      }\n\n      if (nested === 'inner') {\n        events.on('outerResized', function () {\n          resizeTasks();\n          events.emit('innerLoaded', info());\n        });\n      } else if (responsive || fixedWidth || autoWidth || autoHeight || !horizontal) {\n        addEvents(win, {\n          'resize': onResize\n        });\n      }\n\n      if (autoHeight) {\n        if (nested === 'outer') {\n          events.on('innerLoaded', doAutoHeight);\n        } else if (!disable) {\n          doAutoHeight();\n        }\n      }\n\n      doLazyLoad();\n\n      if (disable) {\n        disableSlider();\n      } else if (freeze) {\n        freezeSlider();\n      }\n\n      events.on('indexChanged', additionalUpdates);\n\n      if (nested === 'inner') {\n        events.emit('innerLoaded', info());\n      }\n\n      if (typeof onInit === 'function') {\n        onInit(info());\n      }\n\n      isOn = true;\n    }\n\n    function destroy() {\n      // sheet\n      sheet.disabled = true;\n\n      if (sheet.ownerNode) {\n        sheet.ownerNode.remove();\n      } // remove win event listeners\n\n\n      removeEvents(win, {\n        'resize': onResize\n      }); // arrowKeys, controls, nav\n\n      if (arrowKeys) {\n        removeEvents(doc, docmentKeydownEvent);\n      }\n\n      if (controlsContainer) {\n        removeEvents(controlsContainer, controlsEvents);\n      }\n\n      if (navContainer) {\n        removeEvents(navContainer, navEvents);\n      } // autoplay\n\n\n      removeEvents(container, hoverEvents);\n      removeEvents(container, visibilityEvent);\n\n      if (autoplayButton) {\n        removeEvents(autoplayButton, {\n          'click': toggleAutoplay\n        });\n      }\n\n      if (autoplay) {\n        clearInterval(autoplayTimer);\n      } // container\n\n\n      if (carousel && TRANSITIONEND) {\n        var eve = {};\n        eve[TRANSITIONEND] = onTransitionEnd;\n        removeEvents(container, eve);\n      }\n\n      if (touch) {\n        removeEvents(container, touchEvents);\n      }\n\n      if (mouseDrag) {\n        removeEvents(container, dragEvents);\n      } // cache Object values in options && reset HTML\n\n\n      var htmlList = [containerHTML, controlsContainerHTML, prevButtonHTML, nextButtonHTML, navContainerHTML, autoplayButtonHTML];\n      tnsList.forEach(function (item, i) {\n        var el = item === 'container' ? outerWrapper : options[item];\n\n        if (_typeof(el) === 'object' && el) {\n          var prevEl = el.previousElementSibling ? el.previousElementSibling : false,\n              parentEl = el.parentNode;\n          el.outerHTML = htmlList[i];\n          options[item] = prevEl ? prevEl.nextElementSibling : parentEl.firstElementChild;\n        }\n      }); // reset variables\n\n      tnsList = animateIn = animateOut = animateDelay = animateNormal = horizontal = outerWrapper = innerWrapper = container = containerParent = containerHTML = slideItems = slideCount = breakpointZone = windowWidth = autoWidth = fixedWidth = edgePadding = gutter = viewport = items = slideBy = viewportMax = arrowKeys = speed = rewind = loop = autoHeight = sheet = lazyload = slidePositions = slideItemsOut = cloneCount = slideCountNew = hasRightDeadZone = rightBoundary = updateIndexBeforeTransform = transformAttr = transformPrefix = transformPostfix = getIndexMax = index = indexCached = indexMin = indexMax = resizeTimer = swipeAngle = moveDirectionExpected = running = onInit = events = newContainerClasses = slideId = disable = disabled = freezable = freeze = frozen = controlsEvents = navEvents = hoverEvents = visibilityEvent = docmentKeydownEvent = touchEvents = dragEvents = hasControls = hasNav = navAsThumbnails = hasAutoplay = hasTouch = hasMouseDrag = slideActiveClass = imgCompleteClass = imgEvents = imgsComplete = controls = controlsText = controlsContainer = controlsContainerHTML = prevButton = nextButton = prevIsButton = nextIsButton = nav = navContainer = navContainerHTML = navItems = pages = pagesCached = navClicked = navCurrentIndex = navCurrentIndexCached = navActiveClass = navStr = navStrCurrent = autoplay = autoplayTimeout = autoplayDirection = autoplayText = autoplayHoverPause = autoplayButton = autoplayButtonHTML = autoplayResetOnVisibility = autoplayHtmlStrings = autoplayTimer = animating = autoplayHoverPaused = autoplayUserPaused = autoplayVisibilityPaused = initPosition = lastPosition = translateInit = disX = disY = panStart = rafIndex = getDist = touch = mouseDrag = null; // check variables\n      // [animateIn, animateOut, animateDelay, animateNormal, horizontal, outerWrapper, innerWrapper, container, containerParent, containerHTML, slideItems, slideCount, breakpointZone, windowWidth, autoWidth, fixedWidth, edgePadding, gutter, viewport, items, slideBy, viewportMax, arrowKeys, speed, rewind, loop, autoHeight, sheet, lazyload, slidePositions, slideItemsOut, cloneCount, slideCountNew, hasRightDeadZone, rightBoundary, updateIndexBeforeTransform, transformAttr, transformPrefix, transformPostfix, getIndexMax, index, indexCached, indexMin, indexMax, resizeTimer, swipeAngle, moveDirectionExpected, running, onInit, events, newContainerClasses, slideId, disable, disabled, freezable, freeze, frozen, controlsEvents, navEvents, hoverEvents, visibilityEvent, docmentKeydownEvent, touchEvents, dragEvents, hasControls, hasNav, navAsThumbnails, hasAutoplay, hasTouch, hasMouseDrag, slideActiveClass, imgCompleteClass, imgEvents, imgsComplete, controls, controlsText, controlsContainer, controlsContainerHTML, prevButton, nextButton, prevIsButton, nextIsButton, nav, navContainer, navContainerHTML, navItems, pages, pagesCached, navClicked, navCurrentIndex, navCurrentIndexCached, navActiveClass, navStr, navStrCurrent, autoplay, autoplayTimeout, autoplayDirection, autoplayText, autoplayHoverPause, autoplayButton, autoplayButtonHTML, autoplayResetOnVisibility, autoplayHtmlStrings, autoplayTimer, animating, autoplayHoverPaused, autoplayUserPaused, autoplayVisibilityPaused, initPosition, lastPosition, translateInit, disX, disY, panStart, rafIndex, getDist, touch, mouseDrag ].forEach(function(item) { if (item !== null) { console.log(item); } });\n\n      for (var a in this) {\n        if (a !== 'rebuild') {\n          this[a] = null;\n        }\n      }\n\n      isOn = false;\n    } // === ON RESIZE ===\n    // responsive || fixedWidth || autoWidth || !horizontal\n\n\n    function onResize(e) {\n      raf(function () {\n        resizeTasks(getEvent(e));\n      });\n    }\n\n    function resizeTasks(e) {\n      if (!isOn) {\n        return;\n      }\n\n      if (nested === 'outer') {\n        events.emit('outerResized', info(e));\n      }\n\n      windowWidth = getWindowWidth();\n      var bpChanged,\n          breakpointZoneTem = breakpointZone,\n          needContainerTransform = false;\n\n      if (responsive) {\n        setBreakpointZone();\n        bpChanged = breakpointZoneTem !== breakpointZone; // if (hasRightDeadZone) { needContainerTransform = true; } // *?\n\n        if (bpChanged) {\n          events.emit('newBreakpointStart', info(e));\n        }\n      }\n\n      var indChanged,\n          itemsChanged,\n          itemsTem = items,\n          disableTem = disable,\n          freezeTem = freeze,\n          arrowKeysTem = arrowKeys,\n          controlsTem = controls,\n          navTem = nav,\n          touchTem = touch,\n          mouseDragTem = mouseDrag,\n          autoplayTem = autoplay,\n          autoplayHoverPauseTem = autoplayHoverPause,\n          autoplayResetOnVisibilityTem = autoplayResetOnVisibility,\n          indexTem = index;\n\n      if (bpChanged) {\n        var fixedWidthTem = fixedWidth,\n            autoHeightTem = autoHeight,\n            controlsTextTem = controlsText,\n            centerTem = center,\n            autoplayTextTem = autoplayText;\n\n        if (!CSSMQ) {\n          var gutterTem = gutter,\n              edgePaddingTem = edgePadding;\n        }\n      } // get option:\n      // fixed width: viewport, fixedWidth, gutter => items\n      // others: window width => all variables\n      // all: items => slideBy\n\n\n      arrowKeys = getOption('arrowKeys');\n      controls = getOption('controls');\n      nav = getOption('nav');\n      touch = getOption('touch');\n      center = getOption('center');\n      mouseDrag = getOption('mouseDrag');\n      autoplay = getOption('autoplay');\n      autoplayHoverPause = getOption('autoplayHoverPause');\n      autoplayResetOnVisibility = getOption('autoplayResetOnVisibility');\n\n      if (bpChanged) {\n        disable = getOption('disable');\n        fixedWidth = getOption('fixedWidth');\n        speed = getOption('speed');\n        autoHeight = getOption('autoHeight');\n        controlsText = getOption('controlsText');\n        autoplayText = getOption('autoplayText');\n        autoplayTimeout = getOption('autoplayTimeout');\n\n        if (!CSSMQ) {\n          edgePadding = getOption('edgePadding');\n          gutter = getOption('gutter');\n        }\n      } // update options\n\n\n      resetVariblesWhenDisable(disable);\n      viewport = getViewportWidth(); // <= edgePadding, gutter\n\n      if ((!horizontal || autoWidth) && !disable) {\n        setSlidePositions();\n\n        if (!horizontal) {\n          updateContentWrapperHeight(); // <= setSlidePositions\n\n          needContainerTransform = true;\n        }\n      }\n\n      if (fixedWidth || autoWidth) {\n        rightBoundary = getRightBoundary(); // autoWidth: <= viewport, slidePositions, gutter\n        // fixedWidth: <= viewport, fixedWidth, gutter\n\n        indexMax = getIndexMax(); // autoWidth: <= rightBoundary, slidePositions\n        // fixedWidth: <= rightBoundary, fixedWidth, gutter\n      }\n\n      if (bpChanged || fixedWidth) {\n        items = getOption('items');\n        slideBy = getOption('slideBy');\n        itemsChanged = items !== itemsTem;\n\n        if (itemsChanged) {\n          if (!fixedWidth && !autoWidth) {\n            indexMax = getIndexMax();\n          } // <= items\n          // check index before transform in case\n          // slider reach the right edge then items become bigger\n\n\n          updateIndex();\n        }\n      }\n\n      if (bpChanged) {\n        if (disable !== disableTem) {\n          if (disable) {\n            disableSlider();\n          } else {\n            enableSlider(); // <= slidePositions, rightBoundary, indexMax\n          }\n        }\n      }\n\n      if (freezable && (bpChanged || fixedWidth || autoWidth)) {\n        freeze = getFreeze(); // <= autoWidth: slidePositions, gutter, viewport, rightBoundary\n        // <= fixedWidth: fixedWidth, gutter, rightBoundary\n        // <= others: items\n\n        if (freeze !== freezeTem) {\n          if (freeze) {\n            doContainerTransform(getContainerTransformValue(getStartIndex(0)));\n            freezeSlider();\n          } else {\n            unfreezeSlider();\n            needContainerTransform = true;\n          }\n        }\n      }\n\n      resetVariblesWhenDisable(disable || freeze); // controls, nav, touch, mouseDrag, arrowKeys, autoplay, autoplayHoverPause, autoplayResetOnVisibility\n\n      if (!autoplay) {\n        autoplayHoverPause = autoplayResetOnVisibility = false;\n      }\n\n      if (arrowKeys !== arrowKeysTem) {\n        arrowKeys ? addEvents(doc, docmentKeydownEvent) : removeEvents(doc, docmentKeydownEvent);\n      }\n\n      if (controls !== controlsTem) {\n        if (controls) {\n          if (controlsContainer) {\n            showElement(controlsContainer);\n          } else {\n            if (prevButton) {\n              showElement(prevButton);\n            }\n\n            if (nextButton) {\n              showElement(nextButton);\n            }\n          }\n        } else {\n          if (controlsContainer) {\n            hideElement(controlsContainer);\n          } else {\n            if (prevButton) {\n              hideElement(prevButton);\n            }\n\n            if (nextButton) {\n              hideElement(nextButton);\n            }\n          }\n        }\n      }\n\n      if (nav !== navTem) {\n        if (nav) {\n          showElement(navContainer);\n          updateNavVisibility();\n        } else {\n          hideElement(navContainer);\n        }\n      }\n\n      if (touch !== touchTem) {\n        touch ? addEvents(container, touchEvents, options.preventScrollOnTouch) : removeEvents(container, touchEvents);\n      }\n\n      if (mouseDrag !== mouseDragTem) {\n        mouseDrag ? addEvents(container, dragEvents) : removeEvents(container, dragEvents);\n      }\n\n      if (autoplay !== autoplayTem) {\n        if (autoplay) {\n          if (autoplayButton) {\n            showElement(autoplayButton);\n          }\n\n          if (!animating && !autoplayUserPaused) {\n            startAutoplay();\n          }\n        } else {\n          if (autoplayButton) {\n            hideElement(autoplayButton);\n          }\n\n          if (animating) {\n            stopAutoplay();\n          }\n        }\n      }\n\n      if (autoplayHoverPause !== autoplayHoverPauseTem) {\n        autoplayHoverPause ? addEvents(container, hoverEvents) : removeEvents(container, hoverEvents);\n      }\n\n      if (autoplayResetOnVisibility !== autoplayResetOnVisibilityTem) {\n        autoplayResetOnVisibility ? addEvents(doc, visibilityEvent) : removeEvents(doc, visibilityEvent);\n      }\n\n      if (bpChanged) {\n        if (fixedWidth !== fixedWidthTem || center !== centerTem) {\n          needContainerTransform = true;\n        }\n\n        if (autoHeight !== autoHeightTem) {\n          if (!autoHeight) {\n            innerWrapper.style.height = '';\n          }\n        }\n\n        if (controls && controlsText !== controlsTextTem) {\n          prevButton.innerHTML = controlsText[0];\n          nextButton.innerHTML = controlsText[1];\n        }\n\n        if (autoplayButton && autoplayText !== autoplayTextTem) {\n          var i = autoplay ? 1 : 0,\n              html = autoplayButton.innerHTML,\n              len = html.length - autoplayTextTem[i].length;\n\n          if (html.substring(len) === autoplayTextTem[i]) {\n            autoplayButton.innerHTML = html.substring(0, len) + autoplayText[i];\n          }\n        }\n      } else {\n        if (center && (fixedWidth || autoWidth)) {\n          needContainerTransform = true;\n        }\n      }\n\n      if (itemsChanged || fixedWidth && !autoWidth) {\n        pages = getPages();\n        updateNavVisibility();\n      }\n\n      indChanged = index !== indexTem;\n\n      if (indChanged) {\n        events.emit('indexChanged', info());\n        needContainerTransform = true;\n      } else if (itemsChanged) {\n        if (!indChanged) {\n          additionalUpdates();\n        }\n      } else if (fixedWidth || autoWidth) {\n        doLazyLoad();\n        updateSlideStatus();\n        updateLiveRegion();\n      }\n\n      if (itemsChanged && !carousel) {\n        updateGallerySlidePositions();\n      }\n\n      if (!disable && !freeze) {\n        // non-mediaqueries: IE8\n        if (bpChanged && !CSSMQ) {\n          // middle wrapper styles\n          // inner wrapper styles\n          if (edgePadding !== edgePaddingTem || gutter !== gutterTem) {\n            innerWrapper.style.cssText = getInnerWrapperStyles(edgePadding, gutter, fixedWidth, speed, autoHeight);\n          }\n\n          if (horizontal) {\n            // container styles\n            if (carousel) {\n              container.style.width = getContainerWidth(fixedWidth, gutter, items);\n            } // slide styles\n\n\n            var str = getSlideWidthStyle(fixedWidth, gutter, items) + getSlideGutterStyle(gutter); // remove the last line and\n            // add new styles\n\n            removeCSSRule(sheet, getCssRulesLength(sheet) - 1);\n            addCSSRule(sheet, '#' + slideId + ' > .tns-item', str, getCssRulesLength(sheet));\n          }\n        } // auto height\n\n\n        if (autoHeight) {\n          doAutoHeight();\n        }\n\n        if (needContainerTransform) {\n          doContainerTransformSilent();\n          indexCached = index;\n        }\n      }\n\n      if (bpChanged) {\n        events.emit('newBreakpointEnd', info(e));\n      }\n    } // === INITIALIZATION FUNCTIONS === //\n\n\n    function getFreeze() {\n      if (!fixedWidth && !autoWidth) {\n        var a = center ? items - (items - 1) / 2 : items;\n        return slideCount <= a;\n      }\n\n      var width = fixedWidth ? (fixedWidth + gutter) * slideCount : slidePositions[slideCount],\n          vp = edgePadding ? viewport + edgePadding * 2 : viewport + gutter;\n\n      if (center) {\n        vp -= fixedWidth ? (viewport - fixedWidth) / 2 : (viewport - (slidePositions[index + 1] - slidePositions[index] - gutter)) / 2;\n      }\n\n      return width <= vp;\n    }\n\n    function setBreakpointZone() {\n      breakpointZone = 0;\n\n      for (var bp in responsive) {\n        bp = parseInt(bp); // convert string to number\n\n        if (windowWidth >= bp) {\n          breakpointZone = bp;\n        }\n      }\n    } // (slideBy, indexMin, indexMax) => index\n\n\n    var updateIndex = function () {\n      return loop ? carousel ? // loop + carousel\n      function () {\n        var leftEdge = indexMin,\n            rightEdge = indexMax;\n        leftEdge += slideBy;\n        rightEdge -= slideBy; // adjust edges when has edge paddings\n        // or fixed-width slider with extra space on the right side\n\n        if (edgePadding) {\n          leftEdge += 1;\n          rightEdge -= 1;\n        } else if (fixedWidth) {\n          if ((viewport + gutter) % (fixedWidth + gutter)) {\n            rightEdge -= 1;\n          }\n        }\n\n        if (cloneCount) {\n          if (index > rightEdge) {\n            index -= slideCount;\n          } else if (index < leftEdge) {\n            index += slideCount;\n          }\n        }\n      } : // loop + gallery\n      function () {\n        if (index > indexMax) {\n          while (index >= indexMin + slideCount) {\n            index -= slideCount;\n          }\n        } else if (index < indexMin) {\n          while (index <= indexMax - slideCount) {\n            index += slideCount;\n          }\n        }\n      } : // non-loop\n      function () {\n        index = Math.max(indexMin, Math.min(indexMax, index));\n      };\n    }();\n\n    function disableUI() {\n      if (!autoplay && autoplayButton) {\n        hideElement(autoplayButton);\n      }\n\n      if (!nav && navContainer) {\n        hideElement(navContainer);\n      }\n\n      if (!controls) {\n        if (controlsContainer) {\n          hideElement(controlsContainer);\n        } else {\n          if (prevButton) {\n            hideElement(prevButton);\n          }\n\n          if (nextButton) {\n            hideElement(nextButton);\n          }\n        }\n      }\n    }\n\n    function enableUI() {\n      if (autoplay && autoplayButton) {\n        showElement(autoplayButton);\n      }\n\n      if (nav && navContainer) {\n        showElement(navContainer);\n      }\n\n      if (controls) {\n        if (controlsContainer) {\n          showElement(controlsContainer);\n        } else {\n          if (prevButton) {\n            showElement(prevButton);\n          }\n\n          if (nextButton) {\n            showElement(nextButton);\n          }\n        }\n      }\n    }\n\n    function freezeSlider() {\n      if (frozen) {\n        return;\n      } // remove edge padding from inner wrapper\n\n\n      if (edgePadding) {\n        innerWrapper.style.margin = '0px';\n      } // add class tns-transparent to cloned slides\n\n\n      if (cloneCount) {\n        var str = 'tns-transparent';\n\n        for (var i = cloneCount; i--;) {\n          if (carousel) {\n            addClass(slideItems[i], str);\n          }\n\n          addClass(slideItems[slideCountNew - i - 1], str);\n        }\n      } // update tools\n\n\n      disableUI();\n      frozen = true;\n    }\n\n    function unfreezeSlider() {\n      if (!frozen) {\n        return;\n      } // restore edge padding for inner wrapper\n      // for mordern browsers\n\n\n      if (edgePadding && CSSMQ) {\n        innerWrapper.style.margin = '';\n      } // remove class tns-transparent to cloned slides\n\n\n      if (cloneCount) {\n        var str = 'tns-transparent';\n\n        for (var i = cloneCount; i--;) {\n          if (carousel) {\n            removeClass(slideItems[i], str);\n          }\n\n          removeClass(slideItems[slideCountNew - i - 1], str);\n        }\n      } // update tools\n\n\n      enableUI();\n      frozen = false;\n    }\n\n    function disableSlider() {\n      if (disabled) {\n        return;\n      }\n\n      sheet.disabled = true;\n      container.className = container.className.replace(newContainerClasses.substring(1), '');\n      removeAttrs(container, ['style']);\n\n      if (loop) {\n        for (var j = cloneCount; j--;) {\n          if (carousel) {\n            hideElement(slideItems[j]);\n          }\n\n          hideElement(slideItems[slideCountNew - j - 1]);\n        }\n      } // vertical slider\n\n\n      if (!horizontal || !carousel) {\n        removeAttrs(innerWrapper, ['style']);\n      } // gallery\n\n\n      if (!carousel) {\n        for (var i = index, l = index + slideCount; i < l; i++) {\n          var item = slideItems[i];\n          removeAttrs(item, ['style']);\n          removeClass(item, animateIn);\n          removeClass(item, animateNormal);\n        }\n      } // update tools\n\n\n      disableUI();\n      disabled = true;\n    }\n\n    function enableSlider() {\n      if (!disabled) {\n        return;\n      }\n\n      sheet.disabled = false;\n      container.className += newContainerClasses;\n      doContainerTransformSilent();\n\n      if (loop) {\n        for (var j = cloneCount; j--;) {\n          if (carousel) {\n            showElement(slideItems[j]);\n          }\n\n          showElement(slideItems[slideCountNew - j - 1]);\n        }\n      } // gallery\n\n\n      if (!carousel) {\n        for (var i = index, l = index + slideCount; i < l; i++) {\n          var item = slideItems[i],\n              classN = i < index + items ? animateIn : animateNormal;\n          item.style.left = (i - index) * 100 / items + '%';\n          addClass(item, classN);\n        }\n      } // update tools\n\n\n      enableUI();\n      disabled = false;\n    }\n\n    function updateLiveRegion() {\n      var str = getLiveRegionStr();\n\n      if (liveregionCurrent.innerHTML !== str) {\n        liveregionCurrent.innerHTML = str;\n      }\n    }\n\n    function getLiveRegionStr() {\n      var arr = getVisibleSlideRange(),\n          start = arr[0] + 1,\n          end = arr[1] + 1;\n      return start === end ? start + '' : start + ' to ' + end;\n    }\n\n    function getVisibleSlideRange(val) {\n      if (val == null) {\n        val = getContainerTransformValue();\n      }\n\n      var start = index,\n          end,\n          rangestart,\n          rangeend; // get range start, range end for autoWidth and fixedWidth\n\n      if (center || edgePadding) {\n        if (autoWidth || fixedWidth) {\n          rangestart = -(parseFloat(val) + edgePadding);\n          rangeend = rangestart + viewport + edgePadding * 2;\n        }\n      } else {\n        if (autoWidth) {\n          rangestart = slidePositions[index];\n          rangeend = rangestart + viewport;\n        }\n      } // get start, end\n      // - check auto width\n\n\n      if (autoWidth) {\n        slidePositions.forEach(function (point, i) {\n          if (i < slideCountNew) {\n            if ((center || edgePadding) && point <= rangestart + 0.5) {\n              start = i;\n            }\n\n            if (rangeend - point >= 0.5) {\n              end = i;\n            }\n          }\n        }); // - check percentage width, fixed width\n      } else {\n        if (fixedWidth) {\n          var cell = fixedWidth + gutter;\n\n          if (center || edgePadding) {\n            start = Math.floor(rangestart / cell);\n            end = Math.ceil(rangeend / cell - 1);\n          } else {\n            end = start + Math.ceil(viewport / cell) - 1;\n          }\n        } else {\n          if (center || edgePadding) {\n            var a = items - 1;\n\n            if (center) {\n              start -= a / 2;\n              end = index + a / 2;\n            } else {\n              end = index + a;\n            }\n\n            if (edgePadding) {\n              var b = edgePadding * items / viewport;\n              start -= b;\n              end += b;\n            }\n\n            start = Math.floor(start);\n            end = Math.ceil(end);\n          } else {\n            end = start + items - 1;\n          }\n        }\n\n        start = Math.max(start, 0);\n        end = Math.min(end, slideCountNew - 1);\n      }\n\n      return [start, end];\n    }\n\n    function doLazyLoad() {\n      if (lazyload && !disable) {\n        var arg = getVisibleSlideRange();\n        arg.push(lazyloadSelector);\n        getImageArray.apply(null, arg).forEach(function (img) {\n          if (!hasClass(img, imgCompleteClass)) {\n            // stop propagation transitionend event to container\n            var eve = {};\n\n            eve[TRANSITIONEND] = function (e) {\n              e.stopPropagation();\n            };\n\n            addEvents(img, eve);\n            addEvents(img, imgEvents); // update src\n\n            img.src = getAttr(img, 'data-src'); // update srcset\n\n            var srcset = getAttr(img, 'data-srcset');\n\n            if (srcset) {\n              img.srcset = srcset;\n            }\n\n            addClass(img, 'loading');\n          }\n        });\n      }\n    }\n\n    function onImgLoaded(e) {\n      imgLoaded(getTarget(e));\n    }\n\n    function onImgFailed(e) {\n      imgFailed(getTarget(e));\n    }\n\n    function imgLoaded(img) {\n      addClass(img, 'loaded');\n      imgCompleted(img);\n    }\n\n    function imgFailed(img) {\n      addClass(img, 'failed');\n      imgCompleted(img);\n    }\n\n    function imgCompleted(img) {\n      addClass(img, imgCompleteClass);\n      removeClass(img, 'loading');\n      removeEvents(img, imgEvents);\n    }\n\n    function getImageArray(start, end, imgSelector) {\n      var imgs = [];\n\n      if (!imgSelector) {\n        imgSelector = 'img';\n      }\n\n      while (start <= end) {\n        forEach(slideItems[start].querySelectorAll(imgSelector), function (img) {\n          imgs.push(img);\n        });\n        start++;\n      }\n\n      return imgs;\n    } // check if all visible images are loaded\n    // and update container height if it's done\n\n\n    function doAutoHeight() {\n      var imgs = getImageArray.apply(null, getVisibleSlideRange());\n      raf(function () {\n        imgsLoadedCheck(imgs, updateInnerWrapperHeight);\n      });\n    }\n\n    function imgsLoadedCheck(imgs, cb) {\n      // execute callback function if all images are complete\n      if (imgsComplete) {\n        return cb();\n      } // check image classes\n\n\n      imgs.forEach(function (img, index) {\n        if (!lazyload && img.complete) {\n          imgCompleted(img);\n        } // Check image.complete\n\n\n        if (hasClass(img, imgCompleteClass)) {\n          imgs.splice(index, 1);\n        }\n      }); // execute callback function if selected images are all complete\n\n      if (!imgs.length) {\n        return cb();\n      } // otherwise execute this functiona again\n\n\n      raf(function () {\n        imgsLoadedCheck(imgs, cb);\n      });\n    }\n\n    function additionalUpdates() {\n      doLazyLoad();\n      updateSlideStatus();\n      updateLiveRegion();\n      updateControlsStatus();\n      updateNavStatus();\n    }\n\n    function update_carousel_transition_duration() {\n      if (carousel && autoHeight) {\n        middleWrapper.style[TRANSITIONDURATION] = speed / 1000 + 's';\n      }\n    }\n\n    function getMaxSlideHeight(slideStart, slideRange) {\n      var heights = [];\n\n      for (var i = slideStart, l = Math.min(slideStart + slideRange, slideCountNew); i < l; i++) {\n        heights.push(slideItems[i].offsetHeight);\n      }\n\n      return Math.max.apply(null, heights);\n    } // update inner wrapper height\n    // 1. get the max-height of the visible slides\n    // 2. set transitionDuration to speed\n    // 3. update inner wrapper height to max-height\n    // 4. set transitionDuration to 0s after transition done\n\n\n    function updateInnerWrapperHeight() {\n      var maxHeight = autoHeight ? getMaxSlideHeight(index, items) : getMaxSlideHeight(cloneCount, slideCount),\n          wp = middleWrapper ? middleWrapper : innerWrapper;\n\n      if (wp.style.height !== maxHeight) {\n        wp.style.height = maxHeight + 'px';\n      }\n    } // get the distance from the top edge of the first slide to each slide\n    // (init) => slidePositions\n\n\n    function setSlidePositions() {\n      slidePositions = [0];\n      var attr = horizontal ? 'left' : 'top',\n          attr2 = horizontal ? 'right' : 'bottom',\n          base = slideItems[0].getBoundingClientRect()[attr];\n      forEach(slideItems, function (item, i) {\n        // skip the first slide\n        if (i) {\n          slidePositions.push(item.getBoundingClientRect()[attr] - base);\n        } // add the end edge\n\n\n        if (i === slideCountNew - 1) {\n          slidePositions.push(item.getBoundingClientRect()[attr2] - base);\n        }\n      });\n    } // update slide\n\n\n    function updateSlideStatus() {\n      var range = getVisibleSlideRange(),\n          start = range[0],\n          end = range[1];\n      forEach(slideItems, function (item, i) {\n        // show slides\n        if (i >= start && i <= end) {\n          if (hasAttr(item, 'aria-hidden')) {\n            removeAttrs(item, ['aria-hidden', 'tabindex']);\n            addClass(item, slideActiveClass);\n          } // hide slides\n\n        } else {\n          if (!hasAttr(item, 'aria-hidden')) {\n            setAttrs(item, {\n              'aria-hidden': 'true',\n              'tabindex': '-1'\n            });\n            removeClass(item, slideActiveClass);\n          }\n        }\n      });\n    } // gallery: update slide position\n\n\n    function updateGallerySlidePositions() {\n      var l = index + Math.min(slideCount, items);\n\n      for (var i = slideCountNew; i--;) {\n        var item = slideItems[i];\n\n        if (i >= index && i < l) {\n          // add transitions to visible slides when adjusting their positions\n          addClass(item, 'tns-moving');\n          item.style.left = (i - index) * 100 / items + '%';\n          addClass(item, animateIn);\n          removeClass(item, animateNormal);\n        } else if (item.style.left) {\n          item.style.left = '';\n          addClass(item, animateNormal);\n          removeClass(item, animateIn);\n        } // remove outlet animation\n\n\n        removeClass(item, animateOut);\n      } // removing '.tns-moving'\n\n\n      setTimeout(function () {\n        forEach(slideItems, function (el) {\n          removeClass(el, 'tns-moving');\n        });\n      }, 300);\n    } // set tabindex on Nav\n\n\n    function updateNavStatus() {\n      // get current nav\n      if (nav) {\n        navCurrentIndex = navClicked >= 0 ? navClicked : getCurrentNavIndex();\n        navClicked = -1;\n\n        if (navCurrentIndex !== navCurrentIndexCached) {\n          var navPrev = navItems[navCurrentIndexCached],\n              navCurrent = navItems[navCurrentIndex];\n          setAttrs(navPrev, {\n            'tabindex': '-1',\n            'aria-label': navStr + (navCurrentIndexCached + 1)\n          });\n          removeClass(navPrev, navActiveClass);\n          setAttrs(navCurrent, {\n            'aria-label': navStr + (navCurrentIndex + 1) + navStrCurrent\n          });\n          removeAttrs(navCurrent, 'tabindex');\n          addClass(navCurrent, navActiveClass);\n          navCurrentIndexCached = navCurrentIndex;\n        }\n      }\n    }\n\n    function getLowerCaseNodeName(el) {\n      return el.nodeName.toLowerCase();\n    }\n\n    function isButton(el) {\n      return getLowerCaseNodeName(el) === 'button';\n    }\n\n    function isAriaDisabled(el) {\n      return el.getAttribute('aria-disabled') === 'true';\n    }\n\n    function disEnableElement(isButton, el, val) {\n      if (isButton) {\n        el.disabled = val;\n      } else {\n        el.setAttribute('aria-disabled', val.toString());\n      }\n    } // set 'disabled' to true on controls when reach the edges\n\n\n    function updateControlsStatus() {\n      if (!controls || rewind || loop) {\n        return;\n      }\n\n      var prevDisabled = prevIsButton ? prevButton.disabled : isAriaDisabled(prevButton),\n          nextDisabled = nextIsButton ? nextButton.disabled : isAriaDisabled(nextButton),\n          disablePrev = index <= indexMin ? true : false,\n          disableNext = !rewind && index >= indexMax ? true : false;\n\n      if (disablePrev && !prevDisabled) {\n        disEnableElement(prevIsButton, prevButton, true);\n      }\n\n      if (!disablePrev && prevDisabled) {\n        disEnableElement(prevIsButton, prevButton, false);\n      }\n\n      if (disableNext && !nextDisabled) {\n        disEnableElement(nextIsButton, nextButton, true);\n      }\n\n      if (!disableNext && nextDisabled) {\n        disEnableElement(nextIsButton, nextButton, false);\n      }\n    } // set duration\n\n\n    function resetDuration(el, str) {\n      if (TRANSITIONDURATION) {\n        el.style[TRANSITIONDURATION] = str;\n      }\n    }\n\n    function getSliderWidth() {\n      return fixedWidth ? (fixedWidth + gutter) * slideCountNew : slidePositions[slideCountNew];\n    }\n\n    function getCenterGap(num) {\n      if (num == null) {\n        num = index;\n      }\n\n      var gap = edgePadding ? gutter : 0;\n      return autoWidth ? (viewport - gap - (slidePositions[num + 1] - slidePositions[num] - gutter)) / 2 : fixedWidth ? (viewport - fixedWidth) / 2 : (items - 1) / 2;\n    }\n\n    function getRightBoundary() {\n      var gap = edgePadding ? gutter : 0,\n          result = viewport + gap - getSliderWidth();\n\n      if (center && !loop) {\n        result = fixedWidth ? -(fixedWidth + gutter) * (slideCountNew - 1) - getCenterGap() : getCenterGap(slideCountNew - 1) - slidePositions[slideCountNew - 1];\n      }\n\n      if (result > 0) {\n        result = 0;\n      }\n\n      return result;\n    }\n\n    function getContainerTransformValue(num) {\n      if (num == null) {\n        num = index;\n      }\n\n      var val;\n\n      if (horizontal && !autoWidth) {\n        if (fixedWidth) {\n          val = -(fixedWidth + gutter) * num;\n\n          if (center) {\n            val += getCenterGap();\n          }\n        } else {\n          var denominator = TRANSFORM ? slideCountNew : items;\n\n          if (center) {\n            num -= getCenterGap();\n          }\n\n          val = -num * 100 / denominator;\n        }\n      } else {\n        val = -slidePositions[num];\n\n        if (center && autoWidth) {\n          val += getCenterGap();\n        }\n      }\n\n      if (hasRightDeadZone) {\n        val = Math.max(val, rightBoundary);\n      }\n\n      val += horizontal && !autoWidth && !fixedWidth ? '%' : 'px';\n      return val;\n    }\n\n    function doContainerTransformSilent(val) {\n      resetDuration(container, '0s');\n      doContainerTransform(val);\n    }\n\n    function doContainerTransform(val) {\n      if (val == null) {\n        val = getContainerTransformValue();\n      }\n\n      container.style[transformAttr] = transformPrefix + val + transformPostfix;\n    }\n\n    function animateSlide(number, classOut, classIn, isOut) {\n      var l = number + items;\n\n      if (!loop) {\n        l = Math.min(l, slideCountNew);\n      }\n\n      for (var i = number; i < l; i++) {\n        var item = slideItems[i]; // set item positions\n\n        if (!isOut) {\n          item.style.left = (i - index) * 100 / items + '%';\n        }\n\n        if (animateDelay && TRANSITIONDELAY) {\n          item.style[TRANSITIONDELAY] = item.style[ANIMATIONDELAY] = animateDelay * (i - number) / 1000 + 's';\n        }\n\n        removeClass(item, classOut);\n        addClass(item, classIn);\n\n        if (isOut) {\n          slideItemsOut.push(item);\n        }\n      }\n    } // make transfer after click/drag:\n    // 1. change 'transform' property for mordern browsers\n    // 2. change 'left' property for legacy browsers\n\n\n    var transformCore = function () {\n      return carousel ? function () {\n        resetDuration(container, '');\n\n        if (TRANSITIONDURATION || !speed) {\n          // for morden browsers with non-zero duration or\n          // zero duration for all browsers\n          doContainerTransform(); // run fallback function manually\n          // when duration is 0 / container is hidden\n\n          if (!speed || !isVisible(container)) {\n            onTransitionEnd();\n          }\n        } else {\n          // for old browser with non-zero duration\n          jsTransform(container, transformAttr, transformPrefix, transformPostfix, getContainerTransformValue(), speed, onTransitionEnd);\n        }\n\n        if (!horizontal) {\n          updateContentWrapperHeight();\n        }\n      } : function () {\n        slideItemsOut = [];\n        var eve = {};\n        eve[TRANSITIONEND] = eve[ANIMATIONEND] = onTransitionEnd;\n        removeEvents(slideItems[indexCached], eve);\n        addEvents(slideItems[index], eve);\n        animateSlide(indexCached, animateIn, animateOut, true);\n        animateSlide(index, animateNormal, animateIn); // run fallback function manually\n        // when transition or animation not supported / duration is 0\n\n        if (!TRANSITIONEND || !ANIMATIONEND || !speed || !isVisible(container)) {\n          onTransitionEnd();\n        }\n      };\n    }();\n\n    function render(e, sliderMoved) {\n      if (updateIndexBeforeTransform) {\n        updateIndex();\n      } // render when slider was moved (touch or drag) even though index may not change\n\n\n      if (index !== indexCached || sliderMoved) {\n        // events\n        events.emit('indexChanged', info());\n        events.emit('transitionStart', info());\n\n        if (autoHeight) {\n          doAutoHeight();\n        } // pause autoplay when click or keydown from user\n\n\n        if (animating && e && ['click', 'keydown'].indexOf(e.type) >= 0) {\n          stopAutoplay();\n        }\n\n        running = true;\n        transformCore();\n      }\n    }\n    /*\n     * Transfer prefixed properties to the same format\n     * CSS: -Webkit-Transform => webkittransform\n     * JS: WebkitTransform => webkittransform\n     * @param {string} str - property\n     *\n     */\n\n\n    function strTrans(str) {\n      return str.toLowerCase().replace(/-/g, '');\n    } // AFTER TRANSFORM\n    // Things need to be done after a transfer:\n    // 1. check index\n    // 2. add classes to visible slide\n    // 3. disable controls buttons when reach the first/last slide in non-loop slider\n    // 4. update nav status\n    // 5. lazyload images\n    // 6. update container height\n\n\n    function onTransitionEnd(event) {\n      // check running on gallery mode\n      // make sure trantionend/animationend events run only once\n      if (carousel || running) {\n        events.emit('transitionEnd', info(event));\n\n        if (!carousel && slideItemsOut.length > 0) {\n          for (var i = 0; i < slideItemsOut.length; i++) {\n            var item = slideItemsOut[i]; // set item positions\n\n            item.style.left = '';\n\n            if (ANIMATIONDELAY && TRANSITIONDELAY) {\n              item.style[ANIMATIONDELAY] = '';\n              item.style[TRANSITIONDELAY] = '';\n            }\n\n            removeClass(item, animateOut);\n            addClass(item, animateNormal);\n          }\n        }\n        /* update slides, nav, controls after checking ...\n         * => legacy browsers who don't support 'event'\n         *    have to check event first, otherwise event.target will cause an error\n         * => or 'gallery' mode:\n         *   + event target is slide item\n         * => or 'carousel' mode:\n         *   + event target is container,\n         *   + event.property is the same with transform attribute\n         */\n\n\n        if (!event || !carousel && event.target.parentNode === container || event.target === container && strTrans(event.propertyName) === strTrans(transformAttr)) {\n          if (!updateIndexBeforeTransform) {\n            var indexTem = index;\n            updateIndex();\n\n            if (index !== indexTem) {\n              events.emit('indexChanged', info());\n              doContainerTransformSilent();\n            }\n          }\n\n          if (nested === 'inner') {\n            events.emit('innerLoaded', info());\n          }\n\n          running = false;\n          indexCached = index;\n        }\n      }\n    } // # ACTIONS\n\n\n    function goTo(targetIndex, e) {\n      if (freeze) {\n        return;\n      } // prev slideBy\n\n\n      if (targetIndex === 'prev') {\n        onControlsClick(e, -1); // next slideBy\n      } else if (targetIndex === 'next') {\n        onControlsClick(e, 1); // go to exact slide\n      } else {\n        if (running) {\n          if (preventActionWhenRunning) {\n            return;\n          } else {\n            onTransitionEnd();\n          }\n        }\n\n        var absIndex = getAbsIndex(),\n            indexGap = 0;\n\n        if (targetIndex === 'first') {\n          indexGap = -absIndex;\n        } else if (targetIndex === 'last') {\n          indexGap = carousel ? slideCount - items - absIndex : slideCount - 1 - absIndex;\n        } else {\n          if (typeof targetIndex !== 'number') {\n            targetIndex = parseInt(targetIndex);\n          }\n\n          if (!isNaN(targetIndex)) {\n            // from directly called goTo function\n            if (!e) {\n              targetIndex = Math.max(0, Math.min(slideCount - 1, targetIndex));\n            }\n\n            indexGap = targetIndex - absIndex;\n          }\n        } // gallery: make sure new page won't overlap with current page\n\n\n        if (!carousel && indexGap && Math.abs(indexGap) < items) {\n          var factor = indexGap > 0 ? 1 : -1;\n          indexGap += index + indexGap - slideCount >= indexMin ? slideCount * factor : slideCount * 2 * factor * -1;\n        }\n\n        index += indexGap; // make sure index is in range\n\n        if (carousel && loop) {\n          if (index < indexMin) {\n            index += slideCount;\n          }\n\n          if (index > indexMax) {\n            index -= slideCount;\n          }\n        } // if index is changed, start rendering\n\n\n        if (getAbsIndex(index) !== getAbsIndex(indexCached)) {\n          render(e);\n        }\n      }\n    } // on controls click\n\n\n    function onControlsClick(e, dir) {\n      if (running) {\n        if (preventActionWhenRunning) {\n          return;\n        } else {\n          onTransitionEnd();\n        }\n      }\n\n      var passEventObject;\n\n      if (!dir) {\n        e = getEvent(e);\n        var target = getTarget(e);\n\n        while (target !== controlsContainer && [prevButton, nextButton].indexOf(target) < 0) {\n          target = target.parentNode;\n        }\n\n        var targetIn = [prevButton, nextButton].indexOf(target);\n\n        if (targetIn >= 0) {\n          passEventObject = true;\n          dir = targetIn === 0 ? -1 : 1;\n        }\n      }\n\n      if (rewind) {\n        if (index === indexMin && dir === -1) {\n          goTo('last', e);\n          return;\n        } else if (index === indexMax && dir === 1) {\n          goTo('first', e);\n          return;\n        }\n      }\n\n      if (dir) {\n        index += slideBy * dir;\n\n        if (autoWidth) {\n          index = Math.floor(index);\n        } // pass e when click control buttons or keydown\n\n\n        render(passEventObject || e && e.type === 'keydown' ? e : null);\n      }\n    } // on nav click\n\n\n    function onNavClick(e) {\n      if (running) {\n        if (preventActionWhenRunning) {\n          return;\n        } else {\n          onTransitionEnd();\n        }\n      }\n\n      e = getEvent(e);\n      var target = getTarget(e),\n          navIndex; // find the clicked nav item\n\n      while (target !== navContainer && !hasAttr(target, 'data-nav')) {\n        target = target.parentNode;\n      }\n\n      if (hasAttr(target, 'data-nav')) {\n        var navIndex = navClicked = Number(getAttr(target, 'data-nav')),\n            targetIndexBase = fixedWidth || autoWidth ? navIndex * slideCount / pages : navIndex * items,\n            targetIndex = navAsThumbnails ? navIndex : Math.min(Math.ceil(targetIndexBase), slideCount - 1);\n        goTo(targetIndex, e);\n\n        if (navCurrentIndex === navIndex) {\n          if (animating) {\n            stopAutoplay();\n          }\n\n          navClicked = -1; // reset navClicked\n        }\n      }\n    } // autoplay functions\n\n\n    function setAutoplayTimer() {\n      autoplayTimer = setInterval(function () {\n        onControlsClick(null, autoplayDirection);\n      }, autoplayTimeout);\n      animating = true;\n    }\n\n    function stopAutoplayTimer() {\n      clearInterval(autoplayTimer);\n      animating = false;\n    }\n\n    function updateAutoplayButton(action, txt) {\n      setAttrs(autoplayButton, {\n        'data-action': action\n      });\n      autoplayButton.innerHTML = autoplayHtmlStrings[0] + action + autoplayHtmlStrings[1] + txt;\n    }\n\n    function startAutoplay() {\n      setAutoplayTimer();\n\n      if (autoplayButton) {\n        updateAutoplayButton('stop', autoplayText[1]);\n      }\n    }\n\n    function stopAutoplay() {\n      stopAutoplayTimer();\n\n      if (autoplayButton) {\n        updateAutoplayButton('start', autoplayText[0]);\n      }\n    } // programaitcally play/pause the slider\n\n\n    function play() {\n      if (autoplay && !animating) {\n        startAutoplay();\n        autoplayUserPaused = false;\n      }\n    }\n\n    function pause() {\n      if (animating) {\n        stopAutoplay();\n        autoplayUserPaused = true;\n      }\n    }\n\n    function toggleAutoplay() {\n      if (animating) {\n        stopAutoplay();\n        autoplayUserPaused = true;\n      } else {\n        startAutoplay();\n        autoplayUserPaused = false;\n      }\n    }\n\n    function onVisibilityChange() {\n      if (doc.hidden) {\n        if (animating) {\n          stopAutoplayTimer();\n          autoplayVisibilityPaused = true;\n        }\n      } else if (autoplayVisibilityPaused) {\n        setAutoplayTimer();\n        autoplayVisibilityPaused = false;\n      }\n    }\n\n    function mouseoverPause() {\n      if (animating) {\n        stopAutoplayTimer();\n        autoplayHoverPaused = true;\n      }\n    }\n\n    function mouseoutRestart() {\n      if (autoplayHoverPaused) {\n        setAutoplayTimer();\n        autoplayHoverPaused = false;\n      }\n    } // keydown events on document\n\n\n    function onDocumentKeydown(e) {\n      e = getEvent(e);\n      var keyIndex = [KEYS.LEFT, KEYS.RIGHT].indexOf(e.keyCode);\n\n      if (keyIndex >= 0) {\n        onControlsClick(e, keyIndex === 0 ? -1 : 1);\n      }\n    } // on key control\n\n\n    function onControlsKeydown(e) {\n      e = getEvent(e);\n      var keyIndex = [KEYS.LEFT, KEYS.RIGHT].indexOf(e.keyCode);\n\n      if (keyIndex >= 0) {\n        if (keyIndex === 0) {\n          if (!prevButton.disabled) {\n            onControlsClick(e, -1);\n          }\n        } else if (!nextButton.disabled) {\n          onControlsClick(e, 1);\n        }\n      }\n    } // set focus\n\n\n    function setFocus(el) {\n      el.focus();\n    } // on key nav\n\n\n    function onNavKeydown(e) {\n      e = getEvent(e);\n      var curElement = doc.activeElement;\n\n      if (!hasAttr(curElement, 'data-nav')) {\n        return;\n      } // var code = e.keyCode,\n\n\n      var keyIndex = [KEYS.LEFT, KEYS.RIGHT, KEYS.ENTER, KEYS.SPACE].indexOf(e.keyCode),\n          navIndex = Number(getAttr(curElement, 'data-nav'));\n\n      if (keyIndex >= 0) {\n        if (keyIndex === 0) {\n          if (navIndex > 0) {\n            setFocus(navItems[navIndex - 1]);\n          }\n        } else if (keyIndex === 1) {\n          if (navIndex < pages - 1) {\n            setFocus(navItems[navIndex + 1]);\n          }\n        } else {\n          navClicked = navIndex;\n          goTo(navIndex, e);\n        }\n      }\n    }\n\n    function getEvent(e) {\n      e = e || win.event;\n      return isTouchEvent(e) ? e.changedTouches[0] : e;\n    }\n\n    function getTarget(e) {\n      return e.target || win.event.srcElement;\n    }\n\n    function isTouchEvent(e) {\n      return e.type.indexOf('touch') >= 0;\n    }\n\n    function preventDefaultBehavior(e) {\n      e.preventDefault ? e.preventDefault() : e.returnValue = false;\n    }\n\n    function getMoveDirectionExpected() {\n      return getTouchDirection(toDegree(lastPosition.y - initPosition.y, lastPosition.x - initPosition.x), swipeAngle) === options.axis;\n    }\n\n    function onPanStart(e) {\n      if (running) {\n        if (preventActionWhenRunning) {\n          return;\n        } else {\n          onTransitionEnd();\n        }\n      }\n\n      if (autoplay && animating) {\n        stopAutoplayTimer();\n      }\n\n      panStart = true;\n\n      if (rafIndex) {\n        caf(rafIndex);\n        rafIndex = null;\n      }\n\n      var $ = getEvent(e);\n      events.emit(isTouchEvent(e) ? 'touchStart' : 'dragStart', info(e));\n\n      if (!isTouchEvent(e) && ['img', 'a'].indexOf(getLowerCaseNodeName(getTarget(e))) >= 0) {\n        preventDefaultBehavior(e);\n      }\n\n      lastPosition.x = initPosition.x = $.clientX;\n      lastPosition.y = initPosition.y = $.clientY;\n\n      if (carousel) {\n        translateInit = parseFloat(container.style[transformAttr].replace(transformPrefix, ''));\n        resetDuration(container, '0s');\n      }\n    }\n\n    function onPanMove(e) {\n      if (panStart) {\n        var $ = getEvent(e);\n        lastPosition.x = $.clientX;\n        lastPosition.y = $.clientY;\n\n        if (carousel) {\n          if (!rafIndex) {\n            rafIndex = raf(function () {\n              panUpdate(e);\n            });\n          }\n        } else {\n          if (moveDirectionExpected === '?') {\n            moveDirectionExpected = getMoveDirectionExpected();\n          }\n\n          if (moveDirectionExpected) {\n            preventScroll = true;\n          }\n        }\n\n        if ((typeof e.cancelable !== 'boolean' || e.cancelable) && preventScroll) {\n          e.preventDefault();\n        }\n      }\n    }\n\n    function panUpdate(e) {\n      if (!moveDirectionExpected) {\n        panStart = false;\n        return;\n      }\n\n      caf(rafIndex);\n\n      if (panStart) {\n        rafIndex = raf(function () {\n          panUpdate(e);\n        });\n      }\n\n      if (moveDirectionExpected === '?') {\n        moveDirectionExpected = getMoveDirectionExpected();\n      }\n\n      if (moveDirectionExpected) {\n        if (!preventScroll && isTouchEvent(e)) {\n          preventScroll = true;\n        }\n\n        try {\n          if (e.type) {\n            events.emit(isTouchEvent(e) ? 'touchMove' : 'dragMove', info(e));\n          }\n        } catch (err) {}\n\n        var x = translateInit,\n            dist = getDist(lastPosition, initPosition);\n\n        if (!horizontal || fixedWidth || autoWidth) {\n          x += dist;\n          x += 'px';\n        } else {\n          var percentageX = TRANSFORM ? dist * items * 100 / ((viewport + gutter) * slideCountNew) : dist * 100 / (viewport + gutter);\n          x += percentageX;\n          x += '%';\n        }\n\n        container.style[transformAttr] = transformPrefix + x + transformPostfix;\n      }\n    }\n\n    function onPanEnd(e) {\n      if (panStart) {\n        if (rafIndex) {\n          caf(rafIndex);\n          rafIndex = null;\n        }\n\n        if (carousel) {\n          resetDuration(container, '');\n        }\n\n        panStart = false;\n        var $ = getEvent(e);\n        lastPosition.x = $.clientX;\n        lastPosition.y = $.clientY;\n        var dist = getDist(lastPosition, initPosition);\n\n        if (Math.abs(dist)) {\n          // drag vs click\n          if (!isTouchEvent(e)) {\n            // prevent \"click\"\n            var target = getTarget(e);\n            addEvents(target, {\n              'click': function preventClick(e) {\n                preventDefaultBehavior(e);\n                removeEvents(target, {\n                  'click': preventClick\n                });\n              }\n            });\n          }\n\n          if (carousel) {\n            rafIndex = raf(function () {\n              if (horizontal && !autoWidth) {\n                var indexMoved = -dist * items / (viewport + gutter);\n                indexMoved = dist > 0 ? Math.floor(indexMoved) : Math.ceil(indexMoved);\n                index += indexMoved;\n              } else {\n                var moved = -(translateInit + dist);\n\n                if (moved <= 0) {\n                  index = indexMin;\n                } else if (moved >= slidePositions[slideCountNew - 1]) {\n                  index = indexMax;\n                } else {\n                  var i = 0;\n\n                  while (i < slideCountNew && moved >= slidePositions[i]) {\n                    index = i;\n\n                    if (moved > slidePositions[i] && dist < 0) {\n                      index += 1;\n                    }\n\n                    i++;\n                  }\n                }\n              }\n\n              render(e, dist);\n              events.emit(isTouchEvent(e) ? 'touchEnd' : 'dragEnd', info(e));\n            });\n          } else {\n            if (moveDirectionExpected) {\n              onControlsClick(e, dist > 0 ? -1 : 1);\n            }\n          }\n        }\n      } // reset\n\n\n      if (options.preventScrollOnTouch === 'auto') {\n        preventScroll = false;\n      }\n\n      if (swipeAngle) {\n        moveDirectionExpected = '?';\n      }\n\n      if (autoplay && !animating) {\n        setAutoplayTimer();\n      }\n    } // === RESIZE FUNCTIONS === //\n    // (slidePositions, index, items) => vertical_conentWrapper.height\n\n\n    function updateContentWrapperHeight() {\n      var wp = middleWrapper ? middleWrapper : innerWrapper;\n      wp.style.height = slidePositions[index + items] - slidePositions[index] + 'px';\n    }\n\n    function getPages() {\n      var rough = fixedWidth ? (fixedWidth + gutter) * slideCount / viewport : slideCount / items;\n      return Math.min(Math.ceil(rough), slideCount);\n    }\n    /*\n     * 1. update visible nav items list\n     * 2. add \"hidden\" attributes to previous visible nav items\n     * 3. remove \"hidden\" attrubutes to new visible nav items\n     */\n\n\n    function updateNavVisibility() {\n      if (!nav || navAsThumbnails) {\n        return;\n      }\n\n      if (pages !== pagesCached) {\n        var min = pagesCached,\n            max = pages,\n            fn = showElement;\n\n        if (pagesCached > pages) {\n          min = pages;\n          max = pagesCached;\n          fn = hideElement;\n        }\n\n        while (min < max) {\n          fn(navItems[min]);\n          min++;\n        } // cache pages\n\n\n        pagesCached = pages;\n      }\n    }\n\n    function info(e) {\n      return {\n        container: container,\n        slideItems: slideItems,\n        navContainer: navContainer,\n        navItems: navItems,\n        controlsContainer: controlsContainer,\n        hasControls: hasControls,\n        prevButton: prevButton,\n        nextButton: nextButton,\n        items: items,\n        slideBy: slideBy,\n        cloneCount: cloneCount,\n        slideCount: slideCount,\n        slideCountNew: slideCountNew,\n        index: index,\n        indexCached: indexCached,\n        displayIndex: getCurrentSlide(),\n        navCurrentIndex: navCurrentIndex,\n        navCurrentIndexCached: navCurrentIndexCached,\n        pages: pages,\n        pagesCached: pagesCached,\n        sheet: sheet,\n        isOn: isOn,\n        event: e || {}\n      };\n    }\n\n    return {\n      version: '2.9.3',\n      getInfo: info,\n      events: events,\n      goTo: goTo,\n      play: play,\n      pause: pause,\n      isOn: isOn,\n      updateSliderHeight: updateInnerWrapperHeight,\n      refresh: initSliderTransform,\n      destroy: destroy,\n      rebuild: function rebuild() {\n        return tns(extend(options, optionsElements));\n      }\n    };\n  };\n\n  return tns;\n}();\n\nvar HomePage = /*#__PURE__*/function () {\n  function HomePage() {\n    _classCallCheck(this, HomePage);\n\n    this.message = 'Boilerplate Web Development';\n  }\n\n  _createClass(HomePage, [{\n    key: \"insertMessageOnHTML\",\n    value: function insertMessageOnHTML() {\n      var elementMessage = document.querySelector('#title');\n      elementMessage.innerText = this.message;\n    }\n  }, {\n    key: \"mountMainSlider\",\n    value: function mountMainSlider() {\n      return tns({\n        container: '.slider',\n        items: 1,\n        slideBy: 'page',\n        autoplay: true,\n        controls: false,\n        nav: true,\n        // axis: 'vertical',\n        mouseDrag: true,\n        navPosition: 'bottom',\n        autoplayButtonOutput: false,\n        responsive: {\n          768: {\n            items: 3\n          }\n        }\n      });\n    }\n  }]);\n\n  return HomePage;\n}();\n\n(function main(scripts) {\n  var HomePage = scripts.HomePage;\n  var home = new HomePage();\n  home.insertMessageOnHTML();\n  home.mountMainSlider();\n})({\n  HomePage: HomePage\n});\n\n},{}]},{},[1]);\n"]}