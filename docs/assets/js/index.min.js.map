{"version":3,"sources":["index.min.js"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","_defineProperties","target","props","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_typeof","obj","Symbol","iterator","constructor","prototype","home","tns","keys","object","name","hasOwnProperty","push","Element","remove","this","parentNode","removeChild","win","window","raf","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","msRequestAnimationFrame","cb","setTimeout","win$1","caf","cancelAnimationFrame","mozCancelAnimationFrame","id","clearTimeout","extend","copy","arguments","undefined","checkStorageValue","value","indexOf","JSON","parse","setLocalStorage","storage","access","setItem","getBody","doc","document","body","createElement","fake","docElement","documentElement","setFakeBody","docOverflow","style","overflow","background","appendChild","resetFakeBody","offsetHeight","addCSSRule","sheet","selector","rules","index","insertRule","addRule","getCssRulesLength","cssRules","forEach","arr","callback","scope","l","classListSupport","hasClass","el","str","classList","contains","className","addClass","add","removeClass","replace","hasAttr","attr","hasAttribute","getAttr","getAttribute","isNodeList","item","setAttrs","els","attrs","Array","toString","setAttribute","removeAttrs","attrLength","j","removeAttribute","arrayFromNodeList","nl","hideElement","forceHide","display","showElement","isVisible","getComputedStyle","whichProperty","Props","charAt","toUpperCase","substr","prefix","prop","getEndProperty","propIn","propOut","endProp","test","toLowerCase","supportsPassive","opts","get","addEventListener","passiveOption","passive","addEvents","preventScrolling","option","removeEvents","removeEventListener","options","container","mode","axis","items","gutter","edgePadding","fixedWidth","autoWidth","viewportMax","slideBy","center","controls","controlsPosition","controlsText","controlsContainer","prevButton","nextButton","nav","navPosition","navContainer","navAsThumbnails","arrowKeys","speed","autoplay","autoplayPosition","autoplayTimeout","autoplayDirection","autoplayText","autoplayHoverPause","autoplayButton","autoplayButtonOutput","autoplayResetOnVisibility","animateIn","animateOut","animateNormal","animateDelay","loop","rewind","autoHeight","responsive","lazyload","lazyloadSelector","touch","mouseDrag","swipeAngle","nested","preventActionWhenRunning","preventScrollOnTouch","freezable","onInit","useLocalStorage","KEYS","ENTER","SPACE","LEFT","RIGHT","tnsStorage","localStorageAccess","browserInfo","navigator","userAgent","uid","Date","localStorage","getItem","removeItem","CALC","div","result","val","vals","width","offsetWidth","calc","PERCENTAGELAYOUT","supported","wrapper","outer","innerHTML","Math","abs","getBoundingClientRect","left","children","count","percentageLayout","CSSMQ","position","rule","type","styleSheet","cssText","createTextNode","currentStyle","mediaquerySupport","TRANSFORM","HAS3DTRANSFORMS","tf","has3d","cssTF","slice","insertBefore","getPropertyValue","has3DTransforms","TRANSITIONDURATION","TRANSITIONDELAY","ANIMATIONDURATION","ANIMATIONDELAY","TRANSITIONEND","ANIMATIONEND","supportConsoleWarn","console","warn","tnsList","optionsElements","querySelector","nodeName","carousel","responsiveTem","updateOptions","middleWrapper","breakpointZone","horizontal","outerWrapper","innerWrapper","containerParent","containerHTML","outerHTML","slideItems","slideCount","windowWidth","getWindowWidth","isOn","setBreakpointZone","slidePositions","imgsComplete","liveregionCurrent","itemsMax","media","getOption","viewport","getViewportWidth","floor","fixedWidthViewportWidth","slideItemsOut","cloneCount","bp","tem","ceil","min","apply","max","getItemsMax","hasOption","slideCountNew","hasRightDeadZone","rightBoundary","getRightBoundary","updateIndexBeforeTransform","transformAttr","transformPrefix","transformPostfix","getIndexMax","getStartIndex","indexCached","indexMin","getCurrentSlide","indexMax","moveDirectionExpected","running","events","topics","on","eventName","fn","off","splice","emit","data","newContainerClasses","slideId","tnsId","disable","disabled","freeze","getFreeze","frozen","controlsEvents","click","onControlsClick","keydown","getEvent","keyIndex","keyCode","navEvents","onTransitionEnd","getTarget","navIndex","navClicked","Number","targetIndexBase","pages","targetIndex","goTo","navCurrentIndex","animating","stopAutoplay","curElement","activeElement","setFocus","navItems","hoverEvents","mouseover","stopAutoplayTimer","autoplayHoverPaused","mouseout","setAutoplayTimer","visibilityEvent","visibilitychange","hidden","autoplayVisibilityPaused","docmentKeydownEvent","touchEvents","touchstart","onPanStart","touchmove","onPanMove","touchend","onPanEnd","touchcancel","dragEvents","mousedown","mousemove","mouseup","mouseleave","hasControls","hasNav","hasAutoplay","hasTouch","hasMouseDrag","slideActiveClass","imgCompleteClass","imgEvents","load","imgLoaded","error","img","imgCompleted","preventScroll","prevIsButton","nextIsButton","controlsContainerHTML","prevButtonHTML","nextButtonHTML","navContainerHTML","getPages","pagesCached","getCurrentNavIndex","navCurrentIndexCached","navActiveClass","navStr","navStrCurrent","autoplayTimer","autoplayUserPaused","autoplayButtonHTML","autoplayHtmlStrings","translateInit","rafIndex","initPosition","lastPosition","panStart","getDist","b","x","y","resetVariblesWhenDisable","wp","aria-hidden","tabindex","fragmentBefore","createDocumentFragment","fragmentAfter","num","cloneFirst","cloneNode","firstChild","cloneLast","initStructure","fontSize","slide","marginLeft","getSlideMarginLeft","getTransitionDurationStyle","getInnerWrapperStyles","getContainerWidth","getSlideWidthStyle","getSlideGutterStyle","getAnimationDurationStyle","update_carousel_transition_duration","parseInt","middleWrapperStr","innerWrapperStr","containerStr","slideStr","itemsBP","fixedWidthBP","speedBP","edgePaddingBP","autoHeightBP","gutterBP","initSheet","initSliderTransform","updateIndex","leftEdge","rightEdge","transformCore","element","postfix","to","duration","tick","unit","from","positionTick","resetDuration","doContainerTransform","getContainerTransformValue","moveElement","updateContentWrapperHeight","eve","animateSlide","version","getInfo","info","play","startAutoplay","pause","updateSliderHeight","updateInnerWrapperHeight","refresh","destroy","ownerNode","resize","onResize","toggleAutoplay","clearInterval","htmlList","prevEl","previousElementSibling","parentEl","nextElementSibling","firstElementChild","rebuild","condition","ind","getAbsIndex","absIndex","innerWidth","clientWidth","getInsertPosition","pos","gap","getClientWidth","rect","right","ww","edgePaddingTem","gutterTem","fixedWidthTem","speedTem","gutterTemUnit","itemsTem","dividend","getCSSPrefix","substring","imgs","querySelectorAll","src","imgsLoadedCheck","getImageArray","initSliderTransformStyleCheck","doContainerTransformSilent","initTools","initEvents","stylesApplicationCheck","toFixed","initSliderTransformCore","setSlidePositions","updateSlideStatus","insertAdjacentHTML","getLiveRegionStr","txt","data-action","aria-label","data-nav","aria-controls","navHtml","hiddenStr","updateNavVisibility","data-controls","isButton","updateControlsStatus","disableUI","resizeTasks","doAutoHeight","doLazyLoad","disableSlider","freezeSlider","additionalUpdates","bpChanged","breakpointZoneTem","needContainerTransform","indChanged","itemsChanged","disableTem","freezeTem","arrowKeysTem","controlsTem","navTem","touchTem","mouseDragTem","autoplayTem","autoplayHoverPauseTem","autoplayResetOnVisibilityTem","indexTem","autoHeightTem","controlsTextTem","centerTem","autoplayTextTem","classN","enableUI","enableSlider","margin","unfreezeSlider","height","html","len","updateLiveRegion","updateGallerySlidePositions","autoheightTem","deleteRule","removeRule","removeCSSRule","vp","getVisibleSlideRange","start","end","rangestart","rangeend","parseFloat","point","cell","stopPropagation","srcset","navPrev","navCurrent","updateNavStatus","getMaxSlideHeight","slideStart","slideRange","heights","maxHeight","attr2","base","range","getLowerCaseNodeName","isAriaDisabled","disEnableElement","prevDisabled","nextDisabled","disablePrev","disableNext","getCenterGap","denominator","number","classOut","classIn","isOut","render","sliderMoved","strTrans","event","propertyName","indexGap","isNaN","factor","dir","passEventObject","targetIn","setInterval","updateAutoplayButton","action","focus","isTouchEvent","changedTouches","srcElement","preventDefaultBehavior","preventDefault","returnValue","getMoveDirectionExpected","angle","atan2","PI","direction","$","clientX","clientY","panUpdate","err","dist","percentageX","preventClick","indexMoved","moved","rough","displayIndex","HomePage","instance","Constructor","TypeError","_classCallCheck","message","protoProps","staticProps","innerText","768","insertMessageOnHTML","mountMainSlider"],"mappings":"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","file":"index.min.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n\"use strict\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nvar tns = function () {\n  // Object.keys\n  if (!Object.keys) {\n    Object.keys = function (object) {\n      var keys = [];\n\n      for (var name in object) {\n        if (Object.prototype.hasOwnProperty.call(object, name)) {\n          keys.push(name);\n        }\n      }\n\n      return keys;\n    };\n  } // ChildNode.remove\n\n\n  if (!(\"remove\" in Element.prototype)) {\n    Element.prototype.remove = function () {\n      if (this.parentNode) {\n        this.parentNode.removeChild(this);\n      }\n    };\n  }\n\n  var win = window;\n\n  var raf = win.requestAnimationFrame || win.webkitRequestAnimationFrame || win.mozRequestAnimationFrame || win.msRequestAnimationFrame || function (cb) {\n    return setTimeout(cb, 16);\n  };\n\n  var win$1 = window;\n\n  var caf = win$1.cancelAnimationFrame || win$1.mozCancelAnimationFrame || function (id) {\n    clearTimeout(id);\n  };\n\n  function extend() {\n    var obj,\n        name,\n        copy,\n        target = arguments[0] || {},\n        i = 1,\n        length = arguments.length;\n\n    for (; i < length; i++) {\n      if ((obj = arguments[i]) !== null) {\n        for (name in obj) {\n          copy = obj[name];\n\n          if (target === copy) {\n            continue;\n          } else if (copy !== undefined) {\n            target[name] = copy;\n          }\n        }\n      }\n    }\n\n    return target;\n  }\n\n  function checkStorageValue(value) {\n    return ['true', 'false'].indexOf(value) >= 0 ? JSON.parse(value) : value;\n  }\n\n  function setLocalStorage(storage, key, value, access) {\n    if (access) {\n      try {\n        storage.setItem(key, value);\n      } catch (e) {}\n    }\n\n    return value;\n  }\n\n  function getSlideId() {\n    var id = window.tnsId;\n    window.tnsId = !id ? 1 : id + 1;\n    return 'tns' + window.tnsId;\n  }\n\n  function getBody() {\n    var doc = document,\n        body = doc.body;\n\n    if (!body) {\n      body = doc.createElement('body');\n      body.fake = true;\n    }\n\n    return body;\n  }\n\n  var docElement = document.documentElement;\n\n  function setFakeBody(body) {\n    var docOverflow = '';\n\n    if (body.fake) {\n      docOverflow = docElement.style.overflow; //avoid crashing IE8, if background image is used\n\n      body.style.background = ''; //Safari 5.13/5.1.4 OSX stops loading if ::-webkit-scrollbar is used and scrollbars are visible\n\n      body.style.overflow = docElement.style.overflow = 'hidden';\n      docElement.appendChild(body);\n    }\n\n    return docOverflow;\n  }\n\n  function resetFakeBody(body, docOverflow) {\n    if (body.fake) {\n      body.remove();\n      docElement.style.overflow = docOverflow; // Trigger layout so kinetic scrolling isn't disabled in iOS6+\n      // eslint-disable-next-line\n\n      docElement.offsetHeight;\n    }\n  } // get css-calc \n\n\n  function calc() {\n    var doc = document,\n        body = getBody(),\n        docOverflow = setFakeBody(body),\n        div = doc.createElement('div'),\n        result = false;\n    body.appendChild(div);\n\n    try {\n      var str = '(10px * 10)',\n          vals = ['calc' + str, '-moz-calc' + str, '-webkit-calc' + str],\n          val;\n\n      for (var i = 0; i < 3; i++) {\n        val = vals[i];\n        div.style.width = val;\n\n        if (div.offsetWidth === 100) {\n          result = val.replace(str, '');\n          break;\n        }\n      }\n    } catch (e) {}\n\n    body.fake ? resetFakeBody(body, docOverflow) : div.remove();\n    return result;\n  } // get subpixel support value\n\n\n  function percentageLayout() {\n    // check subpixel layout supporting\n    var doc = document,\n        body = getBody(),\n        docOverflow = setFakeBody(body),\n        wrapper = doc.createElement('div'),\n        outer = doc.createElement('div'),\n        str = '',\n        count = 70,\n        perPage = 3,\n        supported = false;\n    wrapper.className = \"tns-t-subp2\";\n    outer.className = \"tns-t-ct\";\n\n    for (var i = 0; i < count; i++) {\n      str += '<div></div>';\n    }\n\n    outer.innerHTML = str;\n    wrapper.appendChild(outer);\n    body.appendChild(wrapper);\n    supported = Math.abs(wrapper.getBoundingClientRect().left - outer.children[count - perPage].getBoundingClientRect().left) < 2;\n    body.fake ? resetFakeBody(body, docOverflow) : wrapper.remove();\n    return supported;\n  }\n\n  function mediaquerySupport() {\n    var doc = document,\n        body = getBody(),\n        docOverflow = setFakeBody(body),\n        div = doc.createElement('div'),\n        style = doc.createElement('style'),\n        rule = '@media all and (min-width:1px){.tns-mq-test{position:absolute}}',\n        position;\n    style.type = 'text/css';\n    div.className = 'tns-mq-test';\n    body.appendChild(style);\n    body.appendChild(div);\n\n    if (style.styleSheet) {\n      style.styleSheet.cssText = rule;\n    } else {\n      style.appendChild(doc.createTextNode(rule));\n    }\n\n    position = window.getComputedStyle ? window.getComputedStyle(div).position : div.currentStyle['position'];\n    body.fake ? resetFakeBody(body, docOverflow) : div.remove();\n    return position === \"absolute\";\n  } // create and append style sheet\n\n\n  function createStyleSheet(media) {\n    // Create the <style> tag\n    var style = document.createElement(\"style\"); // style.setAttribute(\"type\", \"text/css\");\n    // Add a media (and/or media query) here if you'd like!\n    // style.setAttribute(\"media\", \"screen\")\n    // style.setAttribute(\"media\", \"only screen and (max-width : 1024px)\")\n\n    if (media) {\n      style.setAttribute(\"media\", media);\n    } // WebKit hack :(\n    // style.appendChild(document.createTextNode(\"\"));\n    // Add the <style> element to the page\n\n\n    document.querySelector('head').appendChild(style);\n    return style.sheet ? style.sheet : style.styleSheet;\n  } // cross browsers addRule method\n\n\n  function addCSSRule(sheet, selector, rules, index) {\n    // return raf(function() {\n    'insertRule' in sheet ? sheet.insertRule(selector + '{' + rules + '}', index) : sheet.addRule(selector, rules, index); // });\n  } // cross browsers addRule method\n\n\n  function removeCSSRule(sheet, index) {\n    // return raf(function() {\n    'deleteRule' in sheet ? sheet.deleteRule(index) : sheet.removeRule(index); // });\n  }\n\n  function getCssRulesLength(sheet) {\n    var rule = 'insertRule' in sheet ? sheet.cssRules : sheet.rules;\n    return rule.length;\n  }\n\n  function toDegree(y, x) {\n    return Math.atan2(y, x) * (180 / Math.PI);\n  }\n\n  function getTouchDirection(angle, range) {\n    var direction = false,\n        gap = Math.abs(90 - Math.abs(angle));\n\n    if (gap >= 90 - range) {\n      direction = 'horizontal';\n    } else if (gap <= range) {\n      direction = 'vertical';\n    }\n\n    return direction;\n  } // https://toddmotto.com/ditch-the-array-foreach-call-nodelist-hack/\n\n\n  function forEach(arr, callback, scope) {\n    for (var i = 0, l = arr.length; i < l; i++) {\n      callback.call(scope, arr[i], i);\n    }\n  }\n\n  var classListSupport = 'classList' in document.createElement('_');\n  var hasClass = classListSupport ? function (el, str) {\n    return el.classList.contains(str);\n  } : function (el, str) {\n    return el.className.indexOf(str) >= 0;\n  };\n  var addClass = classListSupport ? function (el, str) {\n    if (!hasClass(el, str)) {\n      el.classList.add(str);\n    }\n  } : function (el, str) {\n    if (!hasClass(el, str)) {\n      el.className += ' ' + str;\n    }\n  };\n  var removeClass = classListSupport ? function (el, str) {\n    if (hasClass(el, str)) {\n      el.classList.remove(str);\n    }\n  } : function (el, str) {\n    if (hasClass(el, str)) {\n      el.className = el.className.replace(str, '');\n    }\n  };\n\n  function hasAttr(el, attr) {\n    return el.hasAttribute(attr);\n  }\n\n  function getAttr(el, attr) {\n    return el.getAttribute(attr);\n  }\n\n  function isNodeList(el) {\n    // Only NodeList has the \"item()\" function\n    return typeof el.item !== \"undefined\";\n  }\n\n  function setAttrs(els, attrs) {\n    els = isNodeList(els) || els instanceof Array ? els : [els];\n\n    if (Object.prototype.toString.call(attrs) !== '[object Object]') {\n      return;\n    }\n\n    for (var i = els.length; i--;) {\n      for (var key in attrs) {\n        els[i].setAttribute(key, attrs[key]);\n      }\n    }\n  }\n\n  function removeAttrs(els, attrs) {\n    els = isNodeList(els) || els instanceof Array ? els : [els];\n    attrs = attrs instanceof Array ? attrs : [attrs];\n    var attrLength = attrs.length;\n\n    for (var i = els.length; i--;) {\n      for (var j = attrLength; j--;) {\n        els[i].removeAttribute(attrs[j]);\n      }\n    }\n  }\n\n  function arrayFromNodeList(nl) {\n    var arr = [];\n\n    for (var i = 0, l = nl.length; i < l; i++) {\n      arr.push(nl[i]);\n    }\n\n    return arr;\n  }\n\n  function hideElement(el, forceHide) {\n    if (el.style.display !== 'none') {\n      el.style.display = 'none';\n    }\n  }\n\n  function showElement(el, forceHide) {\n    if (el.style.display === 'none') {\n      el.style.display = '';\n    }\n  }\n\n  function isVisible(el) {\n    return window.getComputedStyle(el).display !== 'none';\n  }\n\n  function whichProperty(props) {\n    if (typeof props === 'string') {\n      var arr = [props],\n          Props = props.charAt(0).toUpperCase() + props.substr(1),\n          prefixes = ['Webkit', 'Moz', 'ms', 'O'];\n      prefixes.forEach(function (prefix) {\n        if (prefix !== 'ms' || props === 'transform') {\n          arr.push(prefix + Props);\n        }\n      });\n      props = arr;\n    }\n\n    var el = document.createElement('fakeelement'),\n        len = props.length;\n\n    for (var i = 0; i < props.length; i++) {\n      var prop = props[i];\n\n      if (el.style[prop] !== undefined) {\n        return prop;\n      }\n    }\n\n    return false; // explicit for ie9-\n  }\n\n  function has3DTransforms(tf) {\n    if (!tf) {\n      return false;\n    }\n\n    if (!window.getComputedStyle) {\n      return false;\n    }\n\n    var doc = document,\n        body = getBody(),\n        docOverflow = setFakeBody(body),\n        el = doc.createElement('p'),\n        has3d,\n        cssTF = tf.length > 9 ? '-' + tf.slice(0, -9).toLowerCase() + '-' : '';\n    cssTF += 'transform'; // Add it to the body to get the computed style\n\n    body.insertBefore(el, null);\n    el.style[tf] = 'translate3d(1px,1px,1px)';\n    has3d = window.getComputedStyle(el).getPropertyValue(cssTF);\n    body.fake ? resetFakeBody(body, docOverflow) : el.remove();\n    return has3d !== undefined && has3d.length > 0 && has3d !== \"none\";\n  } // get transitionend, animationend based on transitionDuration\n  // @propin: string\n  // @propOut: string, first-letter uppercase\n  // Usage: getEndProperty('WebkitTransitionDuration', 'Transition') => webkitTransitionEnd\n\n\n  function getEndProperty(propIn, propOut) {\n    var endProp = false;\n\n    if (/^Webkit/.test(propIn)) {\n      endProp = 'webkit' + propOut + 'End';\n    } else if (/^O/.test(propIn)) {\n      endProp = 'o' + propOut + 'End';\n    } else if (propIn) {\n      endProp = propOut.toLowerCase() + 'end';\n    }\n\n    return endProp;\n  } // Test via a getter in the options object to see if the passive property is accessed\n\n\n  var supportsPassive = false;\n\n  try {\n    var opts = Object.defineProperty({}, 'passive', {\n      get: function get() {\n        supportsPassive = true;\n      }\n    });\n    window.addEventListener(\"test\", null, opts);\n  } catch (e) {}\n\n  var passiveOption = supportsPassive ? {\n    passive: true\n  } : false;\n\n  function addEvents(el, obj, preventScrolling) {\n    for (var prop in obj) {\n      var option = ['touchstart', 'touchmove'].indexOf(prop) >= 0 && !preventScrolling ? passiveOption : false;\n      el.addEventListener(prop, obj[prop], option);\n    }\n  }\n\n  function removeEvents(el, obj) {\n    for (var prop in obj) {\n      var option = ['touchstart', 'touchmove'].indexOf(prop) >= 0 ? passiveOption : false;\n      el.removeEventListener(prop, obj[prop], option);\n    }\n  }\n\n  function Events() {\n    return {\n      topics: {},\n      on: function on(eventName, fn) {\n        this.topics[eventName] = this.topics[eventName] || [];\n        this.topics[eventName].push(fn);\n      },\n      off: function off(eventName, fn) {\n        if (this.topics[eventName]) {\n          for (var i = 0; i < this.topics[eventName].length; i++) {\n            if (this.topics[eventName][i] === fn) {\n              this.topics[eventName].splice(i, 1);\n              break;\n            }\n          }\n        }\n      },\n      emit: function emit(eventName, data) {\n        data.type = eventName;\n\n        if (this.topics[eventName]) {\n          this.topics[eventName].forEach(function (fn) {\n            fn(data, eventName);\n          });\n        }\n      }\n    };\n  }\n\n  function jsTransform(element, attr, prefix, postfix, to, duration, callback) {\n    var tick = Math.min(duration, 10),\n        unit = to.indexOf('%') >= 0 ? '%' : 'px',\n        to = to.replace(unit, ''),\n        from = Number(element.style[attr].replace(prefix, '').replace(postfix, '').replace(unit, '')),\n        positionTick = (to - from) / duration * tick,\n        running;\n    setTimeout(moveElement, tick);\n\n    function moveElement() {\n      duration -= tick;\n      from += positionTick;\n      element.style[attr] = prefix + from + unit + postfix;\n\n      if (duration > 0) {\n        setTimeout(moveElement, tick);\n      } else {\n        callback();\n      }\n    }\n  }\n\n  var tns = function tns(options) {\n    options = extend({\n      container: '.slider',\n      mode: 'carousel',\n      axis: 'horizontal',\n      items: 1,\n      gutter: 0,\n      edgePadding: 0,\n      fixedWidth: false,\n      autoWidth: false,\n      viewportMax: false,\n      slideBy: 1,\n      center: false,\n      controls: true,\n      controlsPosition: 'top',\n      controlsText: ['prev', 'next'],\n      controlsContainer: false,\n      prevButton: false,\n      nextButton: false,\n      nav: true,\n      navPosition: 'top',\n      navContainer: false,\n      navAsThumbnails: false,\n      arrowKeys: false,\n      speed: 300,\n      autoplay: false,\n      autoplayPosition: 'top',\n      autoplayTimeout: 5000,\n      autoplayDirection: 'forward',\n      autoplayText: ['start', 'stop'],\n      autoplayHoverPause: false,\n      autoplayButton: false,\n      autoplayButtonOutput: true,\n      autoplayResetOnVisibility: true,\n      animateIn: 'tns-fadeIn',\n      animateOut: 'tns-fadeOut',\n      animateNormal: 'tns-normal',\n      animateDelay: false,\n      loop: true,\n      rewind: false,\n      autoHeight: false,\n      responsive: false,\n      lazyload: false,\n      lazyloadSelector: '.tns-lazy-img',\n      touch: true,\n      mouseDrag: false,\n      swipeAngle: 15,\n      nested: false,\n      preventActionWhenRunning: false,\n      preventScrollOnTouch: false,\n      freezable: true,\n      onInit: false,\n      useLocalStorage: true\n    }, options || {});\n    var doc = document,\n        win = window,\n        KEYS = {\n      ENTER: 13,\n      SPACE: 32,\n      LEFT: 37,\n      RIGHT: 39\n    },\n        tnsStorage = {},\n        localStorageAccess = options.useLocalStorage;\n\n    if (localStorageAccess) {\n      // check browser version and local storage access\n      var browserInfo = navigator.userAgent;\n      var uid = new Date();\n\n      try {\n        tnsStorage = win.localStorage;\n\n        if (tnsStorage) {\n          tnsStorage.setItem(uid, uid);\n          localStorageAccess = tnsStorage.getItem(uid) == uid;\n          tnsStorage.removeItem(uid);\n        } else {\n          localStorageAccess = false;\n        }\n\n        if (!localStorageAccess) {\n          tnsStorage = {};\n        }\n      } catch (e) {\n        localStorageAccess = false;\n      }\n\n      if (localStorageAccess) {\n        // remove storage when browser version changes\n        if (tnsStorage['tnsApp'] && tnsStorage['tnsApp'] !== browserInfo) {\n          ['tC', 'tPL', 'tMQ', 'tTf', 't3D', 'tTDu', 'tTDe', 'tADu', 'tADe', 'tTE', 'tAE'].forEach(function (item) {\n            tnsStorage.removeItem(item);\n          });\n        } // update browserInfo\n\n\n        localStorage['tnsApp'] = browserInfo;\n      }\n    }\n\n    var CALC = tnsStorage['tC'] ? checkStorageValue(tnsStorage['tC']) : setLocalStorage(tnsStorage, 'tC', calc(), localStorageAccess),\n        PERCENTAGELAYOUT = tnsStorage['tPL'] ? checkStorageValue(tnsStorage['tPL']) : setLocalStorage(tnsStorage, 'tPL', percentageLayout(), localStorageAccess),\n        CSSMQ = tnsStorage['tMQ'] ? checkStorageValue(tnsStorage['tMQ']) : setLocalStorage(tnsStorage, 'tMQ', mediaquerySupport(), localStorageAccess),\n        TRANSFORM = tnsStorage['tTf'] ? checkStorageValue(tnsStorage['tTf']) : setLocalStorage(tnsStorage, 'tTf', whichProperty('transform'), localStorageAccess),\n        HAS3DTRANSFORMS = tnsStorage['t3D'] ? checkStorageValue(tnsStorage['t3D']) : setLocalStorage(tnsStorage, 't3D', has3DTransforms(TRANSFORM), localStorageAccess),\n        TRANSITIONDURATION = tnsStorage['tTDu'] ? checkStorageValue(tnsStorage['tTDu']) : setLocalStorage(tnsStorage, 'tTDu', whichProperty('transitionDuration'), localStorageAccess),\n        TRANSITIONDELAY = tnsStorage['tTDe'] ? checkStorageValue(tnsStorage['tTDe']) : setLocalStorage(tnsStorage, 'tTDe', whichProperty('transitionDelay'), localStorageAccess),\n        ANIMATIONDURATION = tnsStorage['tADu'] ? checkStorageValue(tnsStorage['tADu']) : setLocalStorage(tnsStorage, 'tADu', whichProperty('animationDuration'), localStorageAccess),\n        ANIMATIONDELAY = tnsStorage['tADe'] ? checkStorageValue(tnsStorage['tADe']) : setLocalStorage(tnsStorage, 'tADe', whichProperty('animationDelay'), localStorageAccess),\n        TRANSITIONEND = tnsStorage['tTE'] ? checkStorageValue(tnsStorage['tTE']) : setLocalStorage(tnsStorage, 'tTE', getEndProperty(TRANSITIONDURATION, 'Transition'), localStorageAccess),\n        ANIMATIONEND = tnsStorage['tAE'] ? checkStorageValue(tnsStorage['tAE']) : setLocalStorage(tnsStorage, 'tAE', getEndProperty(ANIMATIONDURATION, 'Animation'), localStorageAccess); // get element nodes from selectors\n\n    var supportConsoleWarn = win.console && typeof win.console.warn === \"function\",\n        tnsList = ['container', 'controlsContainer', 'prevButton', 'nextButton', 'navContainer', 'autoplayButton'],\n        optionsElements = {};\n    tnsList.forEach(function (item) {\n      if (typeof options[item] === 'string') {\n        var str = options[item],\n            el = doc.querySelector(str);\n        optionsElements[item] = str;\n\n        if (el && el.nodeName) {\n          options[item] = el;\n        } else {\n          if (supportConsoleWarn) {\n            console.warn('Can\\'t find', options[item]);\n          }\n\n          return;\n        }\n      }\n    }); // make sure at least 1 slide\n\n    if (options.container.children.length < 1) {\n      if (supportConsoleWarn) {\n        console.warn('No slides found in', options.container);\n      }\n\n      return;\n    } // update options\n\n\n    var responsive = options.responsive,\n        nested = options.nested,\n        carousel = options.mode === 'carousel' ? true : false;\n\n    if (responsive) {\n      // apply responsive[0] to options and remove it\n      if (0 in responsive) {\n        options = extend(options, responsive[0]);\n        delete responsive[0];\n      }\n\n      var responsiveTem = {};\n\n      for (var key in responsive) {\n        var val = responsive[key]; // update responsive\n        // from: 300: 2\n        // to: \n        //   300: { \n        //     items: 2 \n        //   } \n\n        val = typeof val === 'number' ? {\n          items: val\n        } : val;\n        responsiveTem[key] = val;\n      }\n\n      responsive = responsiveTem;\n      responsiveTem = null;\n    } // update options\n\n\n    function updateOptions(obj) {\n      for (var key in obj) {\n        if (!carousel) {\n          if (key === 'slideBy') {\n            obj[key] = 'page';\n          }\n\n          if (key === 'edgePadding') {\n            obj[key] = false;\n          }\n\n          if (key === 'autoHeight') {\n            obj[key] = false;\n          }\n        } // update responsive options\n\n\n        if (key === 'responsive') {\n          updateOptions(obj[key]);\n        }\n      }\n    }\n\n    if (!carousel) {\n      updateOptions(options);\n    } // === define and set variables ===\n\n\n    if (!carousel) {\n      options.axis = 'horizontal';\n      options.slideBy = 'page';\n      options.edgePadding = false;\n      var animateIn = options.animateIn,\n          animateOut = options.animateOut,\n          animateDelay = options.animateDelay,\n          animateNormal = options.animateNormal;\n    }\n\n    var horizontal = options.axis === 'horizontal' ? true : false,\n        outerWrapper = doc.createElement('div'),\n        innerWrapper = doc.createElement('div'),\n        middleWrapper,\n        container = options.container,\n        containerParent = container.parentNode,\n        containerHTML = container.outerHTML,\n        slideItems = container.children,\n        slideCount = slideItems.length,\n        breakpointZone,\n        windowWidth = getWindowWidth(),\n        isOn = false;\n\n    if (responsive) {\n      setBreakpointZone();\n    }\n\n    if (carousel) {\n      container.className += ' tns-vpfix';\n    } // fixedWidth: viewport > rightBoundary > indexMax\n\n\n    var autoWidth = options.autoWidth,\n        fixedWidth = getOption('fixedWidth'),\n        edgePadding = getOption('edgePadding'),\n        gutter = getOption('gutter'),\n        viewport = getViewportWidth(),\n        center = getOption('center'),\n        items = !autoWidth ? Math.floor(getOption('items')) : 1,\n        slideBy = getOption('slideBy'),\n        viewportMax = options.viewportMax || options.fixedWidthViewportWidth,\n        arrowKeys = getOption('arrowKeys'),\n        speed = getOption('speed'),\n        rewind = options.rewind,\n        loop = rewind ? false : options.loop,\n        autoHeight = getOption('autoHeight'),\n        controls = getOption('controls'),\n        controlsText = getOption('controlsText'),\n        nav = getOption('nav'),\n        touch = getOption('touch'),\n        mouseDrag = getOption('mouseDrag'),\n        autoplay = getOption('autoplay'),\n        autoplayTimeout = getOption('autoplayTimeout'),\n        autoplayText = getOption('autoplayText'),\n        autoplayHoverPause = getOption('autoplayHoverPause'),\n        autoplayResetOnVisibility = getOption('autoplayResetOnVisibility'),\n        sheet = createStyleSheet(),\n        lazyload = options.lazyload,\n        lazyloadSelector = options.lazyloadSelector,\n        slidePositions,\n        // collection of slide positions\n    slideItemsOut = [],\n        cloneCount = loop ? getCloneCountForLoop() : 0,\n        slideCountNew = !carousel ? slideCount + cloneCount : slideCount + cloneCount * 2,\n        hasRightDeadZone = (fixedWidth || autoWidth) && !loop ? true : false,\n        rightBoundary = fixedWidth ? getRightBoundary() : null,\n        updateIndexBeforeTransform = !carousel || !loop ? true : false,\n        // transform\n    transformAttr = horizontal ? 'left' : 'top',\n        transformPrefix = '',\n        transformPostfix = '',\n        // index\n    getIndexMax = function () {\n      if (fixedWidth) {\n        return function () {\n          return center && !loop ? slideCount - 1 : Math.ceil(-rightBoundary / (fixedWidth + gutter));\n        };\n      } else if (autoWidth) {\n        return function () {\n          for (var i = slideCountNew; i--;) {\n            if (slidePositions[i] >= -rightBoundary) {\n              return i;\n            }\n          }\n        };\n      } else {\n        return function () {\n          if (center && carousel && !loop) {\n            return slideCount - 1;\n          } else {\n            return loop || carousel ? Math.max(0, slideCountNew - Math.ceil(items)) : slideCountNew - 1;\n          }\n        };\n      }\n    }(),\n        index = getStartIndex(getOption('startIndex')),\n        indexCached = index,\n        displayIndex = getCurrentSlide(),\n        indexMin = 0,\n        indexMax = !autoWidth ? getIndexMax() : null,\n        // resize\n    resizeTimer,\n        preventActionWhenRunning = options.preventActionWhenRunning,\n        swipeAngle = options.swipeAngle,\n        moveDirectionExpected = swipeAngle ? '?' : true,\n        running = false,\n        onInit = options.onInit,\n        events = new Events(),\n        // id, class\n    newContainerClasses = ' tns-slider tns-' + options.mode,\n        slideId = container.id || getSlideId(),\n        disable = getOption('disable'),\n        disabled = false,\n        freezable = options.freezable,\n        freeze = freezable && !autoWidth ? getFreeze() : false,\n        frozen = false,\n        controlsEvents = {\n      'click': onControlsClick,\n      'keydown': onControlsKeydown\n    },\n        navEvents = {\n      'click': onNavClick,\n      'keydown': onNavKeydown\n    },\n        hoverEvents = {\n      'mouseover': mouseoverPause,\n      'mouseout': mouseoutRestart\n    },\n        visibilityEvent = {\n      'visibilitychange': onVisibilityChange\n    },\n        docmentKeydownEvent = {\n      'keydown': onDocumentKeydown\n    },\n        touchEvents = {\n      'touchstart': onPanStart,\n      'touchmove': onPanMove,\n      'touchend': onPanEnd,\n      'touchcancel': onPanEnd\n    },\n        dragEvents = {\n      'mousedown': onPanStart,\n      'mousemove': onPanMove,\n      'mouseup': onPanEnd,\n      'mouseleave': onPanEnd\n    },\n        hasControls = hasOption('controls'),\n        hasNav = hasOption('nav'),\n        navAsThumbnails = autoWidth ? true : options.navAsThumbnails,\n        hasAutoplay = hasOption('autoplay'),\n        hasTouch = hasOption('touch'),\n        hasMouseDrag = hasOption('mouseDrag'),\n        slideActiveClass = 'tns-slide-active',\n        imgCompleteClass = 'tns-complete',\n        imgEvents = {\n      'load': onImgLoaded,\n      'error': onImgFailed\n    },\n        imgsComplete,\n        liveregionCurrent,\n        preventScroll = options.preventScrollOnTouch === 'force' ? true : false; // controls\n\n\n    if (hasControls) {\n      var controlsContainer = options.controlsContainer,\n          controlsContainerHTML = options.controlsContainer ? options.controlsContainer.outerHTML : '',\n          prevButton = options.prevButton,\n          nextButton = options.nextButton,\n          prevButtonHTML = options.prevButton ? options.prevButton.outerHTML : '',\n          nextButtonHTML = options.nextButton ? options.nextButton.outerHTML : '',\n          prevIsButton,\n          nextIsButton;\n    } // nav\n\n\n    if (hasNav) {\n      var navContainer = options.navContainer,\n          navContainerHTML = options.navContainer ? options.navContainer.outerHTML : '',\n          navItems,\n          pages = autoWidth ? slideCount : getPages(),\n          pagesCached = 0,\n          navClicked = -1,\n          navCurrentIndex = getCurrentNavIndex(),\n          navCurrentIndexCached = navCurrentIndex,\n          navActiveClass = 'tns-nav-active',\n          navStr = 'Carousel Page ',\n          navStrCurrent = ' (Current Slide)';\n    } // autoplay\n\n\n    if (hasAutoplay) {\n      var autoplayDirection = options.autoplayDirection === 'forward' ? 1 : -1,\n          autoplayButton = options.autoplayButton,\n          autoplayButtonHTML = options.autoplayButton ? options.autoplayButton.outerHTML : '',\n          autoplayHtmlStrings = ['<span class=\\'tns-visually-hidden\\'>', ' animation</span>'],\n          autoplayTimer,\n          animating,\n          autoplayHoverPaused,\n          autoplayUserPaused,\n          autoplayVisibilityPaused;\n    }\n\n    if (hasTouch || hasMouseDrag) {\n      var initPosition = {},\n          lastPosition = {},\n          translateInit,\n          disX,\n          disY,\n          panStart = false,\n          rafIndex,\n          getDist = horizontal ? function (a, b) {\n        return a.x - b.x;\n      } : function (a, b) {\n        return a.y - b.y;\n      };\n    } // disable slider when slidecount <= items\n\n\n    if (!autoWidth) {\n      resetVariblesWhenDisable(disable || freeze);\n    }\n\n    if (TRANSFORM) {\n      transformAttr = TRANSFORM;\n      transformPrefix = 'translate';\n\n      if (HAS3DTRANSFORMS) {\n        transformPrefix += horizontal ? '3d(' : '3d(0px, ';\n        transformPostfix = horizontal ? ', 0px, 0px)' : ', 0px)';\n      } else {\n        transformPrefix += horizontal ? 'X(' : 'Y(';\n        transformPostfix = ')';\n      }\n    }\n\n    if (carousel) {\n      container.className = container.className.replace('tns-vpfix', '');\n    }\n\n    initStructure();\n    initSheet();\n    initSliderTransform(); // === COMMON FUNCTIONS === //\n\n    function resetVariblesWhenDisable(condition) {\n      if (condition) {\n        controls = nav = touch = mouseDrag = arrowKeys = autoplay = autoplayHoverPause = autoplayResetOnVisibility = false;\n      }\n    }\n\n    function getCurrentSlide() {\n      var tem = carousel ? index - cloneCount : index;\n\n      while (tem < 0) {\n        tem += slideCount;\n      }\n\n      return tem % slideCount + 1;\n    }\n\n    function getStartIndex(ind) {\n      ind = ind ? Math.max(0, Math.min(loop ? slideCount - 1 : slideCount - items, ind)) : 0;\n      return carousel ? ind + cloneCount : ind;\n    }\n\n    function getAbsIndex(i) {\n      if (i == null) {\n        i = index;\n      }\n\n      if (carousel) {\n        i -= cloneCount;\n      }\n\n      while (i < 0) {\n        i += slideCount;\n      }\n\n      return Math.floor(i % slideCount);\n    }\n\n    function getCurrentNavIndex() {\n      var absIndex = getAbsIndex(),\n          result;\n      result = navAsThumbnails ? absIndex : fixedWidth || autoWidth ? Math.ceil((absIndex + 1) * pages / slideCount - 1) : Math.floor(absIndex / items); // set active nav to the last one when reaches the right edge\n\n      if (!loop && carousel && index === indexMax) {\n        result = pages - 1;\n      }\n\n      return result;\n    }\n\n    function getItemsMax() {\n      // fixedWidth or autoWidth while viewportMax is not available\n      if (autoWidth || fixedWidth && !viewportMax) {\n        return slideCount - 1; // most cases\n      } else {\n        var str = fixedWidth ? 'fixedWidth' : 'items',\n            arr = [];\n\n        if (fixedWidth || options[str] < slideCount) {\n          arr.push(options[str]);\n        }\n\n        if (responsive) {\n          for (var bp in responsive) {\n            var tem = responsive[bp][str];\n\n            if (tem && (fixedWidth || tem < slideCount)) {\n              arr.push(tem);\n            }\n          }\n        }\n\n        if (!arr.length) {\n          arr.push(0);\n        }\n\n        return Math.ceil(fixedWidth ? viewportMax / Math.min.apply(null, arr) : Math.max.apply(null, arr));\n      }\n    }\n\n    function getCloneCountForLoop() {\n      var itemsMax = getItemsMax(),\n          result = carousel ? Math.ceil((itemsMax * 5 - slideCount) / 2) : itemsMax * 4 - slideCount;\n      result = Math.max(itemsMax, result);\n      return hasOption('edgePadding') ? result + 1 : result;\n    }\n\n    function getWindowWidth() {\n      return win.innerWidth || doc.documentElement.clientWidth || doc.body.clientWidth;\n    }\n\n    function getInsertPosition(pos) {\n      return pos === 'top' ? 'afterbegin' : 'beforeend';\n    }\n\n    function getClientWidth(el) {\n      var div = doc.createElement('div'),\n          rect,\n          width;\n      el.appendChild(div);\n      rect = div.getBoundingClientRect();\n      width = rect.right - rect.left;\n      div.remove();\n      return width || getClientWidth(el.parentNode);\n    }\n\n    function getViewportWidth() {\n      var gap = edgePadding ? edgePadding * 2 - gutter : 0;\n      return getClientWidth(containerParent) - gap;\n    }\n\n    function hasOption(item) {\n      if (options[item]) {\n        return true;\n      } else {\n        if (responsive) {\n          for (var bp in responsive) {\n            if (responsive[bp][item]) {\n              return true;\n            }\n          }\n        }\n\n        return false;\n      }\n    } // get option:\n    // fixed width: viewport, fixedWidth, gutter => items\n    // others: window width => all variables\n    // all: items => slideBy\n\n\n    function getOption(item, ww) {\n      if (ww == null) {\n        ww = windowWidth;\n      }\n\n      if (item === 'items' && fixedWidth) {\n        return Math.floor((viewport + gutter) / (fixedWidth + gutter)) || 1;\n      } else {\n        var result = options[item];\n\n        if (responsive) {\n          for (var bp in responsive) {\n            // bp: convert string to number\n            if (ww >= parseInt(bp)) {\n              if (item in responsive[bp]) {\n                result = responsive[bp][item];\n              }\n            }\n          }\n        }\n\n        if (item === 'slideBy' && result === 'page') {\n          result = getOption('items');\n        }\n\n        if (!carousel && (item === 'slideBy' || item === 'items')) {\n          result = Math.floor(result);\n        }\n\n        return result;\n      }\n    }\n\n    function getSlideMarginLeft(i) {\n      return CALC ? CALC + '(' + i * 100 + '% / ' + slideCountNew + ')' : i * 100 / slideCountNew + '%';\n    }\n\n    function getInnerWrapperStyles(edgePaddingTem, gutterTem, fixedWidthTem, speedTem, autoHeightBP) {\n      var str = '';\n\n      if (edgePaddingTem !== undefined) {\n        var gap = edgePaddingTem;\n\n        if (gutterTem) {\n          gap -= gutterTem;\n        }\n\n        str = horizontal ? 'margin: 0 ' + gap + 'px 0 ' + edgePaddingTem + 'px;' : 'margin: ' + edgePaddingTem + 'px 0 ' + gap + 'px 0;';\n      } else if (gutterTem && !fixedWidthTem) {\n        var gutterTemUnit = '-' + gutterTem + 'px',\n            dir = horizontal ? gutterTemUnit + ' 0 0' : '0 ' + gutterTemUnit + ' 0';\n        str = 'margin: 0 ' + dir + ';';\n      }\n\n      if (!carousel && autoHeightBP && TRANSITIONDURATION && speedTem) {\n        str += getTransitionDurationStyle(speedTem);\n      }\n\n      return str;\n    }\n\n    function getContainerWidth(fixedWidthTem, gutterTem, itemsTem) {\n      if (fixedWidthTem) {\n        return (fixedWidthTem + gutterTem) * slideCountNew + 'px';\n      } else {\n        return CALC ? CALC + '(' + slideCountNew * 100 + '% / ' + itemsTem + ')' : slideCountNew * 100 / itemsTem + '%';\n      }\n    }\n\n    function getSlideWidthStyle(fixedWidthTem, gutterTem, itemsTem) {\n      var width;\n\n      if (fixedWidthTem) {\n        width = fixedWidthTem + gutterTem + 'px';\n      } else {\n        if (!carousel) {\n          itemsTem = Math.floor(itemsTem);\n        }\n\n        var dividend = carousel ? slideCountNew : itemsTem;\n        width = CALC ? CALC + '(100% / ' + dividend + ')' : 100 / dividend + '%';\n      }\n\n      width = 'width:' + width; // inner slider: overwrite outer slider styles\n\n      return nested !== 'inner' ? width + ';' : width + ' !important;';\n    }\n\n    function getSlideGutterStyle(gutterTem) {\n      var str = ''; // gutter maybe interger || 0\n      // so can't use 'if (gutter)'\n\n      if (gutterTem !== false) {\n        var prop = horizontal ? 'padding-' : 'margin-',\n            dir = horizontal ? 'right' : 'bottom';\n        str = prop + dir + ': ' + gutterTem + 'px;';\n      }\n\n      return str;\n    }\n\n    function getCSSPrefix(name, num) {\n      var prefix = name.substring(0, name.length - num).toLowerCase();\n\n      if (prefix) {\n        prefix = '-' + prefix + '-';\n      }\n\n      return prefix;\n    }\n\n    function getTransitionDurationStyle(speed) {\n      return getCSSPrefix(TRANSITIONDURATION, 18) + 'transition-duration:' + speed / 1000 + 's;';\n    }\n\n    function getAnimationDurationStyle(speed) {\n      return getCSSPrefix(ANIMATIONDURATION, 17) + 'animation-duration:' + speed / 1000 + 's;';\n    }\n\n    function initStructure() {\n      var classOuter = 'tns-outer',\n          classInner = 'tns-inner',\n          hasGutter = hasOption('gutter');\n      outerWrapper.className = classOuter;\n      innerWrapper.className = classInner;\n      outerWrapper.id = slideId + '-ow';\n      innerWrapper.id = slideId + '-iw'; // set container properties\n\n      if (container.id === '') {\n        container.id = slideId;\n      }\n\n      newContainerClasses += PERCENTAGELAYOUT || autoWidth ? ' tns-subpixel' : ' tns-no-subpixel';\n      newContainerClasses += CALC ? ' tns-calc' : ' tns-no-calc';\n\n      if (autoWidth) {\n        newContainerClasses += ' tns-autowidth';\n      }\n\n      newContainerClasses += ' tns-' + options.axis;\n      container.className += newContainerClasses; // add constrain layer for carousel\n\n      if (carousel) {\n        middleWrapper = doc.createElement('div');\n        middleWrapper.id = slideId + '-mw';\n        middleWrapper.className = 'tns-ovh';\n        outerWrapper.appendChild(middleWrapper);\n        middleWrapper.appendChild(innerWrapper);\n      } else {\n        outerWrapper.appendChild(innerWrapper);\n      }\n\n      if (autoHeight) {\n        var wp = middleWrapper ? middleWrapper : innerWrapper;\n        wp.className += ' tns-ah';\n      }\n\n      containerParent.insertBefore(outerWrapper, container);\n      innerWrapper.appendChild(container); // add id, class, aria attributes \n      // before clone slides\n\n      forEach(slideItems, function (item, i) {\n        addClass(item, 'tns-item');\n\n        if (!item.id) {\n          item.id = slideId + '-item' + i;\n        }\n\n        if (!carousel && animateNormal) {\n          addClass(item, animateNormal);\n        }\n\n        setAttrs(item, {\n          'aria-hidden': 'true',\n          'tabindex': '-1'\n        });\n      }); // ## clone slides\n      // carousel: n + slides + n\n      // gallery:      slides + n\n\n      if (cloneCount) {\n        var fragmentBefore = doc.createDocumentFragment(),\n            fragmentAfter = doc.createDocumentFragment();\n\n        for (var j = cloneCount; j--;) {\n          var num = j % slideCount,\n              cloneFirst = slideItems[num].cloneNode(true);\n          removeAttrs(cloneFirst, 'id');\n          fragmentAfter.insertBefore(cloneFirst, fragmentAfter.firstChild);\n\n          if (carousel) {\n            var cloneLast = slideItems[slideCount - 1 - num].cloneNode(true);\n            removeAttrs(cloneLast, 'id');\n            fragmentBefore.appendChild(cloneLast);\n          }\n        }\n\n        container.insertBefore(fragmentBefore, container.firstChild);\n        container.appendChild(fragmentAfter);\n        slideItems = container.children;\n      }\n    }\n\n    function initSliderTransform() {\n      // ## images loaded/failed\n      if (hasOption('autoHeight') || autoWidth || !horizontal) {\n        var imgs = container.querySelectorAll('img'); // add complete class if all images are loaded/failed\n\n        forEach(imgs, function (img) {\n          var src = img.src;\n\n          if (src && src.indexOf('data:image') < 0) {\n            addEvents(img, imgEvents);\n            img.src = '';\n            img.src = src;\n            addClass(img, 'loading');\n          } else if (!lazyload) {\n            imgLoaded(img);\n          }\n        }); // All imgs are completed\n\n        raf(function () {\n          imgsLoadedCheck(arrayFromNodeList(imgs), function () {\n            imgsComplete = true;\n          });\n        }); // Check imgs in window only for auto height\n\n        if (!autoWidth && horizontal) {\n          imgs = getImageArray(index, Math.min(index + items - 1, slideCountNew - 1));\n        }\n\n        lazyload ? initSliderTransformStyleCheck() : raf(function () {\n          imgsLoadedCheck(arrayFromNodeList(imgs), initSliderTransformStyleCheck);\n        });\n      } else {\n        // set container transform property\n        if (carousel) {\n          doContainerTransformSilent();\n        } // update slider tools and events\n\n\n        initTools();\n        initEvents();\n      }\n    }\n\n    function initSliderTransformStyleCheck() {\n      if (autoWidth) {\n        // check styles application\n        var num = loop ? index : slideCount - 1;\n\n        (function stylesApplicationCheck() {\n          slideItems[num - 1].getBoundingClientRect().right.toFixed(2) === slideItems[num].getBoundingClientRect().left.toFixed(2) ? initSliderTransformCore() : setTimeout(function () {\n            stylesApplicationCheck();\n          }, 16);\n        })();\n      } else {\n        initSliderTransformCore();\n      }\n    }\n\n    function initSliderTransformCore() {\n      // run Fn()s which are rely on image loading\n      if (!horizontal || autoWidth) {\n        setSlidePositions();\n\n        if (autoWidth) {\n          rightBoundary = getRightBoundary();\n\n          if (freezable) {\n            freeze = getFreeze();\n          }\n\n          indexMax = getIndexMax(); // <= slidePositions, rightBoundary <=\n\n          resetVariblesWhenDisable(disable || freeze);\n        } else {\n          updateContentWrapperHeight();\n        }\n      } // set container transform property\n\n\n      if (carousel) {\n        doContainerTransformSilent();\n      } // update slider tools and events\n\n\n      initTools();\n      initEvents();\n    }\n\n    function initSheet() {\n      // gallery:\n      // set animation classes and left value for gallery slider\n      if (!carousel) {\n        for (var i = index, l = index + Math.min(slideCount, items); i < l; i++) {\n          var item = slideItems[i];\n          item.style.left = (i - index) * 100 / items + '%';\n          addClass(item, animateIn);\n          removeClass(item, animateNormal);\n        }\n      } // #### LAYOUT\n      // ## INLINE-BLOCK VS FLOAT\n      // ## PercentageLayout:\n      // slides: inline-block\n      // remove blank space between slides by set font-size: 0\n      // ## Non PercentageLayout:\n      // slides: float\n      //         margin-right: -100%\n      //         margin-left: ~\n      // Resource: https://docs.google.com/spreadsheets/d/147up245wwTXeQYve3BRSAD4oVcvQmuGsFteJOeA5xNQ/edit?usp=sharing\n\n\n      if (horizontal) {\n        if (PERCENTAGELAYOUT || autoWidth) {\n          addCSSRule(sheet, '#' + slideId + ' > .tns-item', 'font-size:' + win.getComputedStyle(slideItems[0]).fontSize + ';', getCssRulesLength(sheet));\n          addCSSRule(sheet, '#' + slideId, 'font-size:0;', getCssRulesLength(sheet));\n        } else if (carousel) {\n          forEach(slideItems, function (slide, i) {\n            slide.style.marginLeft = getSlideMarginLeft(i);\n          });\n        }\n      } // ## BASIC STYLES\n\n\n      if (CSSMQ) {\n        // middle wrapper style\n        if (TRANSITIONDURATION) {\n          var str = middleWrapper && options.autoHeight ? getTransitionDurationStyle(options.speed) : '';\n          addCSSRule(sheet, '#' + slideId + '-mw', str, getCssRulesLength(sheet));\n        } // inner wrapper styles\n\n\n        str = getInnerWrapperStyles(options.edgePadding, options.gutter, options.fixedWidth, options.speed, options.autoHeight);\n        addCSSRule(sheet, '#' + slideId + '-iw', str, getCssRulesLength(sheet)); // container styles\n\n        if (carousel) {\n          str = horizontal && !autoWidth ? 'width:' + getContainerWidth(options.fixedWidth, options.gutter, options.items) + ';' : '';\n\n          if (TRANSITIONDURATION) {\n            str += getTransitionDurationStyle(speed);\n          }\n\n          addCSSRule(sheet, '#' + slideId, str, getCssRulesLength(sheet));\n        } // slide styles\n\n\n        str = horizontal && !autoWidth ? getSlideWidthStyle(options.fixedWidth, options.gutter, options.items) : '';\n\n        if (options.gutter) {\n          str += getSlideGutterStyle(options.gutter);\n        } // set gallery items transition-duration\n\n\n        if (!carousel) {\n          if (TRANSITIONDURATION) {\n            str += getTransitionDurationStyle(speed);\n          }\n\n          if (ANIMATIONDURATION) {\n            str += getAnimationDurationStyle(speed);\n          }\n        }\n\n        if (str) {\n          addCSSRule(sheet, '#' + slideId + ' > .tns-item', str, getCssRulesLength(sheet));\n        } // non CSS mediaqueries: IE8\n        // ## update inner wrapper, container, slides if needed\n        // set inline styles for inner wrapper & container\n        // insert stylesheet (one line) for slides only (since slides are many)\n\n      } else {\n        // middle wrapper styles\n        update_carousel_transition_duration(); // inner wrapper styles\n\n        innerWrapper.style.cssText = getInnerWrapperStyles(edgePadding, gutter, fixedWidth, autoHeight); // container styles\n\n        if (carousel && horizontal && !autoWidth) {\n          container.style.width = getContainerWidth(fixedWidth, gutter, items);\n        } // slide styles\n\n\n        var str = horizontal && !autoWidth ? getSlideWidthStyle(fixedWidth, gutter, items) : '';\n\n        if (gutter) {\n          str += getSlideGutterStyle(gutter);\n        } // append to the last line\n\n\n        if (str) {\n          addCSSRule(sheet, '#' + slideId + ' > .tns-item', str, getCssRulesLength(sheet));\n        }\n      } // ## MEDIAQUERIES\n\n\n      if (responsive && CSSMQ) {\n        for (var bp in responsive) {\n          // bp: convert string to number\n          bp = parseInt(bp);\n          var opts = responsive[bp],\n              str = '',\n              middleWrapperStr = '',\n              innerWrapperStr = '',\n              containerStr = '',\n              slideStr = '',\n              itemsBP = !autoWidth ? getOption('items', bp) : null,\n              fixedWidthBP = getOption('fixedWidth', bp),\n              speedBP = getOption('speed', bp),\n              edgePaddingBP = getOption('edgePadding', bp),\n              autoHeightBP = getOption('autoHeight', bp),\n              gutterBP = getOption('gutter', bp); // middle wrapper string\n\n          if (TRANSITIONDURATION && middleWrapper && getOption('autoHeight', bp) && 'speed' in opts) {\n            middleWrapperStr = '#' + slideId + '-mw{' + getTransitionDurationStyle(speedBP) + '}';\n          } // inner wrapper string\n\n\n          if ('edgePadding' in opts || 'gutter' in opts) {\n            innerWrapperStr = '#' + slideId + '-iw{' + getInnerWrapperStyles(edgePaddingBP, gutterBP, fixedWidthBP, speedBP, autoHeightBP) + '}';\n          } // container string\n\n\n          if (carousel && horizontal && !autoWidth && ('fixedWidth' in opts || 'items' in opts || fixedWidth && 'gutter' in opts)) {\n            containerStr = 'width:' + getContainerWidth(fixedWidthBP, gutterBP, itemsBP) + ';';\n          }\n\n          if (TRANSITIONDURATION && 'speed' in opts) {\n            containerStr += getTransitionDurationStyle(speedBP);\n          }\n\n          if (containerStr) {\n            containerStr = '#' + slideId + '{' + containerStr + '}';\n          } // slide string\n\n\n          if ('fixedWidth' in opts || fixedWidth && 'gutter' in opts || !carousel && 'items' in opts) {\n            slideStr += getSlideWidthStyle(fixedWidthBP, gutterBP, itemsBP);\n          }\n\n          if ('gutter' in opts) {\n            slideStr += getSlideGutterStyle(gutterBP);\n          } // set gallery items transition-duration\n\n\n          if (!carousel && 'speed' in opts) {\n            if (TRANSITIONDURATION) {\n              slideStr += getTransitionDurationStyle(speedBP);\n            }\n\n            if (ANIMATIONDURATION) {\n              slideStr += getAnimationDurationStyle(speedBP);\n            }\n          }\n\n          if (slideStr) {\n            slideStr = '#' + slideId + ' > .tns-item{' + slideStr + '}';\n          } // add up\n\n\n          str = middleWrapperStr + innerWrapperStr + containerStr + slideStr;\n\n          if (str) {\n            sheet.insertRule('@media (min-width: ' + bp / 16 + 'em) {' + str + '}', sheet.cssRules.length);\n          }\n        }\n      }\n    }\n\n    function initTools() {\n      // == slides ==\n      updateSlideStatus(); // == live region ==\n\n      outerWrapper.insertAdjacentHTML('afterbegin', '<div class=\"tns-liveregion tns-visually-hidden\" aria-live=\"polite\" aria-atomic=\"true\">slide <span class=\"current\">' + getLiveRegionStr() + '</span>  of ' + slideCount + '</div>');\n      liveregionCurrent = outerWrapper.querySelector('.tns-liveregion .current'); // == autoplayInit ==\n\n      if (hasAutoplay) {\n        var txt = autoplay ? 'stop' : 'start';\n\n        if (autoplayButton) {\n          setAttrs(autoplayButton, {\n            'data-action': txt\n          });\n        } else if (options.autoplayButtonOutput) {\n          outerWrapper.insertAdjacentHTML(getInsertPosition(options.autoplayPosition), '<button data-action=\"' + txt + '\">' + autoplayHtmlStrings[0] + txt + autoplayHtmlStrings[1] + autoplayText[0] + '</button>');\n          autoplayButton = outerWrapper.querySelector('[data-action]');\n        } // add event\n\n\n        if (autoplayButton) {\n          addEvents(autoplayButton, {\n            'click': toggleAutoplay\n          });\n        }\n\n        if (autoplay) {\n          startAutoplay();\n\n          if (autoplayHoverPause) {\n            addEvents(container, hoverEvents);\n          }\n\n          if (autoplayResetOnVisibility) {\n            addEvents(container, visibilityEvent);\n          }\n        }\n      } // == navInit ==\n\n\n      if (hasNav) {\n        var initIndex = !carousel ? 0 : cloneCount; // customized nav\n        // will not hide the navs in case they're thumbnails\n\n        if (navContainer) {\n          setAttrs(navContainer, {\n            'aria-label': 'Carousel Pagination'\n          });\n          navItems = navContainer.children;\n          forEach(navItems, function (item, i) {\n            setAttrs(item, {\n              'data-nav': i,\n              'tabindex': '-1',\n              'aria-label': navStr + (i + 1),\n              'aria-controls': slideId\n            });\n          }); // generated nav \n        } else {\n          var navHtml = '',\n              hiddenStr = navAsThumbnails ? '' : 'style=\"display:none\"';\n\n          for (var i = 0; i < slideCount; i++) {\n            // hide nav items by default\n            navHtml += '<button data-nav=\"' + i + '\" tabindex=\"-1\" aria-controls=\"' + slideId + '\" ' + hiddenStr + ' aria-label=\"' + navStr + (i + 1) + '\"></button>';\n          }\n\n          navHtml = '<div class=\"tns-nav\" aria-label=\"Carousel Pagination\">' + navHtml + '</div>';\n          outerWrapper.insertAdjacentHTML(getInsertPosition(options.navPosition), navHtml);\n          navContainer = outerWrapper.querySelector('.tns-nav');\n          navItems = navContainer.children;\n        }\n\n        updateNavVisibility(); // add transition\n\n        if (TRANSITIONDURATION) {\n          var prefix = TRANSITIONDURATION.substring(0, TRANSITIONDURATION.length - 18).toLowerCase(),\n              str = 'transition: all ' + speed / 1000 + 's';\n\n          if (prefix) {\n            str = '-' + prefix + '-' + str;\n          }\n\n          addCSSRule(sheet, '[aria-controls^=' + slideId + '-item]', str, getCssRulesLength(sheet));\n        }\n\n        setAttrs(navItems[navCurrentIndex], {\n          'aria-label': navStr + (navCurrentIndex + 1) + navStrCurrent\n        });\n        removeAttrs(navItems[navCurrentIndex], 'tabindex');\n        addClass(navItems[navCurrentIndex], navActiveClass); // add events\n\n        addEvents(navContainer, navEvents);\n      } // == controlsInit ==\n\n\n      if (hasControls) {\n        if (!controlsContainer && (!prevButton || !nextButton)) {\n          outerWrapper.insertAdjacentHTML(getInsertPosition(options.controlsPosition), '<div class=\"tns-controls\" aria-label=\"Carousel Navigation\" tabindex=\"0\"><button data-controls=\"prev\" tabindex=\"-1\" aria-controls=\"' + slideId + '\">' + controlsText[0] + '</button><button data-controls=\"next\" tabindex=\"-1\" aria-controls=\"' + slideId + '\">' + controlsText[1] + '</button></div>');\n          controlsContainer = outerWrapper.querySelector('.tns-controls');\n        }\n\n        if (!prevButton || !nextButton) {\n          prevButton = controlsContainer.children[0];\n          nextButton = controlsContainer.children[1];\n        }\n\n        if (options.controlsContainer) {\n          setAttrs(controlsContainer, {\n            'aria-label': 'Carousel Navigation',\n            'tabindex': '0'\n          });\n        }\n\n        if (options.controlsContainer || options.prevButton && options.nextButton) {\n          setAttrs([prevButton, nextButton], {\n            'aria-controls': slideId,\n            'tabindex': '-1'\n          });\n        }\n\n        if (options.controlsContainer || options.prevButton && options.nextButton) {\n          setAttrs(prevButton, {\n            'data-controls': 'prev'\n          });\n          setAttrs(nextButton, {\n            'data-controls': 'next'\n          });\n        }\n\n        prevIsButton = isButton(prevButton);\n        nextIsButton = isButton(nextButton);\n        updateControlsStatus(); // add events\n\n        if (controlsContainer) {\n          addEvents(controlsContainer, controlsEvents);\n        } else {\n          addEvents(prevButton, controlsEvents);\n          addEvents(nextButton, controlsEvents);\n        }\n      } // hide tools if needed\n\n\n      disableUI();\n    }\n\n    function initEvents() {\n      // add events\n      if (carousel && TRANSITIONEND) {\n        var eve = {};\n        eve[TRANSITIONEND] = onTransitionEnd;\n        addEvents(container, eve);\n      }\n\n      if (touch) {\n        addEvents(container, touchEvents, options.preventScrollOnTouch);\n      }\n\n      if (mouseDrag) {\n        addEvents(container, dragEvents);\n      }\n\n      if (arrowKeys) {\n        addEvents(doc, docmentKeydownEvent);\n      }\n\n      if (nested === 'inner') {\n        events.on('outerResized', function () {\n          resizeTasks();\n          events.emit('innerLoaded', info());\n        });\n      } else if (responsive || fixedWidth || autoWidth || autoHeight || !horizontal) {\n        addEvents(win, {\n          'resize': onResize\n        });\n      }\n\n      if (autoHeight) {\n        if (nested === 'outer') {\n          events.on('innerLoaded', doAutoHeight);\n        } else if (!disable) {\n          doAutoHeight();\n        }\n      }\n\n      doLazyLoad();\n\n      if (disable) {\n        disableSlider();\n      } else if (freeze) {\n        freezeSlider();\n      }\n\n      events.on('indexChanged', additionalUpdates);\n\n      if (nested === 'inner') {\n        events.emit('innerLoaded', info());\n      }\n\n      if (typeof onInit === 'function') {\n        onInit(info());\n      }\n\n      isOn = true;\n    }\n\n    function destroy() {\n      // sheet\n      sheet.disabled = true;\n\n      if (sheet.ownerNode) {\n        sheet.ownerNode.remove();\n      } // remove win event listeners\n\n\n      removeEvents(win, {\n        'resize': onResize\n      }); // arrowKeys, controls, nav\n\n      if (arrowKeys) {\n        removeEvents(doc, docmentKeydownEvent);\n      }\n\n      if (controlsContainer) {\n        removeEvents(controlsContainer, controlsEvents);\n      }\n\n      if (navContainer) {\n        removeEvents(navContainer, navEvents);\n      } // autoplay\n\n\n      removeEvents(container, hoverEvents);\n      removeEvents(container, visibilityEvent);\n\n      if (autoplayButton) {\n        removeEvents(autoplayButton, {\n          'click': toggleAutoplay\n        });\n      }\n\n      if (autoplay) {\n        clearInterval(autoplayTimer);\n      } // container\n\n\n      if (carousel && TRANSITIONEND) {\n        var eve = {};\n        eve[TRANSITIONEND] = onTransitionEnd;\n        removeEvents(container, eve);\n      }\n\n      if (touch) {\n        removeEvents(container, touchEvents);\n      }\n\n      if (mouseDrag) {\n        removeEvents(container, dragEvents);\n      } // cache Object values in options && reset HTML\n\n\n      var htmlList = [containerHTML, controlsContainerHTML, prevButtonHTML, nextButtonHTML, navContainerHTML, autoplayButtonHTML];\n      tnsList.forEach(function (item, i) {\n        var el = item === 'container' ? outerWrapper : options[item];\n\n        if (_typeof(el) === 'object') {\n          var prevEl = el.previousElementSibling ? el.previousElementSibling : false,\n              parentEl = el.parentNode;\n          el.outerHTML = htmlList[i];\n          options[item] = prevEl ? prevEl.nextElementSibling : parentEl.firstElementChild;\n        }\n      }); // reset variables\n\n      tnsList = animateIn = animateOut = animateDelay = animateNormal = horizontal = outerWrapper = innerWrapper = container = containerParent = containerHTML = slideItems = slideCount = breakpointZone = windowWidth = autoWidth = fixedWidth = edgePadding = gutter = viewport = items = slideBy = viewportMax = arrowKeys = speed = rewind = loop = autoHeight = sheet = lazyload = slidePositions = slideItemsOut = cloneCount = slideCountNew = hasRightDeadZone = rightBoundary = updateIndexBeforeTransform = transformAttr = transformPrefix = transformPostfix = getIndexMax = index = indexCached = indexMin = indexMax = resizeTimer = swipeAngle = moveDirectionExpected = running = onInit = events = newContainerClasses = slideId = disable = disabled = freezable = freeze = frozen = controlsEvents = navEvents = hoverEvents = visibilityEvent = docmentKeydownEvent = touchEvents = dragEvents = hasControls = hasNav = navAsThumbnails = hasAutoplay = hasTouch = hasMouseDrag = slideActiveClass = imgCompleteClass = imgEvents = imgsComplete = controls = controlsText = controlsContainer = controlsContainerHTML = prevButton = nextButton = prevIsButton = nextIsButton = nav = navContainer = navContainerHTML = navItems = pages = pagesCached = navClicked = navCurrentIndex = navCurrentIndexCached = navActiveClass = navStr = navStrCurrent = autoplay = autoplayTimeout = autoplayDirection = autoplayText = autoplayHoverPause = autoplayButton = autoplayButtonHTML = autoplayResetOnVisibility = autoplayHtmlStrings = autoplayTimer = animating = autoplayHoverPaused = autoplayUserPaused = autoplayVisibilityPaused = initPosition = lastPosition = translateInit = disX = disY = panStart = rafIndex = getDist = touch = mouseDrag = null; // check variables\n      // [animateIn, animateOut, animateDelay, animateNormal, horizontal, outerWrapper, innerWrapper, container, containerParent, containerHTML, slideItems, slideCount, breakpointZone, windowWidth, autoWidth, fixedWidth, edgePadding, gutter, viewport, items, slideBy, viewportMax, arrowKeys, speed, rewind, loop, autoHeight, sheet, lazyload, slidePositions, slideItemsOut, cloneCount, slideCountNew, hasRightDeadZone, rightBoundary, updateIndexBeforeTransform, transformAttr, transformPrefix, transformPostfix, getIndexMax, index, indexCached, indexMin, indexMax, resizeTimer, swipeAngle, moveDirectionExpected, running, onInit, events, newContainerClasses, slideId, disable, disabled, freezable, freeze, frozen, controlsEvents, navEvents, hoverEvents, visibilityEvent, docmentKeydownEvent, touchEvents, dragEvents, hasControls, hasNav, navAsThumbnails, hasAutoplay, hasTouch, hasMouseDrag, slideActiveClass, imgCompleteClass, imgEvents, imgsComplete, controls, controlsText, controlsContainer, controlsContainerHTML, prevButton, nextButton, prevIsButton, nextIsButton, nav, navContainer, navContainerHTML, navItems, pages, pagesCached, navClicked, navCurrentIndex, navCurrentIndexCached, navActiveClass, navStr, navStrCurrent, autoplay, autoplayTimeout, autoplayDirection, autoplayText, autoplayHoverPause, autoplayButton, autoplayButtonHTML, autoplayResetOnVisibility, autoplayHtmlStrings, autoplayTimer, animating, autoplayHoverPaused, autoplayUserPaused, autoplayVisibilityPaused, initPosition, lastPosition, translateInit, disX, disY, panStart, rafIndex, getDist, touch, mouseDrag ].forEach(function(item) { if (item !== null) { console.log(item); } });\n\n      for (var a in this) {\n        if (a !== 'rebuild') {\n          this[a] = null;\n        }\n      }\n\n      isOn = false;\n    } // === ON RESIZE ===\n    // responsive || fixedWidth || autoWidth || !horizontal\n\n\n    function onResize(e) {\n      raf(function () {\n        resizeTasks(getEvent(e));\n      });\n    }\n\n    function resizeTasks(e) {\n      if (!isOn) {\n        return;\n      }\n\n      if (nested === 'outer') {\n        events.emit('outerResized', info(e));\n      }\n\n      windowWidth = getWindowWidth();\n      var bpChanged,\n          breakpointZoneTem = breakpointZone,\n          needContainerTransform = false;\n\n      if (responsive) {\n        setBreakpointZone();\n        bpChanged = breakpointZoneTem !== breakpointZone; // if (hasRightDeadZone) { needContainerTransform = true; } // *?\n\n        if (bpChanged) {\n          events.emit('newBreakpointStart', info(e));\n        }\n      }\n\n      var indChanged,\n          itemsChanged,\n          itemsTem = items,\n          disableTem = disable,\n          freezeTem = freeze,\n          arrowKeysTem = arrowKeys,\n          controlsTem = controls,\n          navTem = nav,\n          touchTem = touch,\n          mouseDragTem = mouseDrag,\n          autoplayTem = autoplay,\n          autoplayHoverPauseTem = autoplayHoverPause,\n          autoplayResetOnVisibilityTem = autoplayResetOnVisibility,\n          indexTem = index;\n\n      if (bpChanged) {\n        var fixedWidthTem = fixedWidth,\n            autoHeightTem = autoHeight,\n            controlsTextTem = controlsText,\n            centerTem = center,\n            autoplayTextTem = autoplayText;\n\n        if (!CSSMQ) {\n          var gutterTem = gutter,\n              edgePaddingTem = edgePadding;\n        }\n      } // get option:\n      // fixed width: viewport, fixedWidth, gutter => items\n      // others: window width => all variables\n      // all: items => slideBy\n\n\n      arrowKeys = getOption('arrowKeys');\n      controls = getOption('controls');\n      nav = getOption('nav');\n      touch = getOption('touch');\n      center = getOption('center');\n      mouseDrag = getOption('mouseDrag');\n      autoplay = getOption('autoplay');\n      autoplayHoverPause = getOption('autoplayHoverPause');\n      autoplayResetOnVisibility = getOption('autoplayResetOnVisibility');\n\n      if (bpChanged) {\n        disable = getOption('disable');\n        fixedWidth = getOption('fixedWidth');\n        speed = getOption('speed');\n        autoHeight = getOption('autoHeight');\n        controlsText = getOption('controlsText');\n        autoplayText = getOption('autoplayText');\n        autoplayTimeout = getOption('autoplayTimeout');\n\n        if (!CSSMQ) {\n          edgePadding = getOption('edgePadding');\n          gutter = getOption('gutter');\n        }\n      } // update options\n\n\n      resetVariblesWhenDisable(disable);\n      viewport = getViewportWidth(); // <= edgePadding, gutter\n\n      if ((!horizontal || autoWidth) && !disable) {\n        setSlidePositions();\n\n        if (!horizontal) {\n          updateContentWrapperHeight(); // <= setSlidePositions\n\n          needContainerTransform = true;\n        }\n      }\n\n      if (fixedWidth || autoWidth) {\n        rightBoundary = getRightBoundary(); // autoWidth: <= viewport, slidePositions, gutter\n        // fixedWidth: <= viewport, fixedWidth, gutter\n\n        indexMax = getIndexMax(); // autoWidth: <= rightBoundary, slidePositions\n        // fixedWidth: <= rightBoundary, fixedWidth, gutter\n      }\n\n      if (bpChanged || fixedWidth) {\n        items = getOption('items');\n        slideBy = getOption('slideBy');\n        itemsChanged = items !== itemsTem;\n\n        if (itemsChanged) {\n          if (!fixedWidth && !autoWidth) {\n            indexMax = getIndexMax();\n          } // <= items\n          // check index before transform in case\n          // slider reach the right edge then items become bigger\n\n\n          updateIndex();\n        }\n      }\n\n      if (bpChanged) {\n        if (disable !== disableTem) {\n          if (disable) {\n            disableSlider();\n          } else {\n            enableSlider(); // <= slidePositions, rightBoundary, indexMax\n          }\n        }\n      }\n\n      if (freezable && (bpChanged || fixedWidth || autoWidth)) {\n        freeze = getFreeze(); // <= autoWidth: slidePositions, gutter, viewport, rightBoundary\n        // <= fixedWidth: fixedWidth, gutter, rightBoundary\n        // <= others: items\n\n        if (freeze !== freezeTem) {\n          if (freeze) {\n            doContainerTransform(getContainerTransformValue(getStartIndex(0)));\n            freezeSlider();\n          } else {\n            unfreezeSlider();\n            needContainerTransform = true;\n          }\n        }\n      }\n\n      resetVariblesWhenDisable(disable || freeze); // controls, nav, touch, mouseDrag, arrowKeys, autoplay, autoplayHoverPause, autoplayResetOnVisibility\n\n      if (!autoplay) {\n        autoplayHoverPause = autoplayResetOnVisibility = false;\n      }\n\n      if (arrowKeys !== arrowKeysTem) {\n        arrowKeys ? addEvents(doc, docmentKeydownEvent) : removeEvents(doc, docmentKeydownEvent);\n      }\n\n      if (controls !== controlsTem) {\n        if (controls) {\n          if (controlsContainer) {\n            showElement(controlsContainer);\n          } else {\n            if (prevButton) {\n              showElement(prevButton);\n            }\n\n            if (nextButton) {\n              showElement(nextButton);\n            }\n          }\n        } else {\n          if (controlsContainer) {\n            hideElement(controlsContainer);\n          } else {\n            if (prevButton) {\n              hideElement(prevButton);\n            }\n\n            if (nextButton) {\n              hideElement(nextButton);\n            }\n          }\n        }\n      }\n\n      if (nav !== navTem) {\n        nav ? showElement(navContainer) : hideElement(navContainer);\n      }\n\n      if (touch !== touchTem) {\n        touch ? addEvents(container, touchEvents, options.preventScrollOnTouch) : removeEvents(container, touchEvents);\n      }\n\n      if (mouseDrag !== mouseDragTem) {\n        mouseDrag ? addEvents(container, dragEvents) : removeEvents(container, dragEvents);\n      }\n\n      if (autoplay !== autoplayTem) {\n        if (autoplay) {\n          if (autoplayButton) {\n            showElement(autoplayButton);\n          }\n\n          if (!animating && !autoplayUserPaused) {\n            startAutoplay();\n          }\n        } else {\n          if (autoplayButton) {\n            hideElement(autoplayButton);\n          }\n\n          if (animating) {\n            stopAutoplay();\n          }\n        }\n      }\n\n      if (autoplayHoverPause !== autoplayHoverPauseTem) {\n        autoplayHoverPause ? addEvents(container, hoverEvents) : removeEvents(container, hoverEvents);\n      }\n\n      if (autoplayResetOnVisibility !== autoplayResetOnVisibilityTem) {\n        autoplayResetOnVisibility ? addEvents(doc, visibilityEvent) : removeEvents(doc, visibilityEvent);\n      }\n\n      if (bpChanged) {\n        if (fixedWidth !== fixedWidthTem || center !== centerTem) {\n          needContainerTransform = true;\n        }\n\n        if (autoHeight !== autoHeightTem) {\n          if (!autoHeight) {\n            innerWrapper.style.height = '';\n          }\n        }\n\n        if (controls && controlsText !== controlsTextTem) {\n          prevButton.innerHTML = controlsText[0];\n          nextButton.innerHTML = controlsText[1];\n        }\n\n        if (autoplayButton && autoplayText !== autoplayTextTem) {\n          var i = autoplay ? 1 : 0,\n              html = autoplayButton.innerHTML,\n              len = html.length - autoplayTextTem[i].length;\n\n          if (html.substring(len) === autoplayTextTem[i]) {\n            autoplayButton.innerHTML = html.substring(0, len) + autoplayText[i];\n          }\n        }\n      } else {\n        if (center && (fixedWidth || autoWidth)) {\n          needContainerTransform = true;\n        }\n      }\n\n      if (itemsChanged || fixedWidth && !autoWidth) {\n        pages = getPages();\n        updateNavVisibility();\n      }\n\n      indChanged = index !== indexTem;\n\n      if (indChanged) {\n        events.emit('indexChanged', info());\n        needContainerTransform = true;\n      } else if (itemsChanged) {\n        if (!indChanged) {\n          additionalUpdates();\n        }\n      } else if (fixedWidth || autoWidth) {\n        doLazyLoad();\n        updateSlideStatus();\n        updateLiveRegion();\n      }\n\n      if (itemsChanged && !carousel) {\n        updateGallerySlidePositions();\n      }\n\n      if (!disable && !freeze) {\n        // non-meduaqueries: IE8\n        if (bpChanged && !CSSMQ) {\n          // middle wrapper styles\n          if (autoHeight !== autoheightTem || speed !== speedTem) {\n            update_carousel_transition_duration();\n          } // inner wrapper styles\n\n\n          if (edgePadding !== edgePaddingTem || gutter !== gutterTem) {\n            innerWrapper.style.cssText = getInnerWrapperStyles(edgePadding, gutter, fixedWidth, speed, autoHeight);\n          }\n\n          if (horizontal) {\n            // container styles\n            if (carousel) {\n              container.style.width = getContainerWidth(fixedWidth, gutter, items);\n            } // slide styles\n\n\n            var str = getSlideWidthStyle(fixedWidth, gutter, items) + getSlideGutterStyle(gutter); // remove the last line and\n            // add new styles\n\n            removeCSSRule(sheet, getCssRulesLength(sheet) - 1);\n            addCSSRule(sheet, '#' + slideId + ' > .tns-item', str, getCssRulesLength(sheet));\n          }\n        } // auto height\n\n\n        if (autoHeight) {\n          doAutoHeight();\n        }\n\n        if (needContainerTransform) {\n          doContainerTransformSilent();\n          indexCached = index;\n        }\n      }\n\n      if (bpChanged) {\n        events.emit('newBreakpointEnd', info(e));\n      }\n    } // === INITIALIZATION FUNCTIONS === //\n\n\n    function getFreeze() {\n      if (!fixedWidth && !autoWidth) {\n        var a = center ? items - (items - 1) / 2 : items;\n        return slideCount <= a;\n      }\n\n      var width = fixedWidth ? (fixedWidth + gutter) * slideCount : slidePositions[slideCount],\n          vp = edgePadding ? viewport + edgePadding * 2 : viewport + gutter;\n\n      if (center) {\n        vp -= fixedWidth ? (viewport - fixedWidth) / 2 : (viewport - (slidePositions[index + 1] - slidePositions[index] - gutter)) / 2;\n      }\n\n      return width <= vp;\n    }\n\n    function setBreakpointZone() {\n      breakpointZone = 0;\n\n      for (var bp in responsive) {\n        bp = parseInt(bp); // convert string to number\n\n        if (windowWidth >= bp) {\n          breakpointZone = bp;\n        }\n      }\n    } // (slideBy, indexMin, indexMax) => index\n\n\n    var updateIndex = function () {\n      return loop ? carousel ? // loop + carousel\n      function () {\n        var leftEdge = indexMin,\n            rightEdge = indexMax;\n        leftEdge += slideBy;\n        rightEdge -= slideBy; // adjust edges when has edge paddings\n        // or fixed-width slider with extra space on the right side\n\n        if (edgePadding) {\n          leftEdge += 1;\n          rightEdge -= 1;\n        } else if (fixedWidth) {\n          if ((viewport + gutter) % (fixedWidth + gutter)) {\n            rightEdge -= 1;\n          }\n        }\n\n        if (cloneCount) {\n          if (index > rightEdge) {\n            index -= slideCount;\n          } else if (index < leftEdge) {\n            index += slideCount;\n          }\n        }\n      } : // loop + gallery\n      function () {\n        if (index > indexMax) {\n          while (index >= indexMin + slideCount) {\n            index -= slideCount;\n          }\n        } else if (index < indexMin) {\n          while (index <= indexMax - slideCount) {\n            index += slideCount;\n          }\n        }\n      } : // non-loop\n      function () {\n        index = Math.max(indexMin, Math.min(indexMax, index));\n      };\n    }();\n\n    function disableUI() {\n      if (!autoplay && autoplayButton) {\n        hideElement(autoplayButton);\n      }\n\n      if (!nav && navContainer) {\n        hideElement(navContainer);\n      }\n\n      if (!controls) {\n        if (controlsContainer) {\n          hideElement(controlsContainer);\n        } else {\n          if (prevButton) {\n            hideElement(prevButton);\n          }\n\n          if (nextButton) {\n            hideElement(nextButton);\n          }\n        }\n      }\n    }\n\n    function enableUI() {\n      if (autoplay && autoplayButton) {\n        showElement(autoplayButton);\n      }\n\n      if (nav && navContainer) {\n        showElement(navContainer);\n      }\n\n      if (controls) {\n        if (controlsContainer) {\n          showElement(controlsContainer);\n        } else {\n          if (prevButton) {\n            showElement(prevButton);\n          }\n\n          if (nextButton) {\n            showElement(nextButton);\n          }\n        }\n      }\n    }\n\n    function freezeSlider() {\n      if (frozen) {\n        return;\n      } // remove edge padding from inner wrapper\n\n\n      if (edgePadding) {\n        innerWrapper.style.margin = '0px';\n      } // add class tns-transparent to cloned slides\n\n\n      if (cloneCount) {\n        var str = 'tns-transparent';\n\n        for (var i = cloneCount; i--;) {\n          if (carousel) {\n            addClass(slideItems[i], str);\n          }\n\n          addClass(slideItems[slideCountNew - i - 1], str);\n        }\n      } // update tools\n\n\n      disableUI();\n      frozen = true;\n    }\n\n    function unfreezeSlider() {\n      if (!frozen) {\n        return;\n      } // restore edge padding for inner wrapper\n      // for mordern browsers\n\n\n      if (edgePadding && CSSMQ) {\n        innerWrapper.style.margin = '';\n      } // remove class tns-transparent to cloned slides\n\n\n      if (cloneCount) {\n        var str = 'tns-transparent';\n\n        for (var i = cloneCount; i--;) {\n          if (carousel) {\n            removeClass(slideItems[i], str);\n          }\n\n          removeClass(slideItems[slideCountNew - i - 1], str);\n        }\n      } // update tools\n\n\n      enableUI();\n      frozen = false;\n    }\n\n    function disableSlider() {\n      if (disabled) {\n        return;\n      }\n\n      sheet.disabled = true;\n      container.className = container.className.replace(newContainerClasses.substring(1), '');\n      removeAttrs(container, ['style']);\n\n      if (loop) {\n        for (var j = cloneCount; j--;) {\n          if (carousel) {\n            hideElement(slideItems[j]);\n          }\n\n          hideElement(slideItems[slideCountNew - j - 1]);\n        }\n      } // vertical slider\n\n\n      if (!horizontal || !carousel) {\n        removeAttrs(innerWrapper, ['style']);\n      } // gallery\n\n\n      if (!carousel) {\n        for (var i = index, l = index + slideCount; i < l; i++) {\n          var item = slideItems[i];\n          removeAttrs(item, ['style']);\n          removeClass(item, animateIn);\n          removeClass(item, animateNormal);\n        }\n      } // update tools\n\n\n      disableUI();\n      disabled = true;\n    }\n\n    function enableSlider() {\n      if (!disabled) {\n        return;\n      }\n\n      sheet.disabled = false;\n      container.className += newContainerClasses;\n      doContainerTransformSilent();\n\n      if (loop) {\n        for (var j = cloneCount; j--;) {\n          if (carousel) {\n            showElement(slideItems[j]);\n          }\n\n          showElement(slideItems[slideCountNew - j - 1]);\n        }\n      } // gallery\n\n\n      if (!carousel) {\n        for (var i = index, l = index + slideCount; i < l; i++) {\n          var item = slideItems[i],\n              classN = i < index + items ? animateIn : animateNormal;\n          item.style.left = (i - index) * 100 / items + '%';\n          addClass(item, classN);\n        }\n      } // update tools\n\n\n      enableUI();\n      disabled = false;\n    }\n\n    function updateLiveRegion() {\n      var str = getLiveRegionStr();\n\n      if (liveregionCurrent.innerHTML !== str) {\n        liveregionCurrent.innerHTML = str;\n      }\n    }\n\n    function getLiveRegionStr() {\n      var arr = getVisibleSlideRange(),\n          start = arr[0] + 1,\n          end = arr[1] + 1;\n      return start === end ? start + '' : start + ' to ' + end;\n    }\n\n    function getVisibleSlideRange(val) {\n      if (val == null) {\n        val = getContainerTransformValue();\n      }\n\n      var start = index,\n          end,\n          rangestart,\n          rangeend; // get range start, range end for autoWidth and fixedWidth\n\n      if (center || edgePadding) {\n        if (autoWidth || fixedWidth) {\n          rangestart = -(parseFloat(val) + edgePadding);\n          rangeend = rangestart + viewport + edgePadding * 2;\n        }\n      } else {\n        if (autoWidth) {\n          rangestart = slidePositions[index];\n          rangeend = rangestart + viewport;\n        }\n      } // get start, end\n      // - check auto width\n\n\n      if (autoWidth) {\n        slidePositions.forEach(function (point, i) {\n          if (i < slideCountNew) {\n            if ((center || edgePadding) && point <= rangestart + 0.5) {\n              start = i;\n            }\n\n            if (rangeend - point >= 0.5) {\n              end = i;\n            }\n          }\n        }); // - check percentage width, fixed width\n      } else {\n        if (fixedWidth) {\n          var cell = fixedWidth + gutter;\n\n          if (center || edgePadding) {\n            start = Math.floor(rangestart / cell);\n            end = Math.ceil(rangeend / cell - 1);\n          } else {\n            end = start + Math.ceil(viewport / cell) - 1;\n          }\n        } else {\n          if (center || edgePadding) {\n            var a = items - 1;\n\n            if (center) {\n              start -= a / 2;\n              end = index + a / 2;\n            } else {\n              end = index + a;\n            }\n\n            if (edgePadding) {\n              var b = edgePadding * items / viewport;\n              start -= b;\n              end += b;\n            }\n\n            start = Math.floor(start);\n            end = Math.ceil(end);\n          } else {\n            end = start + items - 1;\n          }\n        }\n\n        start = Math.max(start, 0);\n        end = Math.min(end, slideCountNew - 1);\n      }\n\n      return [start, end];\n    }\n\n    function doLazyLoad() {\n      if (lazyload && !disable) {\n        getImageArray.apply(null, getVisibleSlideRange()).forEach(function (img) {\n          if (!hasClass(img, imgCompleteClass)) {\n            // stop propagation transitionend event to container\n            var eve = {};\n\n            eve[TRANSITIONEND] = function (e) {\n              e.stopPropagation();\n            };\n\n            addEvents(img, eve);\n            addEvents(img, imgEvents); // update src\n\n            img.src = getAttr(img, 'data-src'); // update srcset\n\n            var srcset = getAttr(img, 'data-srcset');\n\n            if (srcset) {\n              img.srcset = srcset;\n            }\n\n            addClass(img, 'loading');\n          }\n        });\n      }\n    }\n\n    function onImgLoaded(e) {\n      imgLoaded(getTarget(e));\n    }\n\n    function onImgFailed(e) {\n      imgFailed(getTarget(e));\n    }\n\n    function imgLoaded(img) {\n      addClass(img, 'loaded');\n      imgCompleted(img);\n    }\n\n    function imgFailed(img) {\n      addClass(img, 'failed');\n      imgCompleted(img);\n    }\n\n    function imgCompleted(img) {\n      addClass(img, 'tns-complete');\n      removeClass(img, 'loading');\n      removeEvents(img, imgEvents);\n    }\n\n    function getImageArray(start, end) {\n      var imgs = [];\n\n      while (start <= end) {\n        forEach(slideItems[start].querySelectorAll('img'), function (img) {\n          imgs.push(img);\n        });\n        start++;\n      }\n\n      return imgs;\n    } // check if all visible images are loaded\n    // and update container height if it's done\n\n\n    function doAutoHeight() {\n      var imgs = getImageArray.apply(null, getVisibleSlideRange());\n      raf(function () {\n        imgsLoadedCheck(imgs, updateInnerWrapperHeight);\n      });\n    }\n\n    function imgsLoadedCheck(imgs, cb) {\n      // directly execute callback function if all images are complete\n      if (imgsComplete) {\n        return cb();\n      } // check selected image classes otherwise\n\n\n      imgs.forEach(function (img, index) {\n        if (hasClass(img, imgCompleteClass)) {\n          imgs.splice(index, 1);\n        }\n      }); // execute callback function if selected images are all complete\n\n      if (!imgs.length) {\n        return cb();\n      } // otherwise execute this functiona again\n\n\n      raf(function () {\n        imgsLoadedCheck(imgs, cb);\n      });\n    }\n\n    function additionalUpdates() {\n      doLazyLoad();\n      updateSlideStatus();\n      updateLiveRegion();\n      updateControlsStatus();\n      updateNavStatus();\n    }\n\n    function update_carousel_transition_duration() {\n      if (carousel && autoHeight) {\n        middleWrapper.style[TRANSITIONDURATION] = speed / 1000 + 's';\n      }\n    }\n\n    function getMaxSlideHeight(slideStart, slideRange) {\n      var heights = [];\n\n      for (var i = slideStart, l = Math.min(slideStart + slideRange, slideCountNew); i < l; i++) {\n        heights.push(slideItems[i].offsetHeight);\n      }\n\n      return Math.max.apply(null, heights);\n    } // update inner wrapper height\n    // 1. get the max-height of the visible slides\n    // 2. set transitionDuration to speed\n    // 3. update inner wrapper height to max-height\n    // 4. set transitionDuration to 0s after transition done\n\n\n    function updateInnerWrapperHeight() {\n      var maxHeight = autoHeight ? getMaxSlideHeight(index, items) : getMaxSlideHeight(cloneCount, slideCount),\n          wp = middleWrapper ? middleWrapper : innerWrapper;\n\n      if (wp.style.height !== maxHeight) {\n        wp.style.height = maxHeight + 'px';\n      }\n    } // get the distance from the top edge of the first slide to each slide\n    // (init) => slidePositions\n\n\n    function setSlidePositions() {\n      slidePositions = [0];\n      var attr = horizontal ? 'left' : 'top',\n          attr2 = horizontal ? 'right' : 'bottom',\n          base = slideItems[0].getBoundingClientRect()[attr];\n      forEach(slideItems, function (item, i) {\n        // skip the first slide\n        if (i) {\n          slidePositions.push(item.getBoundingClientRect()[attr] - base);\n        } // add the end edge\n\n\n        if (i === slideCountNew - 1) {\n          slidePositions.push(item.getBoundingClientRect()[attr2] - base);\n        }\n      });\n    } // update slide\n\n\n    function updateSlideStatus() {\n      var range = getVisibleSlideRange(),\n          start = range[0],\n          end = range[1];\n      forEach(slideItems, function (item, i) {\n        // show slides\n        if (i >= start && i <= end) {\n          if (hasAttr(item, 'aria-hidden')) {\n            removeAttrs(item, ['aria-hidden', 'tabindex']);\n            addClass(item, slideActiveClass);\n          } // hide slides\n\n        } else {\n          if (!hasAttr(item, 'aria-hidden')) {\n            setAttrs(item, {\n              'aria-hidden': 'true',\n              'tabindex': '-1'\n            });\n            removeClass(item, slideActiveClass);\n          }\n        }\n      });\n    } // gallery: update slide position\n\n\n    function updateGallerySlidePositions() {\n      var l = index + Math.min(slideCount, items);\n\n      for (var i = slideCountNew; i--;) {\n        var item = slideItems[i];\n\n        if (i >= index && i < l) {\n          // add transitions to visible slides when adjusting their positions\n          addClass(item, 'tns-moving');\n          item.style.left = (i - index) * 100 / items + '%';\n          addClass(item, animateIn);\n          removeClass(item, animateNormal);\n        } else if (item.style.left) {\n          item.style.left = '';\n          addClass(item, animateNormal);\n          removeClass(item, animateIn);\n        } // remove outlet animation\n\n\n        removeClass(item, animateOut);\n      } // removing '.tns-moving'\n\n\n      setTimeout(function () {\n        forEach(slideItems, function (el) {\n          removeClass(el, 'tns-moving');\n        });\n      }, 300);\n    } // set tabindex on Nav\n\n\n    function updateNavStatus() {\n      // get current nav\n      if (nav) {\n        navCurrentIndex = navClicked >= 0 ? navClicked : getCurrentNavIndex();\n        navClicked = -1;\n\n        if (navCurrentIndex !== navCurrentIndexCached) {\n          var navPrev = navItems[navCurrentIndexCached],\n              navCurrent = navItems[navCurrentIndex];\n          setAttrs(navPrev, {\n            'tabindex': '-1',\n            'aria-label': navStr + (navCurrentIndexCached + 1)\n          });\n          removeClass(navPrev, navActiveClass);\n          setAttrs(navCurrent, {\n            'aria-label': navStr + (navCurrentIndex + 1) + navStrCurrent\n          });\n          removeAttrs(navCurrent, 'tabindex');\n          addClass(navCurrent, navActiveClass);\n          navCurrentIndexCached = navCurrentIndex;\n        }\n      }\n    }\n\n    function getLowerCaseNodeName(el) {\n      return el.nodeName.toLowerCase();\n    }\n\n    function isButton(el) {\n      return getLowerCaseNodeName(el) === 'button';\n    }\n\n    function isAriaDisabled(el) {\n      return el.getAttribute('aria-disabled') === 'true';\n    }\n\n    function disEnableElement(isButton, el, val) {\n      if (isButton) {\n        el.disabled = val;\n      } else {\n        el.setAttribute('aria-disabled', val.toString());\n      }\n    } // set 'disabled' to true on controls when reach the edges\n\n\n    function updateControlsStatus() {\n      if (!controls || rewind || loop) {\n        return;\n      }\n\n      var prevDisabled = prevIsButton ? prevButton.disabled : isAriaDisabled(prevButton),\n          nextDisabled = nextIsButton ? nextButton.disabled : isAriaDisabled(nextButton),\n          disablePrev = index <= indexMin ? true : false,\n          disableNext = !rewind && index >= indexMax ? true : false;\n\n      if (disablePrev && !prevDisabled) {\n        disEnableElement(prevIsButton, prevButton, true);\n      }\n\n      if (!disablePrev && prevDisabled) {\n        disEnableElement(prevIsButton, prevButton, false);\n      }\n\n      if (disableNext && !nextDisabled) {\n        disEnableElement(nextIsButton, nextButton, true);\n      }\n\n      if (!disableNext && nextDisabled) {\n        disEnableElement(nextIsButton, nextButton, false);\n      }\n    } // set duration\n\n\n    function resetDuration(el, str) {\n      if (TRANSITIONDURATION) {\n        el.style[TRANSITIONDURATION] = str;\n      }\n    }\n\n    function getSliderWidth() {\n      return fixedWidth ? (fixedWidth + gutter) * slideCountNew : slidePositions[slideCountNew];\n    }\n\n    function getCenterGap(num) {\n      if (num == null) {\n        num = index;\n      }\n\n      var gap = edgePadding ? gutter : 0;\n      return autoWidth ? (viewport - gap - (slidePositions[num + 1] - slidePositions[num] - gutter)) / 2 : fixedWidth ? (viewport - fixedWidth) / 2 : (items - 1) / 2;\n    }\n\n    function getRightBoundary() {\n      var gap = edgePadding ? gutter : 0,\n          result = viewport + gap - getSliderWidth();\n\n      if (center && !loop) {\n        result = fixedWidth ? -(fixedWidth + gutter) * (slideCountNew - 1) - getCenterGap() : getCenterGap(slideCountNew - 1) - slidePositions[slideCountNew - 1];\n      }\n\n      if (result > 0) {\n        result = 0;\n      }\n\n      return result;\n    }\n\n    function getContainerTransformValue(num) {\n      if (num == null) {\n        num = index;\n      }\n\n      var val;\n\n      if (horizontal && !autoWidth) {\n        if (fixedWidth) {\n          val = -(fixedWidth + gutter) * num;\n\n          if (center) {\n            val += getCenterGap();\n          }\n        } else {\n          var denominator = TRANSFORM ? slideCountNew : items;\n\n          if (center) {\n            num -= getCenterGap();\n          }\n\n          val = -num * 100 / denominator;\n        }\n      } else {\n        val = -slidePositions[num];\n\n        if (center && autoWidth) {\n          val += getCenterGap();\n        }\n      }\n\n      if (hasRightDeadZone) {\n        val = Math.max(val, rightBoundary);\n      }\n\n      val += horizontal && !autoWidth && !fixedWidth ? '%' : 'px';\n      return val;\n    }\n\n    function doContainerTransformSilent(val) {\n      resetDuration(container, '0s');\n      doContainerTransform(val);\n    }\n\n    function doContainerTransform(val) {\n      if (val == null) {\n        val = getContainerTransformValue();\n      }\n\n      container.style[transformAttr] = transformPrefix + val + transformPostfix;\n    }\n\n    function animateSlide(number, classOut, classIn, isOut) {\n      var l = number + items;\n\n      if (!loop) {\n        l = Math.min(l, slideCountNew);\n      }\n\n      for (var i = number; i < l; i++) {\n        var item = slideItems[i]; // set item positions\n\n        if (!isOut) {\n          item.style.left = (i - index) * 100 / items + '%';\n        }\n\n        if (animateDelay && TRANSITIONDELAY) {\n          item.style[TRANSITIONDELAY] = item.style[ANIMATIONDELAY] = animateDelay * (i - number) / 1000 + 's';\n        }\n\n        removeClass(item, classOut);\n        addClass(item, classIn);\n\n        if (isOut) {\n          slideItemsOut.push(item);\n        }\n      }\n    } // make transfer after click/drag:\n    // 1. change 'transform' property for mordern browsers\n    // 2. change 'left' property for legacy browsers\n\n\n    var transformCore = function () {\n      return carousel ? function () {\n        resetDuration(container, '');\n\n        if (TRANSITIONDURATION || !speed) {\n          // for morden browsers with non-zero duration or \n          // zero duration for all browsers\n          doContainerTransform(); // run fallback function manually \n          // when duration is 0 / container is hidden\n\n          if (!speed || !isVisible(container)) {\n            onTransitionEnd();\n          }\n        } else {\n          // for old browser with non-zero duration\n          jsTransform(container, transformAttr, transformPrefix, transformPostfix, getContainerTransformValue(), speed, onTransitionEnd);\n        }\n\n        if (!horizontal) {\n          updateContentWrapperHeight();\n        }\n      } : function () {\n        slideItemsOut = [];\n        var eve = {};\n        eve[TRANSITIONEND] = eve[ANIMATIONEND] = onTransitionEnd;\n        removeEvents(slideItems[indexCached], eve);\n        addEvents(slideItems[index], eve);\n        animateSlide(indexCached, animateIn, animateOut, true);\n        animateSlide(index, animateNormal, animateIn); // run fallback function manually \n        // when transition or animation not supported / duration is 0\n\n        if (!TRANSITIONEND || !ANIMATIONEND || !speed || !isVisible(container)) {\n          onTransitionEnd();\n        }\n      };\n    }();\n\n    function render(e, sliderMoved) {\n      if (updateIndexBeforeTransform) {\n        updateIndex();\n      } // render when slider was moved (touch or drag) even though index may not change\n\n\n      if (index !== indexCached || sliderMoved) {\n        // events\n        events.emit('indexChanged', info());\n        events.emit('transitionStart', info());\n\n        if (autoHeight) {\n          doAutoHeight();\n        } // pause autoplay when click or keydown from user\n\n\n        if (animating && e && ['click', 'keydown'].indexOf(e.type) >= 0) {\n          stopAutoplay();\n        }\n\n        running = true;\n        transformCore();\n      }\n    }\n    /*\n     * Transfer prefixed properties to the same format\n     * CSS: -Webkit-Transform => webkittransform\n     * JS: WebkitTransform => webkittransform\n     * @param {string} str - property\n     *\n     */\n\n\n    function strTrans(str) {\n      return str.toLowerCase().replace(/-/g, '');\n    } // AFTER TRANSFORM\n    // Things need to be done after a transfer:\n    // 1. check index\n    // 2. add classes to visible slide\n    // 3. disable controls buttons when reach the first/last slide in non-loop slider\n    // 4. update nav status\n    // 5. lazyload images\n    // 6. update container height\n\n\n    function onTransitionEnd(event) {\n      // check running on gallery mode\n      // make sure trantionend/animationend events run only once\n      if (carousel || running) {\n        events.emit('transitionEnd', info(event));\n\n        if (!carousel && slideItemsOut.length > 0) {\n          for (var i = 0; i < slideItemsOut.length; i++) {\n            var item = slideItemsOut[i]; // set item positions\n\n            item.style.left = '';\n\n            if (ANIMATIONDELAY && TRANSITIONDELAY) {\n              item.style[ANIMATIONDELAY] = '';\n              item.style[TRANSITIONDELAY] = '';\n            }\n\n            removeClass(item, animateOut);\n            addClass(item, animateNormal);\n          }\n        }\n        /* update slides, nav, controls after checking ...\n         * => legacy browsers who don't support 'event' \n         *    have to check event first, otherwise event.target will cause an error \n         * => or 'gallery' mode: \n         *   + event target is slide item\n         * => or 'carousel' mode: \n         *   + event target is container, \n         *   + event.property is the same with transform attribute\n         */\n\n\n        if (!event || !carousel && event.target.parentNode === container || event.target === container && strTrans(event.propertyName) === strTrans(transformAttr)) {\n          if (!updateIndexBeforeTransform) {\n            var indexTem = index;\n            updateIndex();\n\n            if (index !== indexTem) {\n              events.emit('indexChanged', info());\n              doContainerTransformSilent();\n            }\n          }\n\n          if (nested === 'inner') {\n            events.emit('innerLoaded', info());\n          }\n\n          running = false;\n          indexCached = index;\n        }\n      }\n    } // # ACTIONS\n\n\n    function goTo(targetIndex, e) {\n      if (freeze) {\n        return;\n      } // prev slideBy\n\n\n      if (targetIndex === 'prev') {\n        onControlsClick(e, -1); // next slideBy\n      } else if (targetIndex === 'next') {\n        onControlsClick(e, 1); // go to exact slide\n      } else {\n        if (running) {\n          if (preventActionWhenRunning) {\n            return;\n          } else {\n            onTransitionEnd();\n          }\n        }\n\n        var absIndex = getAbsIndex(),\n            indexGap = 0;\n\n        if (targetIndex === 'first') {\n          indexGap = -absIndex;\n        } else if (targetIndex === 'last') {\n          indexGap = carousel ? slideCount - items - absIndex : slideCount - 1 - absIndex;\n        } else {\n          if (typeof targetIndex !== 'number') {\n            targetIndex = parseInt(targetIndex);\n          }\n\n          if (!isNaN(targetIndex)) {\n            // from directly called goTo function\n            if (!e) {\n              targetIndex = Math.max(0, Math.min(slideCount - 1, targetIndex));\n            }\n\n            indexGap = targetIndex - absIndex;\n          }\n        } // gallery: make sure new page won't overlap with current page\n\n\n        if (!carousel && indexGap && Math.abs(indexGap) < items) {\n          var factor = indexGap > 0 ? 1 : -1;\n          indexGap += index + indexGap - slideCount >= indexMin ? slideCount * factor : slideCount * 2 * factor * -1;\n        }\n\n        index += indexGap; // make sure index is in range\n\n        if (carousel && loop) {\n          if (index < indexMin) {\n            index += slideCount;\n          }\n\n          if (index > indexMax) {\n            index -= slideCount;\n          }\n        } // if index is changed, start rendering\n\n\n        if (getAbsIndex(index) !== getAbsIndex(indexCached)) {\n          render(e);\n        }\n      }\n    } // on controls click\n\n\n    function onControlsClick(e, dir) {\n      if (running) {\n        if (preventActionWhenRunning) {\n          return;\n        } else {\n          onTransitionEnd();\n        }\n      }\n\n      var passEventObject;\n\n      if (!dir) {\n        e = getEvent(e);\n        var target = getTarget(e);\n\n        while (target !== controlsContainer && [prevButton, nextButton].indexOf(target) < 0) {\n          target = target.parentNode;\n        }\n\n        var targetIn = [prevButton, nextButton].indexOf(target);\n\n        if (targetIn >= 0) {\n          passEventObject = true;\n          dir = targetIn === 0 ? -1 : 1;\n        }\n      }\n\n      if (rewind) {\n        if (index === indexMin && dir === -1) {\n          goTo('last', e);\n          return;\n        } else if (index === indexMax && dir === 1) {\n          goTo('first', e);\n          return;\n        }\n      }\n\n      if (dir) {\n        index += slideBy * dir;\n\n        if (autoWidth) {\n          index = Math.floor(index);\n        } // pass e when click control buttons or keydown\n\n\n        render(passEventObject || e && e.type === 'keydown' ? e : null);\n      }\n    } // on nav click\n\n\n    function onNavClick(e) {\n      if (running) {\n        if (preventActionWhenRunning) {\n          return;\n        } else {\n          onTransitionEnd();\n        }\n      }\n\n      e = getEvent(e);\n      var target = getTarget(e),\n          navIndex; // find the clicked nav item\n\n      while (target !== navContainer && !hasAttr(target, 'data-nav')) {\n        target = target.parentNode;\n      }\n\n      if (hasAttr(target, 'data-nav')) {\n        var navIndex = navClicked = Number(getAttr(target, 'data-nav')),\n            targetIndexBase = fixedWidth || autoWidth ? navIndex * slideCount / pages : navIndex * items,\n            targetIndex = navAsThumbnails ? navIndex : Math.min(Math.ceil(targetIndexBase), slideCount - 1);\n        goTo(targetIndex, e);\n\n        if (navCurrentIndex === navIndex) {\n          if (animating) {\n            stopAutoplay();\n          }\n\n          navClicked = -1; // reset navClicked\n        }\n      }\n    } // autoplay functions\n\n\n    function setAutoplayTimer() {\n      autoplayTimer = setInterval(function () {\n        onControlsClick(null, autoplayDirection);\n      }, autoplayTimeout);\n      animating = true;\n    }\n\n    function stopAutoplayTimer() {\n      clearInterval(autoplayTimer);\n      animating = false;\n    }\n\n    function updateAutoplayButton(action, txt) {\n      setAttrs(autoplayButton, {\n        'data-action': action\n      });\n      autoplayButton.innerHTML = autoplayHtmlStrings[0] + action + autoplayHtmlStrings[1] + txt;\n    }\n\n    function startAutoplay() {\n      setAutoplayTimer();\n\n      if (autoplayButton) {\n        updateAutoplayButton('stop', autoplayText[1]);\n      }\n    }\n\n    function stopAutoplay() {\n      stopAutoplayTimer();\n\n      if (autoplayButton) {\n        updateAutoplayButton('start', autoplayText[0]);\n      }\n    } // programaitcally play/pause the slider\n\n\n    function play() {\n      if (autoplay && !animating) {\n        startAutoplay();\n        autoplayUserPaused = false;\n      }\n    }\n\n    function pause() {\n      if (animating) {\n        stopAutoplay();\n        autoplayUserPaused = true;\n      }\n    }\n\n    function toggleAutoplay() {\n      if (animating) {\n        stopAutoplay();\n        autoplayUserPaused = true;\n      } else {\n        startAutoplay();\n        autoplayUserPaused = false;\n      }\n    }\n\n    function onVisibilityChange() {\n      if (doc.hidden) {\n        if (animating) {\n          stopAutoplayTimer();\n          autoplayVisibilityPaused = true;\n        }\n      } else if (autoplayVisibilityPaused) {\n        setAutoplayTimer();\n        autoplayVisibilityPaused = false;\n      }\n    }\n\n    function mouseoverPause() {\n      if (animating) {\n        stopAutoplayTimer();\n        autoplayHoverPaused = true;\n      }\n    }\n\n    function mouseoutRestart() {\n      if (autoplayHoverPaused) {\n        setAutoplayTimer();\n        autoplayHoverPaused = false;\n      }\n    } // keydown events on document \n\n\n    function onDocumentKeydown(e) {\n      e = getEvent(e);\n      var keyIndex = [KEYS.LEFT, KEYS.RIGHT].indexOf(e.keyCode);\n\n      if (keyIndex >= 0) {\n        onControlsClick(e, keyIndex === 0 ? -1 : 1);\n      }\n    } // on key control\n\n\n    function onControlsKeydown(e) {\n      e = getEvent(e);\n      var keyIndex = [KEYS.LEFT, KEYS.RIGHT].indexOf(e.keyCode);\n\n      if (keyIndex >= 0) {\n        if (keyIndex === 0) {\n          if (!prevButton.disabled) {\n            onControlsClick(e, -1);\n          }\n        } else if (!nextButton.disabled) {\n          onControlsClick(e, 1);\n        }\n      }\n    } // set focus\n\n\n    function setFocus(el) {\n      el.focus();\n    } // on key nav\n\n\n    function onNavKeydown(e) {\n      e = getEvent(e);\n      var curElement = doc.activeElement;\n\n      if (!hasAttr(curElement, 'data-nav')) {\n        return;\n      } // var code = e.keyCode,\n\n\n      var keyIndex = [KEYS.LEFT, KEYS.RIGHT, KEYS.ENTER, KEYS.SPACE].indexOf(e.keyCode),\n          navIndex = Number(getAttr(curElement, 'data-nav'));\n\n      if (keyIndex >= 0) {\n        if (keyIndex === 0) {\n          if (navIndex > 0) {\n            setFocus(navItems[navIndex - 1]);\n          }\n        } else if (keyIndex === 1) {\n          if (navIndex < pages - 1) {\n            setFocus(navItems[navIndex + 1]);\n          }\n        } else {\n          navClicked = navIndex;\n          goTo(navIndex, e);\n        }\n      }\n    }\n\n    function getEvent(e) {\n      e = e || win.event;\n      return isTouchEvent(e) ? e.changedTouches[0] : e;\n    }\n\n    function getTarget(e) {\n      return e.target || win.event.srcElement;\n    }\n\n    function isTouchEvent(e) {\n      return e.type.indexOf('touch') >= 0;\n    }\n\n    function preventDefaultBehavior(e) {\n      e.preventDefault ? e.preventDefault() : e.returnValue = false;\n    }\n\n    function getMoveDirectionExpected() {\n      return getTouchDirection(toDegree(lastPosition.y - initPosition.y, lastPosition.x - initPosition.x), swipeAngle) === options.axis;\n    }\n\n    function onPanStart(e) {\n      if (running) {\n        if (preventActionWhenRunning) {\n          return;\n        } else {\n          onTransitionEnd();\n        }\n      }\n\n      if (autoplay && animating) {\n        stopAutoplayTimer();\n      }\n\n      panStart = true;\n\n      if (rafIndex) {\n        caf(rafIndex);\n        rafIndex = null;\n      }\n\n      var $ = getEvent(e);\n      events.emit(isTouchEvent(e) ? 'touchStart' : 'dragStart', info(e));\n\n      if (!isTouchEvent(e) && ['img', 'a'].indexOf(getLowerCaseNodeName(getTarget(e))) >= 0) {\n        preventDefaultBehavior(e);\n      }\n\n      lastPosition.x = initPosition.x = $.clientX;\n      lastPosition.y = initPosition.y = $.clientY;\n\n      if (carousel) {\n        translateInit = parseFloat(container.style[transformAttr].replace(transformPrefix, ''));\n        resetDuration(container, '0s');\n      }\n    }\n\n    function onPanMove(e) {\n      if (panStart) {\n        var $ = getEvent(e);\n        lastPosition.x = $.clientX;\n        lastPosition.y = $.clientY;\n\n        if (carousel) {\n          if (!rafIndex) {\n            rafIndex = raf(function () {\n              panUpdate(e);\n            });\n          }\n        } else {\n          if (moveDirectionExpected === '?') {\n            moveDirectionExpected = getMoveDirectionExpected();\n          }\n\n          if (moveDirectionExpected) {\n            preventScroll = true;\n          }\n        }\n\n        if (preventScroll) {\n          e.preventDefault();\n        }\n      }\n    }\n\n    function panUpdate(e) {\n      if (!moveDirectionExpected) {\n        panStart = false;\n        return;\n      }\n\n      caf(rafIndex);\n\n      if (panStart) {\n        rafIndex = raf(function () {\n          panUpdate(e);\n        });\n      }\n\n      if (moveDirectionExpected === '?') {\n        moveDirectionExpected = getMoveDirectionExpected();\n      }\n\n      if (moveDirectionExpected) {\n        if (!preventScroll && isTouchEvent(e)) {\n          preventScroll = true;\n        }\n\n        try {\n          if (e.type) {\n            events.emit(isTouchEvent(e) ? 'touchMove' : 'dragMove', info(e));\n          }\n        } catch (err) {}\n\n        var x = translateInit,\n            dist = getDist(lastPosition, initPosition);\n\n        if (!horizontal || fixedWidth || autoWidth) {\n          x += dist;\n          x += 'px';\n        } else {\n          var percentageX = TRANSFORM ? dist * items * 100 / ((viewport + gutter) * slideCountNew) : dist * 100 / (viewport + gutter);\n          x += percentageX;\n          x += '%';\n        }\n\n        container.style[transformAttr] = transformPrefix + x + transformPostfix;\n      }\n    }\n\n    function onPanEnd(e) {\n      if (panStart) {\n        if (rafIndex) {\n          caf(rafIndex);\n          rafIndex = null;\n        }\n\n        if (carousel) {\n          resetDuration(container, '');\n        }\n\n        panStart = false;\n        var $ = getEvent(e);\n        lastPosition.x = $.clientX;\n        lastPosition.y = $.clientY;\n        var dist = getDist(lastPosition, initPosition);\n\n        if (Math.abs(dist)) {\n          // drag vs click\n          if (!isTouchEvent(e)) {\n            // prevent \"click\"\n            var target = getTarget(e);\n            addEvents(target, {\n              'click': function preventClick(e) {\n                preventDefaultBehavior(e);\n                removeEvents(target, {\n                  'click': preventClick\n                });\n              }\n            });\n          }\n\n          if (carousel) {\n            rafIndex = raf(function () {\n              if (horizontal && !autoWidth) {\n                var indexMoved = -dist * items / (viewport + gutter);\n                indexMoved = dist > 0 ? Math.floor(indexMoved) : Math.ceil(indexMoved);\n                index += indexMoved;\n              } else {\n                var moved = -(translateInit + dist);\n\n                if (moved <= 0) {\n                  index = indexMin;\n                } else if (moved >= slidePositions[slideCountNew - 1]) {\n                  index = indexMax;\n                } else {\n                  var i = 0;\n\n                  while (i < slideCountNew && moved >= slidePositions[i]) {\n                    index = i;\n\n                    if (moved > slidePositions[i] && dist < 0) {\n                      index += 1;\n                    }\n\n                    i++;\n                  }\n                }\n              }\n\n              render(e, dist);\n              events.emit(isTouchEvent(e) ? 'touchEnd' : 'dragEnd', info(e));\n            });\n          } else {\n            if (moveDirectionExpected) {\n              onControlsClick(e, dist > 0 ? -1 : 1);\n            }\n          }\n        }\n      } // reset\n\n\n      if (options.preventScrollOnTouch === 'auto') {\n        preventScroll = false;\n      }\n\n      if (swipeAngle) {\n        moveDirectionExpected = '?';\n      }\n\n      if (autoplay && !animating) {\n        setAutoplayTimer();\n      }\n    } // === RESIZE FUNCTIONS === //\n    // (slidePositions, index, items) => vertical_conentWrapper.height\n\n\n    function updateContentWrapperHeight() {\n      var wp = middleWrapper ? middleWrapper : innerWrapper;\n      wp.style.height = slidePositions[index + items] - slidePositions[index] + 'px';\n    }\n\n    function getPages() {\n      var rough = fixedWidth ? (fixedWidth + gutter) * slideCount / viewport : slideCount / items;\n      return Math.min(Math.ceil(rough), slideCount);\n    }\n    /*\n     * 1. update visible nav items list\n     * 2. add \"hidden\" attributes to previous visible nav items\n     * 3. remove \"hidden\" attrubutes to new visible nav items\n     */\n\n\n    function updateNavVisibility() {\n      if (!nav || navAsThumbnails) {\n        return;\n      }\n\n      if (pages !== pagesCached) {\n        var min = pagesCached,\n            max = pages,\n            fn = showElement;\n\n        if (pagesCached > pages) {\n          min = pages;\n          max = pagesCached;\n          fn = hideElement;\n        }\n\n        while (min < max) {\n          fn(navItems[min]);\n          min++;\n        } // cache pages\n\n\n        pagesCached = pages;\n      }\n    }\n\n    function info(e) {\n      return {\n        container: container,\n        slideItems: slideItems,\n        navContainer: navContainer,\n        navItems: navItems,\n        controlsContainer: controlsContainer,\n        hasControls: hasControls,\n        prevButton: prevButton,\n        nextButton: nextButton,\n        items: items,\n        slideBy: slideBy,\n        cloneCount: cloneCount,\n        slideCount: slideCount,\n        slideCountNew: slideCountNew,\n        index: index,\n        indexCached: indexCached,\n        displayIndex: getCurrentSlide(),\n        navCurrentIndex: navCurrentIndex,\n        navCurrentIndexCached: navCurrentIndexCached,\n        pages: pages,\n        pagesCached: pagesCached,\n        sheet: sheet,\n        isOn: isOn,\n        event: e || {}\n      };\n    }\n\n    return {\n      version: '2.9.2',\n      getInfo: info,\n      events: events,\n      goTo: goTo,\n      play: play,\n      pause: pause,\n      isOn: isOn,\n      updateSliderHeight: updateInnerWrapperHeight,\n      refresh: initSliderTransform,\n      destroy: destroy,\n      rebuild: function rebuild() {\n        return tns(extend(options, optionsElements));\n      }\n    };\n  };\n\n  return tns;\n}();\n\nvar HomePage =\n/*#__PURE__*/\nfunction () {\n  function HomePage() {\n    _classCallCheck(this, HomePage);\n\n    this.message = 'Boilerplate Web Development';\n  }\n\n  _createClass(HomePage, [{\n    key: \"insertMessageOnHTML\",\n    value: function insertMessageOnHTML() {\n      var elementMessage = document.querySelector('#title');\n      elementMessage.innerText = this.message;\n    }\n  }, {\n    key: \"mountMainSlider\",\n    value: function mountMainSlider() {\n      return tns({\n        container: '.slider',\n        items: 1,\n        slideBy: 'page',\n        autoplay: true,\n        controls: false,\n        nav: true,\n        // axis: 'vertical',\n        mouseDrag: true,\n        navPosition: 'bottom',\n        autoplayButtonOutput: false,\n        responsive: {\n          768: {\n            items: 3\n          }\n        }\n      });\n    }\n  }]);\n\n  return HomePage;\n}();\n\n(function main(scripts) {\n  var HomePage = scripts.HomePage;\n  var home = new HomePage();\n  home.insertMessageOnHTML();\n  home.mountMainSlider();\n})({\n  HomePage: HomePage\n});\n\n},{}]},{},[1]);\n"]}